/*! jQuery v3.1.1 | (c) jQuery Foundation | jquery.org/license */
!function(a, b) {
    "use strict";
    "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function(a) {
        if (!a.document)
            throw new Error("jQuery requires a window with a document");
        return b(a)
    } : b(a)
}("undefined" != typeof window ? window : this, function(a, b) {
    "use strict";
    var c = [],
        d = a.document,
        e = Object.getPrototypeOf,
        f = c.slice,
        g = c.concat,
        h = c.push,
        i = c.indexOf,
        j = {},
        k = j.toString,
        l = j.hasOwnProperty,
        m = l.toString,
        n = m.call(Object),
        o = {};
    function p(a, b) {
        b = b || d;
        var c = b.createElement("script");
        c.text = a, b.head.appendChild(c).parentNode.removeChild(c)
    }
    var q = "3.1.1",
        r = function(a, b) {
            return new r.fn.init(a, b)
        },
        s = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        t = /^-ms-/,
        u = /-([a-z])/g,
        v = function(a, b) {
            return b.toUpperCase()
        };
    r.fn = r.prototype = {
        jquery: q,
        constructor: r,
        length: 0,
        toArray: function() {
            return f.call(this)
        },
        get: function(a) {
            return null == a ? f.call(this) : a < 0 ? this[a + this.length] : this[a]
        },
        pushStack: function(a) {
            var b = r.merge(this.constructor(), a);
            return b.prevObject = this, b
        },
        each: function(a) {
            return r.each(this, a)
        },
        map: function(a) {
            return this.pushStack(r.map(this, function(b, c) {
                return a.call(b, c, b)
            }))
        },
        slice: function() {
            return this.pushStack(f.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(a) {
            var b = this.length,
                c = +a + (a < 0 ? b : 0);
            return this.pushStack(c >= 0 && c < b ? [this[c]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor()
        },
        push: h,
        sort: c.sort,
        splice: c.splice
    }, r.extend = r.fn.extend = function() {
        var a,
            b,
            c,
            d,
            e,
            f,
            g = arguments[0] || {},
            h = 1,
            i = arguments.length,
            j = !1;
        for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || r.isFunction(g) || (g = {}), h === i && (g = this, h--); h < i; h++)
            if (null != (a = arguments[h]))
                for (b in a)
                    c = g[b], d = a[b], g !== d && (j && d && (r.isPlainObject(d) || (e = r.isArray(d))) ? (e ? (e = !1, f = c && r.isArray(c) ? c : []) : f = c && r.isPlainObject(c) ? c : {}, g[b] = r.extend(j, f, d)) : void 0 !== d && (g[b] = d));
        return g
    }, r.extend({
        expando: "jQuery" + (q + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(a) {
            throw new Error(a)
        },
        noop: function() {},
        isFunction: function(a) {
            return "function" === r.type(a)
        },
        isArray: Array.isArray,
        isWindow: function(a) {
            return null != a && a === a.window
        },
        isNumeric: function(a) {
            var b = r.type(a);
            return ("number" === b || "string" === b) && !isNaN(a - parseFloat(a))
        },
        isPlainObject: function(a) {
            var b,
                c;
            return !(!a || "[object Object]" !== k.call(a)) && (!(b = e(a)) || (c = l.call(b, "constructor") && b.constructor, "function" == typeof c && m.call(c) === n))
        },
        isEmptyObject: function(a) {
            var b;
            for (b in a)
                return !1;
            return !0
        },
        type: function(a) {
            return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? j[k.call(a)] || "object" : typeof a
        },
        globalEval: function(a) {
            p(a)
        },
        camelCase: function(a) {
            return a.replace(t, "ms-").replace(u, v)
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
        },
        each: function(a, b) {
            var c,
                d = 0;
            if (w(a)) {
                for (c = a.length; d < c; d++)
                    if (b.call(a[d], d, a[d]) === !1)
                        break
            } else
                for (d in a)
                    if (b.call(a[d], d, a[d]) === !1)
                        break;
            return a
        },
        trim: function(a) {
            return null == a ? "" : (a + "").replace(s, "")
        },
        makeArray: function(a, b) {
            var c = b || [];
            return null != a && (w(Object(a)) ? r.merge(c, "string" == typeof a ? [a] : a) : h.call(c, a)), c
        },
        inArray: function(a, b, c) {
            return null == b ? -1 : i.call(b, a, c)
        },
        merge: function(a, b) {
            for (var c = +b.length, d = 0, e = a.length; d < c; d++)
                a[e++] = b[d];
            return a.length = e, a
        },
        grep: function(a, b, c) {
            for (var d, e = [], f = 0, g = a.length, h = !c; f < g; f++)
                d = !b(a[f], f), d !== h && e.push(a[f]);
            return e
        },
        map: function(a, b, c) {
            var d,
                e,
                f = 0,
                h = [];
            if (w(a))
                for (d = a.length; f < d; f++)
                    e = b(a[f], f, c), null != e && h.push(e);
            else
                for (f in a)
                    e = b(a[f], f, c), null != e && h.push(e);
            return g.apply([], h)
        },
        guid: 1,
        proxy: function(a, b) {
            var c,
                d,
                e;
            if ("string" == typeof b && (c = a[b], b = a, a = c), r.isFunction(a))
                return d = f.call(arguments, 2), e = function() {
                    return a.apply(b || this, d.concat(f.call(arguments)))
                }, e.guid = a.guid = a.guid || r.guid++, e
        },
        now: Date.now,
        support: o
    }), "function" == typeof Symbol && (r.fn[Symbol.iterator] = c[Symbol.iterator]), r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(a, b) {
        j["[object " + b + "]"] = b.toLowerCase()
    });
    function w(a) {
        var b = !!a && "length" in a && a.length,
            c = r.type(a);
        return "function" !== c && !r.isWindow(a) && ("array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a)
    }
    var x = function(a) {
        var b,
            c,
            d,
            e,
            f,
            g,
            h,
            i,
            j,
            k,
            l,
            m,
            n,
            o,
            p,
            q,
            r,
            s,
            t,
            u = "sizzle" + 1 * new Date,
            v = a.document,
            w = 0,
            x = 0,
            y = ha(),
            z = ha(),
            A = ha(),
            B = function(a, b) {
                return a === b && (l = !0), 0
            },
            C = {}.hasOwnProperty,
            D = [],
            E = D.pop,
            F = D.push,
            G = D.push,
            H = D.slice,
            I = function(a, b) {
                for (var c = 0, d = a.length; c < d; c++)
                    if (a[c] === b)
                        return c;
                return -1
            },
            J = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            K = "[\\x20\\t\\r\\n\\f]",
            L = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
            M = "\\[" + K + "*(" + L + ")(?:" + K + "*([*^$|!~]?=)" + K + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + L + "))|)" + K + "*\\]",
            N = ":(" + L + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + M + ")*)|.*)\\)|)",
            O = new RegExp(K + "+", "g"),
            P = new RegExp("^" + K + "+|((?:^|[^\\\\])(?:\\\\.)*)" + K + "+$", "g"),
            Q = new RegExp("^" + K + "*," + K + "*"),
            R = new RegExp("^" + K + "*([>+~]|" + K + ")" + K + "*"),
            S = new RegExp("=" + K + "*([^\\]'\"]*?)" + K + "*\\]", "g"),
            T = new RegExp(N),
            U = new RegExp("^" + L + "$"),
            V = {
                ID: new RegExp("^#(" + L + ")"),
                CLASS: new RegExp("^\\.(" + L + ")"),
                TAG: new RegExp("^(" + L + "|[*])"),
                ATTR: new RegExp("^" + M),
                PSEUDO: new RegExp("^" + N),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + K + "*(even|odd|(([+-]|)(\\d*)n|)" + K + "*(?:([+-]|)" + K + "*(\\d+)|))" + K + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + J + ")$", "i"),
                needsContext: new RegExp("^" + K + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + K + "*((?:-\\d)?\\d*)" + K + "*\\)|)(?=[^-]|$)", "i")
            },
            W = /^(?:input|select|textarea|button)$/i,
            X = /^h\d$/i,
            Y = /^[^{]+\{\s*\[native \w/,
            Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            $ = /[+~]/,
            _ = new RegExp("\\\\([\\da-f]{1,6}" + K + "?|(" + K + ")|.)", "ig"),
            aa = function(a, b, c) {
                var d = "0x" + b - 65536;
                return d !== d || c ? b : d < 0 ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
            },
            ba = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
            ca = function(a, b) {
                return b ? "\0" === a ? "\ufffd" : a.slice(0, -1) + "\\" + a.charCodeAt(a.length - 1).toString(16) + " " : "\\" + a
            },
            da = function() {
                m()
            },
            ea = ta(function(a) {
                return a.disabled === !0 && ("form" in a || "label" in a)
            }, {
                dir: "parentNode",
                next: "legend"
            });
        try {
            G.apply(D = H.call(v.childNodes), v.childNodes), D[v.childNodes.length].nodeType
        } catch (fa) {
            G = {
                apply: D.length ? function(a, b) {
                    F.apply(a, H.call(b))
                } : function(a, b) {
                    var c = a.length,
                        d = 0;
                    while (a[c++] = b[d++])
                        ;
                    a.length = c - 1
                }
            }
        }
        function ga(a, b, d, e) {
            var f,
                h,
                j,
                k,
                l,
                o,
                r,
                s = b && b.ownerDocument,
                w = b ? b.nodeType : 9;
            if (d = d || [], "string" != typeof a || !a || 1 !== w && 9 !== w && 11 !== w)
                return d;
            if (!e && ((b ? b.ownerDocument || b : v) !== n && m(b), b = b || n, p)) {
                if (11 !== w && (l = Z.exec(a)))
                    if (f = l[1]) {
                        if (9 === w) {
                            if (!(j = b.getElementById(f)))
                                return d;
                            if (j.id === f)
                                return d.push(j), d
                        } else if (s && (j = s.getElementById(f)) && t(b, j) && j.id === f)
                            return d.push(j), d
                    } else {
                        if (l[2])
                            return G.apply(d, b.getElementsByTagName(a)), d;
                        if ((f = l[3]) && c.getElementsByClassName && b.getElementsByClassName)
                            return G.apply(d, b.getElementsByClassName(f)), d
                    }
                if (c.qsa && !A[a + " "] && (!q || !q.test(a))) {
                    if (1 !== w)
                        s = b, r = a;
                    else if ("object" !== b.nodeName.toLowerCase()) {
                        (k = b.getAttribute("id")) ? k = k.replace(ba, ca) : b.setAttribute("id", k = u), o = g(a), h = o.length;
                        while (h--)
                            o[h] = "#" + k + " " + sa(o[h]);
                        r = o.join(","), s = $.test(a) && qa(b.parentNode) || b
                    }
                    if (r)
                        try {
                            return G.apply(d, s.querySelectorAll(r)), d
                        } catch (x) {} finally {
                            k === u && b.removeAttribute("id")
                        }
                }
            }
            return i(a.replace(P, "$1"), b, d, e)
        }
        function ha() {
            var a = [];
            function b(c, e) {
                return a.push(c + " ") > d.cacheLength && delete b[a.shift()], b[c + " "] = e
            }
            return b
        }
        function ia(a) {
            return a[u] = !0, a
        }
        function ja(a) {
            var b = n.createElement("fieldset");
            try {
                return !!a(b)
            } catch (c) {
                return !1
            } finally {
                b.parentNode && b.parentNode.removeChild(b), b = null
            }
        }
        function ka(a, b) {
            var c = a.split("|"),
                e = c.length;
            while (e--)
                d.attrHandle[c[e]] = b
        }
        function la(a, b) {
            var c = b && a,
                d = c && 1 === a.nodeType && 1 === b.nodeType && a.sourceIndex - b.sourceIndex;
            if (d)
                return d;
            if (c)
                while (c = c.nextSibling)
                    if (c === b)
                        return -1;
            return a ? 1 : -1
        }
        function ma(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return "input" === c && b.type === a
            }
        }
        function na(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a
            }
        }
        function oa(a) {
            return function(b) {
                return "form" in b ? b.parentNode && b.disabled === !1 ? "label" in b ? "label" in b.parentNode ? b.parentNode.disabled === a : b.disabled === a : b.isDisabled === a || b.isDisabled !== !a && ea(b) === a : b.disabled === a : "label" in b && b.disabled === a
            }
        }
        function pa(a) {
            return ia(function(b) {
                return b = +b, ia(function(c, d) {
                    var e,
                        f = a([], c.length, b),
                        g = f.length;
                    while (g--)
                        c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                })
            })
        }
        function qa(a) {
            return a && "undefined" != typeof a.getElementsByTagName && a
        }
        c = ga.support = {}, f = ga.isXML = function(a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return !!b && "HTML" !== b.nodeName
        }, m = ga.setDocument = function(a) {
            var b,
                e,
                g = a ? a.ownerDocument || a : v;
            return g !== n && 9 === g.nodeType && g.documentElement ? (n = g, o = n.documentElement, p = !f(n), v !== n && (e = n.defaultView) && e.top !== e && (e.addEventListener ? e.addEventListener("unload", da, !1) : e.attachEvent && e.attachEvent("onunload", da)), c.attributes = ja(function(a) {
                return a.className = "i", !a.getAttribute("className")
            }), c.getElementsByTagName = ja(function(a) {
                return a.appendChild(n.createComment("")), !a.getElementsByTagName("*").length
            }), c.getElementsByClassName = Y.test(n.getElementsByClassName), c.getById = ja(function(a) {
                return o.appendChild(a).id = u, !n.getElementsByName || !n.getElementsByName(u).length
            }), c.getById ? (d.filter.ID = function(a) {
                var b = a.replace(_, aa);
                return function(a) {
                    return a.getAttribute("id") === b
                }
            }, d.find.ID = function(a, b) {
                if ("undefined" != typeof b.getElementById && p) {
                    var c = b.getElementById(a);
                    return c ? [c] : []
                }
            }) : (d.filter.ID = function(a) {
                var b = a.replace(_, aa);
                return function(a) {
                    var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id");
                    return c && c.value === b
                }
            }, d.find.ID = function(a, b) {
                if ("undefined" != typeof b.getElementById && p) {
                    var c,
                        d,
                        e,
                        f = b.getElementById(a);
                    if (f) {
                        if (c = f.getAttributeNode("id"), c && c.value === a)
                            return [f];
                        e = b.getElementsByName(a), d = 0;
                        while (f = e[d++])
                            if (c = f.getAttributeNode("id"), c && c.value === a)
                                return [f]
                    }
                    return []
                }
            }), d.find.TAG = c.getElementsByTagName ? function(a, b) {
                return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : c.qsa ? b.querySelectorAll(a) : void 0
            } : function(a, b) {
                var c,
                    d = [],
                    e = 0,
                    f = b.getElementsByTagName(a);
                if ("*" === a) {
                    while (c = f[e++])
                        1 === c.nodeType && d.push(c);
                    return d
                }
                return f
            }, d.find.CLASS = c.getElementsByClassName && function(a, b) {
                if ("undefined" != typeof b.getElementsByClassName && p)
                    return b.getElementsByClassName(a)
            }, r = [], q = [], (c.qsa = Y.test(n.querySelectorAll)) && (ja(function(a) {
                o.appendChild(a).innerHTML = "<a id='" + u + "'></a><select id='" + u + "-\r\\' msallowcapture=''><option selected=''></option></select>", a.querySelectorAll("[msallowcapture^='']").length && q.push("[*^$]=" + K + "*(?:''|\"\")"), a.querySelectorAll("[selected]").length || q.push("\\[" + K + "*(?:value|" + J + ")"), a.querySelectorAll("[id~=" + u + "-]").length || q.push("~="), a.querySelectorAll(":checked").length || q.push(":checked"), a.querySelectorAll("a#" + u + "+*").length || q.push(".#.+[+~]")
            }), ja(function(a) {
                a.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                var b = n.createElement("input");
                b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute("name", "D"), a.querySelectorAll("[name=d]").length && q.push("name" + K + "*[*^$|!~]?="), 2 !== a.querySelectorAll(":enabled").length && q.push(":enabled", ":disabled"), o.appendChild(a).disabled = !0, 2 !== a.querySelectorAll(":disabled").length && q.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), q.push(",.*:")
            })), (c.matchesSelector = Y.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && ja(function(a) {
                c.disconnectedMatch = s.call(a, "*"), s.call(a, "[s!='']:x"), r.push("!=", N)
            }), q = q.length && new RegExp(q.join("|")), r = r.length && new RegExp(r.join("|")), b = Y.test(o.compareDocumentPosition), t = b || Y.test(o.contains) ? function(a, b) {
                var c = 9 === a.nodeType ? a.documentElement : a,
                    d = b && b.parentNode;
                return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
            } : function(a, b) {
                if (b)
                    while (b = b.parentNode)
                        if (b === a)
                            return !0;
                return !1
            }, B = b ? function(a, b) {
                if (a === b)
                    return l = !0, 0;
                var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1, 1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === n || a.ownerDocument === v && t(v, a) ? -1 : b === n || b.ownerDocument === v && t(v, b) ? 1 : k ? I(k, a) - I(k, b) : 0 : 4 & d ? -1 : 1)
            } : function(a, b) {
                if (a === b)
                    return l = !0, 0;
                var c,
                    d = 0,
                    e = a.parentNode,
                    f = b.parentNode,
                    g = [a],
                    h = [b];
                if (!e || !f)
                    return a === n ? -1 : b === n ? 1 : e ? -1 : f ? 1 : k ? I(k, a) - I(k, b) : 0;
                if (e === f)
                    return la(a, b);
                c = a;
                while (c = c.parentNode)
                    g.unshift(c);
                c = b;
                while (c = c.parentNode)
                    h.unshift(c);
                while (g[d] === h[d])
                    d++;
                return d ? la(g[d], h[d]) : g[d] === v ? -1 : h[d] === v ? 1 : 0
            }, n) : n
        }, ga.matches = function(a, b) {
            return ga(a, null, null, b)
        }, ga.matchesSelector = function(a, b) {
            if ((a.ownerDocument || a) !== n && m(a), b = b.replace(S, "='$1']"), c.matchesSelector && p && !A[b + " "] && (!r || !r.test(b)) && (!q || !q.test(b)))
                try {
                    var d = s.call(a, b);
                    if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType)
                        return d
                } catch (e) {}
            return ga(b, n, null, [a]).length > 0
        }, ga.contains = function(a, b) {
            return (a.ownerDocument || a) !== n && m(a), t(a, b)
        }, ga.attr = function(a, b) {
            (a.ownerDocument || a) !== n && m(a);
            var e = d.attrHandle[b.toLowerCase()],
                f = e && C.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0;
            return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null
        }, ga.escape = function(a) {
            return (a + "").replace(ba, ca)
        }, ga.error = function(a) {
            throw new Error("Syntax error, unrecognized expression: " + a)
        }, ga.uniqueSort = function(a) {
            var b,
                d = [],
                e = 0,
                f = 0;
            if (l = !c.detectDuplicates, k = !c.sortStable && a.slice(0), a.sort(B), l) {
                while (b = a[f++])
                    b === a[f] && (e = d.push(f));
                while (e--)
                    a.splice(d[e], 1)
            }
            return k = null, a
        }, e = ga.getText = function(a) {
            var b,
                c = "",
                d = 0,
                f = a.nodeType;
            if (f) {
                if (1 === f || 9 === f || 11 === f) {
                    if ("string" == typeof a.textContent)
                        return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling)
                        c += e(a)
                } else if (3 === f || 4 === f)
                    return a.nodeValue
            } else
                while (b = a[d++])
                    c += e(b);
            return c
        }, d = ga.selectors = {
            cacheLength: 50,
            createPseudo: ia,
            match: V,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    return a[1] = a[1].replace(_, aa), a[3] = (a[3] || a[4] || a[5] || "").replace(_, aa), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4)
                },
                CHILD: function(a) {
                    return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || ga.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && ga.error(a[0]), a
                },
                PSEUDO: function(a) {
                    var b,
                        c = !a[6] && a[2];
                    return V.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && T.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a.slice(0, 3))
                }
            },
            filter: {
                TAG: function(a) {
                    var b = a.replace(_, aa).toLowerCase();
                    return "*" === a ? function() {
                        return !0
                    } : function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b
                    }
                },
                CLASS: function(a) {
                    var b = y[a + " "];
                    return b || (b = new RegExp("(^|" + K + ")" + a + "(" + K + "|$)")) && y(a, function(a) {
                            return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "")
                        })
                },
                ATTR: function(a, b, c) {
                    return function(d) {
                        var e = ga.attr(d, a);
                        return null == e ? "!=" === b : !b || (e += "", "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e.replace(O, " ") + " ").indexOf(c) > -1 : "|=" === b && (e === c || e.slice(0, c.length + 1) === c + "-"))
                    }
                },
                CHILD: function(a, b, c, d, e) {
                    var f = "nth" !== a.slice(0, 3),
                        g = "last" !== a.slice(-4),
                        h = "of-type" === b;
                    return 1 === d && 0 === e ? function(a) {
                        return !!a.parentNode
                    } : function(b, c, i) {
                        var j,
                            k,
                            l,
                            m,
                            n,
                            o,
                            p = f !== g ? "nextSibling" : "previousSibling",
                            q = b.parentNode,
                            r = h && b.nodeName.toLowerCase(),
                            s = !i && !h,
                            t = !1;
                        if (q) {
                            if (f) {
                                while (p) {
                                    m = b;
                                    while (m = m[p])
                                        if (h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType)
                                            return !1;
                                    o = p = "only" === a && !o && "nextSibling"
                                }
                                return !0
                            }
                            if (o = [g ? q.firstChild : q.lastChild], g && s) {
                                m = q, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === w && j[1], t = n && j[2], m = n && q.childNodes[n];
                                while (m = ++n && m && m[p] || (t = n = 0) || o.pop())
                                    if (1 === m.nodeType && ++t && m === b) {
                                        k[a] = [w, n, t];
                                        break
                                    }
                            } else if (s && (m = b, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[0] === w && j[1], t = n), t === !1)
                                while (m = ++n && m && m[p] || (t = n = 0) || o.pop())
                                    if ((h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType) && ++t && (s && (l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), k[a] = [w, t]), m === b))
                                        break;
                            return t -= e, t === d || t % d === 0 && t / d >= 0
                        }
                    }
                },
                PSEUDO: function(a, b) {
                    var c,
                        e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || ga.error("unsupported pseudo: " + a);
                    return e[u] ? e(b) : e.length > 1 ? (c = [a, a, "", b], d.setFilters.hasOwnProperty(a.toLowerCase()) ? ia(function(a, c) {
                        var d,
                            f = e(a, b),
                            g = f.length;
                        while (g--)
                            d = I(a, f[g]), a[d] = !(c[d] = f[g])
                    }) : function(a) {
                        return e(a, 0, c)
                    }) : e
                }
            },
            pseudos: {
                not: ia(function(a) {
                    var b = [],
                        c = [],
                        d = h(a.replace(P, "$1"));
                    return d[u] ? ia(function(a, b, c, e) {
                        var f,
                            g = d(a, null, e, []),
                            h = a.length;
                        while (h--)
                            (f = g[h]) && (a[h] = !(b[h] = f))
                    }) : function(a, e, f) {
                        return b[0] = a, d(b, null, f, c), b[0] = null, !c.pop()
                    }
                }),
                has: ia(function(a) {
                    return function(b) {
                        return ga(a, b).length > 0
                    }
                }),
                contains: ia(function(a) {
                    return a = a.replace(_, aa), function(b) {
                        return (b.textContent || b.innerText || e(b)).indexOf(a) > -1
                    }
                }),
                lang: ia(function(a) {
                    return U.test(a || "") || ga.error("unsupported lang: " + a), a = a.replace(_, aa).toLowerCase(), function(b) {
                        var c;
                        do if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang"))
                            return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-");
                        while ((b = b.parentNode) && 1 === b.nodeType);
                        return !1
                    }
                }),
                target: function(b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id
                },
                root: function(a) {
                    return a === o
                },
                focus: function(a) {
                    return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                },
                enabled: oa(!1),
                disabled: oa(!0),
                checked: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected
                },
                selected: function(a) {
                    return a.parentNode && a.parentNode.selectedIndex, a.selected === !0
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling)
                        if (a.nodeType < 6)
                            return !1;
                    return !0
                },
                parent: function(a) {
                    return !d.pseudos.empty(a)
                },
                header: function(a) {
                    return X.test(a.nodeName)
                },
                input: function(a) {
                    return W.test(a.nodeName)
                },
                button: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && "button" === a.type || "button" === b
                },
                text: function(a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                },
                first: pa(function() {
                    return [0]
                }),
                last: pa(function(a, b) {
                    return [b - 1]
                }),
                eq: pa(function(a, b, c) {
                    return [c < 0 ? c + b : c]
                }),
                even: pa(function(a, b) {
                    for (var c = 0; c < b; c += 2)
                        a.push(c);
                    return a
                }),
                odd: pa(function(a, b) {
                    for (var c = 1; c < b; c += 2)
                        a.push(c);
                    return a
                }),
                lt: pa(function(a, b, c) {
                    for (var d = c < 0 ? c + b : c; --d >= 0;)
                        a.push(d);
                    return a
                }),
                gt: pa(function(a, b, c) {
                    for (var d = c < 0 ? c + b : c; ++d < b;)
                        a.push(d);
                    return a
                })
            }
        }, d.pseudos.nth = d.pseudos.eq;
        for (b in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        })
            d.pseudos[b] = ma(b);
        for (b in {
            submit: !0,
            reset: !0
        })
            d.pseudos[b] = na(b);
        function ra() {}
        ra.prototype = d.filters = d.pseudos, d.setFilters = new ra, g = ga.tokenize = function(a, b) {
            var c,
                e,
                f,
                g,
                h,
                i,
                j,
                k = z[a + " "];
            if (k)
                return b ? 0 : k.slice(0);
            h = a, i = [], j = d.preFilter;
            while (h) {
                c && !(e = Q.exec(h)) || (e && (h = h.slice(e[0].length) || h), i.push(f = [])), c = !1, (e = R.exec(h)) && (c = e.shift(), f.push({
                    value: c,
                    type: e[0].replace(P, " ")
                }), h = h.slice(c.length));
                for (g in d.filter)
                    !(e = V[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(), f.push({
                        value: c,
                        type: g,
                        matches: e
                    }), h = h.slice(c.length));
                if (!c)
                    break
            }
            return b ? h.length : h ? ga.error(a) : z(a, i).slice(0)
        };
        function sa(a) {
            for (var b = 0, c = a.length, d = ""; b < c; b++)
                d += a[b].value;
            return d
        }
        function ta(a, b, c) {
            var d = b.dir,
                e = b.next,
                f = e || d,
                g = c && "parentNode" === f,
                h = x++;
            return b.first ? function(b, c, e) {
                while (b = b[d])
                    if (1 === b.nodeType || g)
                        return a(b, c, e);
                return !1
            } : function(b, c, i) {
                var j,
                    k,
                    l,
                    m = [w, h];
                if (i) {
                    while (b = b[d])
                        if ((1 === b.nodeType || g) && a(b, c, i))
                            return !0
                } else
                    while (b = b[d])
                        if (1 === b.nodeType || g)
                            if (l = b[u] || (b[u] = {}), k = l[b.uniqueID] || (l[b.uniqueID] = {}), e && e === b.nodeName.toLowerCase())
                                b = b[d] || b;
                            else {
                                if ((j = k[f]) && j[0] === w && j[1] === h)
                                    return m[2] = j[2];
                                if (k[f] = m, m[2] = a(b, c, i))
                                    return !0
                            }
                return !1
            }
        }
        function ua(a) {
            return a.length > 1 ? function(b, c, d) {
                var e = a.length;
                while (e--)
                    if (!a[e](b, c, d))
                        return !1;
                return !0
            } : a[0]
        }
        function va(a, b, c) {
            for (var d = 0, e = b.length; d < e; d++)
                ga(a, b[d], c);
            return c
        }
        function wa(a, b, c, d, e) {
            for (var f, g = [], h = 0, i = a.length, j = null != b; h < i; h++)
                (f = a[h]) && (c && !c(f, d, e) || (g.push(f), j && b.push(h)));
            return g
        }
        function xa(a, b, c, d, e, f) {
            return d && !d[u] && (d = xa(d)), e && !e[u] && (e = xa(e, f)), ia(function(f, g, h, i) {
                var j,
                    k,
                    l,
                    m = [],
                    n = [],
                    o = g.length,
                    p = f || va(b || "*", h.nodeType ? [h] : h, []),
                    q = !a || !f && b ? p : wa(p, m, a, h, i),
                    r = c ? e || (f ? a : o || d) ? [] : g : q;
                if (c && c(q, r, h, i), d) {
                    j = wa(r, n), d(j, [], h, i), k = j.length;
                    while (k--)
                        (l = j[k]) && (r[n[k]] = !(q[n[k]] = l))
                }
                if (f) {
                    if (e || a) {
                        if (e) {
                            j = [], k = r.length;
                            while (k--)
                                (l = r[k]) && j.push(q[k] = l);
                            e(null, r = [], j, i)
                        }
                        k = r.length;
                        while (k--)
                            (l = r[k]) && (j = e ? I(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l))
                    }
                } else
                    r = wa(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : G.apply(g, r)
            })
        }
        function ya(a) {
            for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = ta(function(a) {
                    return a === b
                }, h, !0), l = ta(function(a) {
                    return I(b, a) > -1
                }, h, !0), m = [function(a, c, d) {
                    var e = !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d));
                    return b = null, e
                }]; i < f; i++)
                if (c = d.relative[a[i].type])
                    m = [ta(ua(m), c)];
                else {
                    if (c = d.filter[a[i].type].apply(null, a[i].matches), c[u]) {
                        for (e = ++i; e < f; e++)
                            if (d.relative[a[e].type])
                                break;
                        return xa(i > 1 && ua(m), i > 1 && sa(a.slice(0, i - 1).concat({
                            value: " " === a[i - 2].type ? "*" : ""
                        })).replace(P, "$1"), c, i < e && ya(a.slice(i, e)), e < f && ya(a = a.slice(e)), e < f && sa(a))
                    }
                    m.push(c)
                }
            return ua(m)
        }
        function za(a, b) {
            var c = b.length > 0,
                e = a.length > 0,
                f = function(f, g, h, i, k) {
                    var l,
                        o,
                        q,
                        r = 0,
                        s = "0",
                        t = f && [],
                        u = [],
                        v = j,
                        x = f || e && d.find.TAG("*", k),
                        y = w += null == v ? 1 : Math.random() || .1,
                        z = x.length;
                    for (k && (j = g === n || g || k); s !== z && null != (l = x[s]); s++) {
                        if (e && l) {
                            o = 0, g || l.ownerDocument === n || (m(l), h = !p);
                            while (q = a[o++])
                                if (q(l, g || n, h)) {
                                    i.push(l);
                                    break
                                }
                            k && (w = y)
                        }
                        c && ((l = !q && l) && r--, f && t.push(l))
                    }
                    if (r += s, c && s !== r) {
                        o = 0;
                        while (q = b[o++])
                            q(t, u, g, h);
                        if (f) {
                            if (r > 0)
                                while (s--)
                                    t[s] || u[s] || (u[s] = E.call(i));
                            u = wa(u)
                        }
                        G.apply(i, u), k && !f && u.length > 0 && r + b.length > 1 && ga.uniqueSort(i)
                    }
                    return k && (w = y, j = v), t
                };
            return c ? ia(f) : f
        }
        return h = ga.compile = function(a, b) {
            var c,
                d = [],
                e = [],
                f = A[a + " "];
            if (!f) {
                b || (b = g(a)), c = b.length;
                while (c--)
                    f = ya(b[c]), f[u] ? d.push(f) : e.push(f);
                f = A(a, za(e, d)), f.selector = a
            }
            return f
        }, i = ga.select = function(a, b, c, e) {
            var f,
                i,
                j,
                k,
                l,
                m = "function" == typeof a && a,
                n = !e && g(a = m.selector || a);
            if (c = c || [], 1 === n.length) {
                if (i = n[0] = n[0].slice(0), i.length > 2 && "ID" === (j = i[0]).type && 9 === b.nodeType && p && d.relative[i[1].type]) {
                    if (b = (d.find.ID(j.matches[0].replace(_, aa), b) || [])[0], !b)
                        return c;
                    m && (b = b.parentNode), a = a.slice(i.shift().value.length)
                }
                f = V.needsContext.test(a) ? 0 : i.length;
                while (f--) {
                    if (j = i[f], d.relative[k = j.type])
                        break;
                    if ((l = d.find[k]) && (e = l(j.matches[0].replace(_, aa), $.test(i[0].type) && qa(b.parentNode) || b))) {
                        if (i.splice(f, 1), a = e.length && sa(i), !a)
                            return G.apply(c, e), c;
                        break
                    }
                }
            }
            return (m || h(a, n))(e, b, !p, c, !b || $.test(a) && qa(b.parentNode) || b), c
        }, c.sortStable = u.split("").sort(B).join("") === u, c.detectDuplicates = !!l, m(), c.sortDetached = ja(function(a) {
            return 1 & a.compareDocumentPosition(n.createElement("fieldset"))
        }), ja(function(a) {
            return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href")
        }) || ka("type|href|height|width", function(a, b, c) {
            if (!c)
                return a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
        }), c.attributes && ja(function(a) {
            return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value")
        }) || ka("value", function(a, b, c) {
            if (!c && "input" === a.nodeName.toLowerCase())
                return a.defaultValue
        }), ja(function(a) {
            return null == a.getAttribute("disabled")
        }) || ka(J, function(a, b, c) {
            var d;
            if (!c)
                return a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
        }), ga
    }(a);
    r.find = x, r.expr = x.selectors, r.expr[":"] = r.expr.pseudos, r.uniqueSort = r.unique = x.uniqueSort, r.text = x.getText, r.isXMLDoc = x.isXML, r.contains = x.contains, r.escapeSelector = x.escape;
    var y = function(a, b, c) {
            var d = [],
                e = void 0 !== c;
            while ((a = a[b]) && 9 !== a.nodeType)
                if (1 === a.nodeType) {
                    if (e && r(a).is(c))
                        break;
                    d.push(a)
                }
            return d
        },
        z = function(a, b) {
            for (var c = []; a; a = a.nextSibling)
                1 === a.nodeType && a !== b && c.push(a);
            return c
        },
        A = r.expr.match.needsContext,
        B = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,
        C = /^.[^:#\[\.,]*$/;
    function D(a, b, c) {
        return r.isFunction(b) ? r.grep(a, function(a, d) {
            return !!b.call(a, d, a) !== c
        }) : b.nodeType ? r.grep(a, function(a) {
            return a === b !== c
        }) : "string" != typeof b ? r.grep(a, function(a) {
            return i.call(b, a) > -1 !== c
        }) : C.test(b) ? r.filter(b, a, c) : (b = r.filter(b, a), r.grep(a, function(a) {
            return i.call(b, a) > -1 !== c && 1 === a.nodeType
        }))
    }
    r.filter = function(a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? r.find.matchesSelector(d, a) ? [d] : [] : r.find.matches(a, r.grep(b, function(a) {
            return 1 === a.nodeType
        }))
    }, r.fn.extend({
        find: function(a) {
            var b,
                c,
                d = this.length,
                e = this;
            if ("string" != typeof a)
                return this.pushStack(r(a).filter(function() {
                    for (b = 0; b < d; b++)
                        if (r.contains(e[b], this))
                            return !0
                }));
            for (c = this.pushStack([]), b = 0; b < d; b++)
                r.find(a, e[b], c);
            return d > 1 ? r.uniqueSort(c) : c
        },
        filter: function(a) {
            return this.pushStack(D(this, a || [], !1))
        },
        not: function(a) {
            return this.pushStack(D(this, a || [], !0))
        },
        is: function(a) {
            return !!D(this, "string" == typeof a && A.test(a) ? r(a) : a || [], !1).length
        }
    });
    var E,
        F = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
        G = r.fn.init = function(a, b, c) {
            var e,
                f;
            if (!a)
                return this;
            if (c = c || E, "string" == typeof a) {
                if (e = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : F.exec(a), !e || !e[1] && b)
                    return !b || b.jquery ? (b || c).find(a) : this.constructor(b).find(a);
                if (e[1]) {
                    if (b = b instanceof r ? b[0] : b, r.merge(this, r.parseHTML(e[1], b && b.nodeType ? b.ownerDocument || b : d, !0)), B.test(e[1]) && r.isPlainObject(b))
                        for (e in b)
                            r.isFunction(this[e]) ? this[e](b[e]) : this.attr(e, b[e]);
                    return this
                }
                return f = d.getElementById(e[2]), f && (this[0] = f, this.length = 1), this
            }
            return a.nodeType ? (this[0] = a, this.length = 1, this) : r.isFunction(a) ? void 0 !== c.ready ? c.ready(a) : a(r) : r.makeArray(a, this)
        };
    G.prototype = r.fn, E = r(d);
    var H = /^(?:parents|prev(?:Until|All))/,
        I = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    r.fn.extend({
        has: function(a) {
            var b = r(a, this),
                c = b.length;
            return this.filter(function() {
                for (var a = 0; a < c; a++)
                    if (r.contains(this, b[a]))
                        return !0
            })
        },
        closest: function(a, b) {
            var c,
                d = 0,
                e = this.length,
                f = [],
                g = "string" != typeof a && r(a);
            if (!A.test(a))
                for (; d < e; d++)
                    for (c = this[d]; c && c !== b; c = c.parentNode)
                        if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && r.find.matchesSelector(c, a))) {
                            f.push(c);
                            break
                        }
            return this.pushStack(f.length > 1 ? r.uniqueSort(f) : f)
        },
        index: function(a) {
            return a ? "string" == typeof a ? i.call(r(a), this[0]) : i.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(a, b) {
            return this.pushStack(r.uniqueSort(r.merge(this.get(), r(a, b))))
        },
        addBack: function(a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
        }
    });
    function J(a, b) {
        while ((a = a[b]) && 1 !== a.nodeType)
            ;
        return a
    }
    r.each({
        parent: function(a) {
            var b = a.parentNode;
            return b && 11 !== b.nodeType ? b : null
        },
        parents: function(a) {
            return y(a, "parentNode")
        },
        parentsUntil: function(a, b, c) {
            return y(a, "parentNode", c)
        },
        next: function(a) {
            return J(a, "nextSibling")
        },
        prev: function(a) {
            return J(a, "previousSibling")
        },
        nextAll: function(a) {
            return y(a, "nextSibling")
        },
        prevAll: function(a) {
            return y(a, "previousSibling")
        },
        nextUntil: function(a, b, c) {
            return y(a, "nextSibling", c)
        },
        prevUntil: function(a, b, c) {
            return y(a, "previousSibling", c)
        },
        siblings: function(a) {
            return z((a.parentNode || {}).firstChild, a)
        },
        children: function(a) {
            return z(a.firstChild)
        },
        contents: function(a) {
            return a.contentDocument || r.merge([], a.childNodes)
        }
    }, function(a, b) {
        r.fn[a] = function(c, d) {
            var e = r.map(this, b, c);
            return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = r.filter(d, e)), this.length > 1 && (I[a] || r.uniqueSort(e), H.test(a) && e.reverse()), this.pushStack(e)
        }
    });
    var K = /[^\x20\t\r\n\f]+/g;
    function L(a) {
        var b = {};
        return r.each(a.match(K) || [], function(a, c) {
            b[c] = !0
        }), b
    }
    r.Callbacks = function(a) {
        a = "string" == typeof a ? L(a) : r.extend({}, a);
        var b,
            c,
            d,
            e,
            f = [],
            g = [],
            h = -1,
            i = function() {
                for (e = a.once, d = b = !0; g.length; h = -1) {
                    c = g.shift();
                    while (++h < f.length)
                        f[h].apply(c[0], c[1]) === !1 && a.stopOnFalse && (h = f.length, c = !1)
                }
                a.memory || (c = !1), b = !1, e && (f = c ? [] : "")
            },
            j = {
                add: function() {
                    return f && (c && !b && (h = f.length - 1, g.push(c)), function d(b) {
                        r.each(b, function(b, c) {
                            r.isFunction(c) ? a.unique && j.has(c) || f.push(c) : c && c.length && "string" !== r.type(c) && d(c)
                        })
                    }(arguments), c && !b && i()), this
                },
                remove: function() {
                    return r.each(arguments, function(a, b) {
                        var c;
                        while ((c = r.inArray(b, f, c)) > -1)
                            f.splice(c, 1), c <= h && h--
                    }), this
                },
                has: function(a) {
                    return a ? r.inArray(a, f) > -1 : f.length > 0
                },
                empty: function() {
                    return f && (f = []), this
                },
                disable: function() {
                    return e = g = [], f = c = "", this
                },
                disabled: function() {
                    return !f
                },
                lock: function() {
                    return e = g = [], c || b || (f = c = ""), this
                },
                locked: function() {
                    return !!e
                },
                fireWith: function(a, c) {
                    return e || (c = c || [], c = [a, c.slice ? c.slice() : c], g.push(c), b || i()), this
                },
                fire: function() {
                    return j.fireWith(this, arguments), this
                },
                fired: function() {
                    return !!d
                }
            };
        return j
    };
    function M(a) {
        return a
    }
    function N(a) {
        throw a
    }
    function O(a, b, c) {
        var d;
        try {
            a && r.isFunction(d = a.promise) ? d.call(a).done(b).fail(c) : a && r.isFunction(d = a.then) ? d.call(a, b, c) : b.call(void 0, a)
        } catch (a) {
            c.call(void 0, a)
        }
    }
    r.extend({
        Deferred: function(b) {
            var c = [["notify", "progress", r.Callbacks("memory"), r.Callbacks("memory"), 2], ["resolve", "done", r.Callbacks("once memory"), r.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", r.Callbacks("once memory"), r.Callbacks("once memory"), 1, "rejected"]],
                d = "pending",
                e = {
                    state: function() {
                        return d
                    },
                    always: function() {
                        return f.done(arguments).fail(arguments), this
                    },
                    "catch": function(a) {
                        return e.then(null, a)
                    },
                    pipe: function() {
                        var a = arguments;
                        return r.Deferred(function(b) {
                            r.each(c, function(c, d) {
                                var e = r.isFunction(a[d[4]]) && a[d[4]];
                                f[d[1]](function() {
                                    var a = e && e.apply(this, arguments);
                                    a && r.isFunction(a.promise) ? a.promise().progress(b.notify).done(b.resolve).fail(b.reject) : b[d[0] + "With"](this, e ? [a] : arguments)
                                })
                            }), a = null
                        }).promise()
                    },
                    then: function(b, d, e) {
                        var f = 0;
                        function g(b, c, d, e) {
                            return function() {
                                var h = this,
                                    i = arguments,
                                    j = function() {
                                        var a,
                                            j;
                                        if (!(b < f)) {
                                            if (a = d.apply(h, i), a === c.promise())
                                                throw new TypeError("Thenable self-resolution");
                                            j = a && ("object" == typeof a || "function" == typeof a) && a.then, r.isFunction(j) ? e ? j.call(a, g(f, c, M, e), g(f, c, N, e)) : (f++, j.call(a, g(f, c, M, e), g(f, c, N, e), g(f, c, M, c.notifyWith))) : (d !== M && (h = void 0, i = [a]), (e || c.resolveWith)(h, i))
                                        }
                                    },
                                    k = e ? j : function() {
                                        try {
                                            j()
                                        } catch (a) {
                                            r.Deferred.exceptionHook && r.Deferred.exceptionHook(a, k.stackTrace), b + 1 >= f && (d !== N && (h = void 0, i = [a]), c.rejectWith(h, i))
                                        }
                                    };
                                b ? k() : (r.Deferred.getStackHook && (k.stackTrace = r.Deferred.getStackHook()), a.setTimeout(k))
                            }
                        }
                        return r.Deferred(function(a) {
                            c[0][3].add(g(0, a, r.isFunction(e) ? e : M, a.notifyWith)), c[1][3].add(g(0, a, r.isFunction(b) ? b : M)), c[2][3].add(g(0, a, r.isFunction(d) ? d : N))
                        }).promise()
                    },
                    promise: function(a) {
                        return null != a ? r.extend(a, e) : e
                    }
                },
                f = {};
            return r.each(c, function(a, b) {
                var g = b[2],
                    h = b[5];
                e[b[1]] = g.add, h && g.add(function() {
                    d = h
                }, c[3 - a][2].disable, c[0][2].lock), g.add(b[3].fire), f[b[0]] = function() {
                    return f[b[0] + "With"](this === f ? void 0 : this, arguments), this
                }, f[b[0] + "With"] = g.fireWith
            }), e.promise(f), b && b.call(f, f), f
        },
        when: function(a) {
            var b = arguments.length,
                c = b,
                d = Array(c),
                e = f.call(arguments),
                g = r.Deferred(),
                h = function(a) {
                    return function(c) {
                        d[a] = this, e[a] = arguments.length > 1 ? f.call(arguments) : c, --b || g.resolveWith(d, e)
                    }
                };
            if (b <= 1 && (O(a, g.done(h(c)).resolve, g.reject), "pending" === g.state() || r.isFunction(e[c] && e[c].then)))
                return g.then();
            while (c--)
                O(e[c], h(c), g.reject);
            return g.promise()
        }
    });
    var P = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
    r.Deferred.exceptionHook = function(b, c) {
        a.console && a.console.warn && b && P.test(b.name) && a.console.warn("jQuery.Deferred exception: " + b.message, b.stack, c)
    }, r.readyException = function(b) {
        a.setTimeout(function() {
            throw b
        })
    };
    var Q = r.Deferred();
    r.fn.ready = function(a) {
        return Q.then(a)["catch"](function(a) {
            r.readyException(a)
        }), this
    }, r.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? r.readyWait++ : r.ready(!0)
        },
        ready: function(a) {
            (a === !0 ? --r.readyWait : r.isReady) || (r.isReady = !0, a !== !0 && --r.readyWait > 0 || Q.resolveWith(d, [r]))
        }
    }), r.ready.then = Q.then;
    function R() {
        d.removeEventListener("DOMContentLoaded", R),
        a.removeEventListener("load", R), r.ready()
    }
    "complete" === d.readyState || "loading" !== d.readyState && !d.documentElement.doScroll ? a.setTimeout(r.ready) : (d.addEventListener("DOMContentLoaded", R), a.addEventListener("load", R));
    var S = function(a, b, c, d, e, f, g) {
            var h = 0,
                i = a.length,
                j = null == c;
            if ("object" === r.type(c)) {
                e = !0;
                for (h in c)
                    S(a, b, h, c[h], !0, f, g)
            } else if (void 0 !== d && (e = !0, r.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b = null) : (j = b, b = function(a, b, c) {
                return j.call(r(a), c)
            })), b))
                for (; h < i; h++)
                    b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
            return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
        },
        T = function(a) {
            return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
        };
    function U() {
        this.expando = r.expando + U.uid++
    }
    U.uid = 1, U.prototype = {
        cache: function(a) {
            var b = a[this.expando];
            return b || (b = {}, T(a) && (a.nodeType ? a[this.expando] = b : Object.defineProperty(a, this.expando, {
                value: b,
                configurable: !0
            }))), b
        },
        set: function(a, b, c) {
            var d,
                e = this.cache(a);
            if ("string" == typeof b)
                e[r.camelCase(b)] = c;
            else
                for (d in b)
                    e[r.camelCase(d)] = b[d];
            return e
        },
        get: function(a, b) {
            return void 0 === b ? this.cache(a) : a[this.expando] && a[this.expando][r.camelCase(b)]
        },
        access: function(a, b, c) {
            return void 0 === b || b && "string" == typeof b && void 0 === c ? this.get(a, b) : (this.set(a, b, c), void 0 !== c ? c : b)
        },
        remove: function(a, b) {
            var c,
                d = a[this.expando];
            if (void 0 !== d) {
                if (void 0 !== b) {
                    r.isArray(b) ? b = b.map(r.camelCase) : (b = r.camelCase(b), b = b in d ? [b] : b.match(K) || []), c = b.length;
                    while (c--)
                        delete d[b[c]]
                }
                (void 0 === b || r.isEmptyObject(d)) && (a.nodeType ? a[this.expando] = void 0 : delete a[this.expando])
            }
        },
        hasData: function(a) {
            var b = a[this.expando];
            return void 0 !== b && !r.isEmptyObject(b)
        }
    };
    var V = new U,
        W = new U,
        X = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        Y = /[A-Z]/g;
    function Z(a) {
        return "true" === a || "false" !== a && ("null" === a ? null : a === +a + "" ? +a : X.test(a) ? JSON.parse(a) : a)
    }
    function $(a, b, c) {
        var d;
        if (void 0 === c && 1 === a.nodeType)
            if (d = "data-" + b.replace(Y, "-$&").toLowerCase(), c = a.getAttribute(d), "string" == typeof c) {
                try {
                    c = Z(c)
                } catch (e) {}
                W.set(a, b, c)
            } else
                c = void 0;
        return c
    }
    r.extend({
        hasData: function(a) {
            return W.hasData(a) || V.hasData(a)
        },
        data: function(a, b, c) {
            return W.access(a, b, c)
        },
        removeData: function(a, b) {
            W.remove(a, b)
        },
        _data: function(a, b, c) {
            return V.access(a, b, c)
        },
        _removeData: function(a, b) {
            V.remove(a, b)
        }
    }), r.fn.extend({
        data: function(a, b) {
            var c,
                d,
                e,
                f = this[0],
                g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = W.get(f), 1 === f.nodeType && !V.get(f, "hasDataAttrs"))) {
                    c = g.length;
                    while (c--)
                        g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = r.camelCase(d.slice(5)), $(f, d, e[d])));
                    V.set(f, "hasDataAttrs", !0)
                }
                return e
            }
            return "object" == typeof a ? this.each(function() {
                W.set(this, a)
            }) : S(this, function(b) {
                var c;
                if (f && void 0 === b) {
                    if (c = W.get(f, a), void 0 !== c)
                        return c;
                    if (c = $(f, a), void 0 !== c)
                        return c
                } else
                    this.each(function() {
                        W.set(this, a, b)
                    })
            }, null, b, arguments.length > 1, null, !0)
        },
        removeData: function(a) {
            return this.each(function() {
                W.remove(this, a)
            })
        }
    }), r.extend({
        queue: function(a, b, c) {
            var d;
            if (a)
                return b = (b || "fx") + "queue", d = V.get(a, b), c && (!d || r.isArray(c) ? d = V.access(a, b, r.makeArray(c)) : d.push(c)), d || []
        },
        dequeue: function(a, b) {
            b = b || "fx";
            var c = r.queue(a, b),
                d = c.length,
                e = c.shift(),
                f = r._queueHooks(a, b),
                g = function() {
                    r.dequeue(a, b)
                };
            "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire()
        },
        _queueHooks: function(a, b) {
            var c = b + "queueHooks";
            return V.get(a, c) || V.access(a, c, {
                    empty: r.Callbacks("once memory").add(function() {
                        V.remove(a, [b + "queue", c])
                    })
                })
        }
    }), r.fn.extend({
        queue: function(a, b) {
            var c = 2;
            return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? r.queue(this[0], a) : void 0 === b ? this : this.each(function() {
                var c = r.queue(this, a, b);
                r._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && r.dequeue(this, a)
            })
        },
        dequeue: function(a) {
            return this.each(function() {
                r.dequeue(this, a)
            })
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", [])
        },
        promise: function(a, b) {
            var c,
                d = 1,
                e = r.Deferred(),
                f = this,
                g = this.length,
                h = function() {
                    --d || e.resolveWith(f, [f])
                };
            "string" != typeof a && (b = a, a = void 0), a = a || "fx";
            while (g--)
                c = V.get(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(h));
            return h(), e.promise(b)
        }
    });
    var _ = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        aa = new RegExp("^(?:([+-])=|)(" + _ + ")([a-z%]*)$", "i"),
        ba = ["Top", "Right", "Bottom", "Left"],
        ca = function(a, b) {
            return a = b || a, "none" === a.style.display || "" === a.style.display && r.contains(a.ownerDocument, a) && "none" === r.css(a, "display")
        },
        da = function(a, b, c, d) {
            var e,
                f,
                g = {};
            for (f in b)
                g[f] = a.style[f], a.style[f] = b[f];
            e = c.apply(a, d || []);
            for (f in b)
                a.style[f] = g[f];
            return e
        };
    function ea(a, b, c, d) {
        var e,
            f = 1,
            g = 20,
            h = d ? function() {
                return d.cur()
            } : function() {
                return r.css(a, b, "")
            },
            i = h(),
            j = c && c[3] || (r.cssNumber[b] ? "" : "px"),
            k = (r.cssNumber[b] || "px" !== j && +i) && aa.exec(r.css(a, b));
        if (k && k[3] !== j) {
            j = j || k[3], c = c || [], k = +i || 1;
            do f = f || ".5", k /= f, r.style(a, b, k + j);
            while (f !== (f = h() / i) && 1 !== f && --g)
        }
        return c && (k = +k || +i || 0, e = c[1] ? k + (c[1] + 1) * c[2] : +c[2], d && (d.unit = j, d.start = k, d.end = e)), e
    }
    var fa = {};
    function ga(a) {
        var b,
            c = a.ownerDocument,
            d = a.nodeName,
            e = fa[d];
        return e ? e : (b = c.body.appendChild(c.createElement(d)), e = r.css(b, "display"), b.parentNode.removeChild(b), "none" === e && (e = "block"), fa[d] = e, e)
    }
    function ha(a, b) {
        for (var c, d, e = [], f = 0, g = a.length; f < g; f++)
            d = a[f], d.style && (c = d.style.display, b ? ("none" === c && (e[f] = V.get(d, "display") || null, e[f] || (d.style.display = "")), "" === d.style.display && ca(d) && (e[f] = ga(d))) : "none" !== c && (e[f] = "none", V.set(d, "display", c)));
        for (f = 0; f < g; f++)
            null != e[f] && (a[f].style.display = e[f]);
        return a
    }
    r.fn.extend({
        show: function() {
            return ha(this, !0)
        },
        hide: function() {
            return ha(this)
        },
        toggle: function(a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                ca(this) ? r(this).show() : r(this).hide()
            })
        }
    });
    var ia = /^(?:checkbox|radio)$/i,
        ja = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i,
        ka = /^$|\/(?:java|ecma)script/i,
        la = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
    la.optgroup = la.option, la.tbody = la.tfoot = la.colgroup = la.caption = la.thead, la.th = la.td;
    function ma(a, b) {
        var c;
        return c = "undefined" != typeof a.getElementsByTagName ? a.getElementsByTagName(b || "*") : "undefined" != typeof a.querySelectorAll ? a.querySelectorAll(b || "*") : [], void 0 === b || b && r.nodeName(a, b) ? r.merge([a], c) : c
    }
    function na(a, b) {
        for (var c = 0, d = a.length; c < d; c++)
            V.set(a[c], "globalEval", !b || V.get(b[c], "globalEval"))
    }
    var oa = /<|&#?\w+;/;
    function pa(a, b, c, d, e) {
        for (var f, g, h, i, j, k, l = b.createDocumentFragment(), m = [], n = 0, o = a.length; n < o; n++)
            if (f = a[n], f || 0 === f)
                if ("object" === r.type(f))
                    r.merge(m, f.nodeType ? [f] : f);
                else if (oa.test(f)) {
                    g = g || l.appendChild(b.createElement("div")), h = (ja.exec(f) || ["", ""])[1].toLowerCase(), i = la[h] || la._default, g.innerHTML = i[1] + r.htmlPrefilter(f) + i[2], k = i[0];
                    while (k--)
                        g = g.lastChild;
                    r.merge(m, g.childNodes), g = l.firstChild, g.textContent = ""
                } else
                    m.push(b.createTextNode(f));
        l.textContent = "", n = 0;
        while (f = m[n++])
            if (d && r.inArray(f, d) > -1)
                e && e.push(f);
            else if (j = r.contains(f.ownerDocument, f), g = ma(l.appendChild(f), "script"), j && na(g), c) {
                k = 0;
                while (f = g[k++])
                    ka.test(f.type || "") && c.push(f)
            }
        return l
    }
    !function() {
        var a = d.createDocumentFragment(),
            b = a.appendChild(d.createElement("div")),
            c = d.createElement("input");
        c.setAttribute("type", "radio"), c.setAttribute("checked", "checked"), c.setAttribute("name", "t"), b.appendChild(c), o.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML = "<textarea>x</textarea>", o.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
    }();
    var qa = d.documentElement,
        ra = /^key/,
        sa = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        ta = /^([^.]*)(?:\.(.+)|)/;
    function ua() {
        return !0
    }
    function va() {
        return !1
    }
    function wa() {
        try {
            return d.activeElement
        } catch (a) {}
    }
    function xa(a, b, c, d, e, f) {
        var g,
            h;
        if ("object" == typeof b) {
            "string" != typeof c && (d = d || c, c = void 0);
            for (h in b)
                xa(a, h, c, d, b[h], f);
            return a
        }
        if (null == d && null == e ? (e = c, d = c = void 0) : null == e && ("string" == typeof c ? (e = d, d = void 0) : (e = d, d = c, c = void 0)), e === !1)
            e = va;
        else if (!e)
            return a;
        return 1 === f && (g = e, e = function(a) {
            return r().off(a), g.apply(this, arguments)
        }, e.guid = g.guid || (g.guid = r.guid++)), a.each(function() {
            r.event.add(this, b, e, d, c)
        })
    }
    r.event = {
        global: {},
        add: function(a, b, c, d, e) {
            var f,
                g,
                h,
                i,
                j,
                k,
                l,
                m,
                n,
                o,
                p,
                q = V.get(a);
            if (q) {
                c.handler && (f = c, c = f.handler, e = f.selector), e && r.find.matchesSelector(qa, e), c.guid || (c.guid = r.guid++), (i = q.events) || (i = q.events = {}), (g = q.handle) || (g = q.handle = function(b) {
                    return "undefined" != typeof r && r.event.triggered !== b.type ? r.event.dispatch.apply(a, arguments) : void 0
                }), b = (b || "").match(K) || [""], j = b.length;
                while (j--)
                    h = ta.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n && (l = r.event.special[n] || {}, n = (e ? l.delegateType : l.bindType) || n, l = r.event.special[n] || {}, k = r.extend({
                        type: n,
                        origType: p,
                        data: d,
                        handler: c,
                        guid: c.guid,
                        selector: e,
                        needsContext: e && r.expr.match.needsContext.test(e),
                        namespace: o.join(".")
                    }, f), (m = i[n]) || (m = i[n] = [], m.delegateCount = 0, l.setup && l.setup.call(a, d, o, g) !== !1 || a.addEventListener && a.addEventListener(n, g)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), r.event.global[n] = !0)
            }
        },
        remove: function(a, b, c, d, e) {
            var f,
                g,
                h,
                i,
                j,
                k,
                l,
                m,
                n,
                o,
                p,
                q = V.hasData(a) && V.get(a);
            if (q && (i = q.events)) {
                b = (b || "").match(K) || [""], j = b.length;
                while (j--)
                    if (h = ta.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n) {
                        l = r.event.special[n] || {}, n = (d ? l.delegateType : l.bindType) || n, m = i[n] || [], h = h[2] && new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length;
                        while (f--)
                            k = m[f], !e && p !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k));
                        g && !m.length && (l.teardown && l.teardown.call(a, o, q.handle) !== !1 || r.removeEvent(a, n, q.handle), delete i[n])
                    } else
                        for (n in i)
                            r.event.remove(a, n + b[j], c, d, !0);
                r.isEmptyObject(i) && V.remove(a, "handle events")
            }
        },
        dispatch: function(a) {
            var b = r.event.fix(a),
                c,
                d,
                e,
                f,
                g,
                h,
                i = new Array(arguments.length),
                j = (V.get(this, "events") || {})[b.type] || [],
                k = r.event.special[b.type] || {};
            for (i[0] = b, c = 1; c < arguments.length; c++)
                i[c] = arguments[c];
            if (b.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, b) !== !1) {
                h = r.event.handlers.call(this, b, j), c = 0;
                while ((f = h[c++]) && !b.isPropagationStopped()) {
                    b.currentTarget = f.elem, d = 0;
                    while ((g = f.handlers[d++]) && !b.isImmediatePropagationStopped())
                        b.rnamespace && !b.rnamespace.test(g.namespace) || (b.handleObj = g, b.data = g.data, e = ((r.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i), void 0 !== e && (b.result = e) === !1 && (b.preventDefault(), b.stopPropagation()))
                }
                return k.postDispatch && k.postDispatch.call(this, b), b.result
            }
        },
        handlers: function(a, b) {
            var c,
                d,
                e,
                f,
                g,
                h = [],
                i = b.delegateCount,
                j = a.target;
            if (i && j.nodeType && !("click" === a.type && a.button >= 1))
                for (; j !== this; j = j.parentNode || this)
                    if (1 === j.nodeType && ("click" !== a.type || j.disabled !== !0)) {
                        for (f = [], g = {}, c = 0; c < i; c++)
                            d = b[c], e = d.selector + " ", void 0 === g[e] && (g[e] = d.needsContext ? r(e, this).index(j) > -1 : r.find(e, this, null, [j]).length), g[e] && f.push(d);
                        f.length && h.push({
                            elem: j,
                            handlers: f
                        })
                    }
            return j = this, i < b.length && h.push({
                elem: j,
                handlers: b.slice(i)
            }), h
        },
        addProp: function(a, b) {
            Object.defineProperty(r.Event.prototype, a, {
                enumerable: !0,
                configurable: !0,
                get: r.isFunction(b) ? function() {
                    if (this.originalEvent)
                        return b(this.originalEvent)
                } : function() {
                    if (this.originalEvent)
                        return this.originalEvent[a]
                },
                set: function(b) {
                    Object.defineProperty(this, a, {
                        enumerable: !0,
                        configurable: !0,
                        writable: !0,
                        value: b
                    })
                }
            })
        },
        fix: function(a) {
            return a[r.expando] ? a : new r.Event(a)
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== wa() && this.focus)
                        return this.focus(), !1
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    if (this === wa() && this.blur)
                        return this.blur(), !1
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    if ("checkbox" === this.type && this.click && r.nodeName(this, "input"))
                        return this.click(), !1
                },
                _default: function(a) {
                    return r.nodeName(a.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result)
                }
            }
        }
    }, r.removeEvent = function(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c)
    }, r.Event = function(a, b) {
        return this instanceof r.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? ua : va, this.target = a.target && 3 === a.target.nodeType ? a.target.parentNode : a.target, this.currentTarget = a.currentTarget, this.relatedTarget = a.relatedTarget) : this.type = a, b && r.extend(this, b), this.timeStamp = a && a.timeStamp || r.now(), void (this[r.expando] = !0)) : new r.Event(a, b)
    }, r.Event.prototype = {
        constructor: r.Event,
        isDefaultPrevented: va,
        isPropagationStopped: va,
        isImmediatePropagationStopped: va,
        isSimulated: !1,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = ua, a && !this.isSimulated && a.preventDefault()
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = ua, a && !this.isSimulated && a.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var a = this.originalEvent;
            this.isImmediatePropagationStopped = ua, a && !this.isSimulated && a.stopImmediatePropagation(), this.stopPropagation()
        }
    }, r.each({
        altKey: !0,
        bubbles: !0,
        cancelable: !0,
        changedTouches: !0,
        ctrlKey: !0,
        detail: !0,
        eventPhase: !0,
        metaKey: !0,
        pageX: !0,
        pageY: !0,
        shiftKey: !0,
        view: !0,
        "char": !0,
        charCode: !0,
        key: !0,
        keyCode: !0,
        button: !0,
        buttons: !0,
        clientX: !0,
        clientY: !0,
        offsetX: !0,
        offsetY: !0,
        pointerId: !0,
        pointerType: !0,
        screenX: !0,
        screenY: !0,
        targetTouches: !0,
        toElement: !0,
        touches: !0,
        which: function(a) {
            var b = a.button;
            return null == a.which && ra.test(a.type) ? null != a.charCode ? a.charCode : a.keyCode : !a.which && void 0 !== b && sa.test(a.type) ? 1 & b ? 1 : 2 & b ? 3 : 4 & b ? 2 : 0 : a.which
        }
    }, r.event.addProp), r.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(a, b) {
        r.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c,
                    d = this,
                    e = a.relatedTarget,
                    f = a.handleObj;
                return e && (e === d || r.contains(d, e)) || (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c
            }
        }
    }), r.fn.extend({
        on: function(a, b, c, d) {
            return xa(this, a, b, c, d)
        },
        one: function(a, b, c, d) {
            return xa(this, a, b, c, d, 1)
        },
        off: function(a, b, c) {
            var d,
                e;
            if (a && a.preventDefault && a.handleObj)
                return d = a.handleObj, r(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler), this;
            if ("object" == typeof a) {
                for (e in a)
                    this.off(e, b, a[e]);
                return this
            }
            return b !== !1 && "function" != typeof b || (c = b, b = void 0), c === !1 && (c = va), this.each(function() {
                r.event.remove(this, a, c, b)
            })
        }
    });
    var ya = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
        za = /<script|<style|<link/i,
        Aa = /checked\s*(?:[^=]|=\s*.checked.)/i,
        Ba = /^true\/(.*)/,
        Ca = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
    function Da(a, b) {
        return r.nodeName(a, "table") && r.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a : a
    }
    function Ea(a) {
        return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a
    }
    function Fa(a) {
        var b = Ba.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"), a
    }
    function Ga(a, b) {
        var c,
            d,
            e,
            f,
            g,
            h,
            i,
            j;
        if (1 === b.nodeType) {
            if (V.hasData(a) && (f = V.access(a), g = V.set(b, f), j = f.events)) {
                delete g.handle, g.events = {};
                for (e in j)
                    for (c = 0, d = j[e].length; c < d; c++)
                        r.event.add(b, e, j[e][c])
            }
            W.hasData(a) && (h = W.access(a), i = r.extend({}, h), W.set(b, i))
        }
    }
    function Ha(a, b) {
        var c = b.nodeName.toLowerCase();
        "input" === c && ia.test(a.type) ? b.checked = a.checked : "input" !== c && "textarea" !== c || (b.defaultValue = a.defaultValue)
    }
    function Ia(a, b, c, d) {
        b = g.apply([], b);
        var e,
            f,
            h,
            i,
            j,
            k,
            l = 0,
            m = a.length,
            n = m - 1,
            q = b[0],
            s = r.isFunction(q);
        if (s || m > 1 && "string" == typeof q && !o.checkClone && Aa.test(q))
            return a.each(function(e) {
                var f = a.eq(e);
                s && (b[0] = q.call(this, e, f.html())), Ia(f, b, c, d)
            });
        if (m && (e = pa(b, a[0].ownerDocument, !1, a, d), f = e.firstChild, 1 === e.childNodes.length && (e = f), f || d)) {
            for (h = r.map(ma(e, "script"), Ea), i = h.length; l < m; l++)
                j = e, l !== n && (j = r.clone(j, !0, !0), i && r.merge(h, ma(j, "script"))), c.call(a[l], j, l);
            if (i)
                for (k = h[h.length - 1].ownerDocument, r.map(h, Fa), l = 0; l < i; l++)
                    j = h[l], ka.test(j.type || "") && !V.access(j, "globalEval") && r.contains(k, j) && (j.src ? r._evalUrl && r._evalUrl(j.src) : p(j.textContent.replace(Ca, ""), k))
        }
        return a
    }
    function Ja(a, b, c) {
        for (var d, e = b ? r.filter(b, a) : a, f = 0; null != (d = e[f]); f++)
            c || 1 !== d.nodeType || r.cleanData(ma(d)), d.parentNode && (c && r.contains(d.ownerDocument, d) && na(ma(d, "script")), d.parentNode.removeChild(d));
        return a
    }
    r.extend({
        htmlPrefilter: function(a) {
            return a.replace(ya, "<$1></$2>")
        },
        clone: function(a, b, c) {
            var d,
                e,
                f,
                g,
                h = a.cloneNode(!0),
                i = r.contains(a.ownerDocument, a);
            if (!(o.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || r.isXMLDoc(a)))
                for (g = ma(h), f = ma(a), d = 0, e = f.length; d < e; d++)
                    Ha(f[d], g[d]);
            if (b)
                if (c)
                    for (f = f || ma(a), g = g || ma(h), d = 0, e = f.length; d < e; d++)
                        Ga(f[d], g[d]);
                else
                    Ga(a, h);
            return g = ma(h, "script"), g.length > 0 && na(g, !i && ma(a, "script")), h
        },
        cleanData: function(a) {
            for (var b, c, d, e = r.event.special, f = 0; void 0 !== (c = a[f]); f++)
                if (T(c)) {
                    if (b = c[V.expando]) {
                        if (b.events)
                            for (d in b.events)
                                e[d] ? r.event.remove(c, d) : r.removeEvent(c, d, b.handle);
                        c[V.expando] = void 0
                    }
                    c[W.expando] && (c[W.expando] = void 0)
                }
        }
    }), r.fn.extend({
        detach: function(a) {
            return Ja(this, a, !0)
        },
        remove: function(a) {
            return Ja(this, a)
        },
        text: function(a) {
            return S(this, function(a) {
                return void 0 === a ? r.text(this) : this.empty().each(function() {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = a)
                })
            }, null, a, arguments.length)
        },
        append: function() {
            return Ia(this, arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = Da(this, a);
                    b.appendChild(a)
                }
            })
        },
        prepend: function() {
            return Ia(this, arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = Da(this, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        },
        before: function() {
            return Ia(this, arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this)
            })
        },
        after: function() {
            return Ia(this, arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
            })
        },
        empty: function() {
            for (var a, b = 0; null != (a = this[b]); b++)
                1 === a.nodeType && (r.cleanData(ma(a, !1)), a.textContent = "");
            return this
        },
        clone: function(a, b) {
            return a = null != a && a, b = null == b ? a : b, this.map(function() {
                return r.clone(this, a, b)
            })
        },
        html: function(a) {
            return S(this, function(a) {
                var b = this[0] || {},
                    c = 0,
                    d = this.length;
                if (void 0 === a && 1 === b.nodeType)
                    return b.innerHTML;
                if ("string" == typeof a && !za.test(a) && !la[(ja.exec(a) || ["", ""])[1].toLowerCase()]) {
                    a = r.htmlPrefilter(a);
                    try {
                        for (; c < d; c++)
                            b = this[c] || {}, 1 === b.nodeType && (r.cleanData(ma(b, !1)), b.innerHTML = a);
                        b = 0
                    } catch (e) {}
                }
                b && this.empty().append(a)
            }, null, a, arguments.length)
        },
        replaceWith: function() {
            var a = [];
            return Ia(this, arguments, function(b) {
                var c = this.parentNode;
                r.inArray(this, a) < 0 && (r.cleanData(ma(this)), c && c.replaceChild(b, this))
            }, a)
        }
    }), r.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, b) {
        r.fn[a] = function(a) {
            for (var c, d = [], e = r(a), f = e.length - 1, g = 0; g <= f; g++)
                c = g === f ? this : this.clone(!0), r(e[g])[b](c), h.apply(d, c.get());
            return this.pushStack(d)
        }
    });
    var Ka = /^margin/,
        La = new RegExp("^(" + _ + ")(?!px)[a-z%]+$", "i"),
        Ma = function(b) {
            var c = b.ownerDocument.defaultView;
            return c && c.opener || (c = a), c.getComputedStyle(b)
        };
    !function() {
        function b() {
            if (i) {
                i.style.cssText = "box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%", i.innerHTML = "", qa.appendChild(h);
                var b = a.getComputedStyle(i);
                c = "1%" !== b.top, g = "2px" === b.marginLeft, e = "4px" === b.width, i.style.marginRight = "50%", f = "4px" === b.marginRight, qa.removeChild(h), i = null
            }
        }
        var c,
            e,
            f,
            g,
            h = d.createElement("div"),
            i = d.createElement("div");
        i.style && (i.style.backgroundClip = "content-box", i.cloneNode(!0).style.backgroundClip = "", o.clearCloneStyle = "content-box" === i.style.backgroundClip, h.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", h.appendChild(i), r.extend(o, {
            pixelPosition: function() {
                return b(), c
            },
            boxSizingReliable: function() {
                return b(), e
            },
            pixelMarginRight: function() {
                return b(), f
            },
            reliableMarginLeft: function() {
                return b(), g
            }
        }))
    }();
    function Na(a, b, c) {
        var d,
            e,
            f,
            g,
            h = a.style;
        return c = c || Ma(a), c && (g = c.getPropertyValue(b) || c[b], "" !== g || r.contains(a.ownerDocument, a) || (g = r.style(a, b)), !o.pixelMarginRight() && La.test(g) && Ka.test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 !== g ? g + "" : g
    }
    function Oa(a, b) {
        return {
            get: function() {
                return a() ? void delete this.get : (this.get = b).apply(this, arguments)
            }
        }
    }
    var Pa = /^(none|table(?!-c[ea]).+)/,
        Qa = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Ra = {
            letterSpacing: "0",
            fontWeight: "400"
        },
        Sa = ["Webkit", "Moz", "ms"],
        Ta = d.createElement("div").style;
    function Ua(a) {
        if (a in Ta)
            return a;
        var b = a[0].toUpperCase() + a.slice(1),
            c = Sa.length;
        while (c--)
            if (a = Sa[c] + b, a in Ta)
                return a
    }
    function Va(a, b, c) {
        var d = aa.exec(b);
        return d ? Math.max(0, d[2] - (c || 0)) + (d[3] || "px") : b
    }
    function Wa(a, b, c, d, e) {
        var f,
            g = 0;
        for (f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0; f < 4; f += 2)
            "margin" === c && (g += r.css(a, c + ba[f], !0, e)), d ? ("content" === c && (g -= r.css(a, "padding" + ba[f], !0, e)), "margin" !== c && (g -= r.css(a, "border" + ba[f] + "Width", !0, e))) : (g += r.css(a, "padding" + ba[f], !0, e), "padding" !== c && (g += r.css(a, "border" + ba[f] + "Width", !0, e)));
        return g
    }
    function Xa(a, b, c) {
        var d,
            e = !0,
            f = Ma(a),
            g = "border-box" === r.css(a, "boxSizing", !1, f);
        if (a.getClientRects().length && (d = a.getBoundingClientRect()[b]), d <= 0 || null == d) {
            if (d = Na(a, b, f), (d < 0 || null == d) && (d = a.style[b]), La.test(d))
                return d;
            e = g && (o.boxSizingReliable() || d === a.style[b]), d = parseFloat(d) || 0
        }
        return d + Wa(a, b, c || (g ? "border" : "content"), e, f) + "px"
    }
    r.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var c = Na(a, "opacity");
                        return "" === c ? "1" : c
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function(a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var e,
                    f,
                    g,
                    h = r.camelCase(b),
                    i = a.style;
                return b = r.cssProps[h] || (r.cssProps[h] = Ua(h) || h), g = r.cssHooks[b] || r.cssHooks[h], void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : (f = typeof c, "string" === f && (e = aa.exec(c)) && e[1] && (c = ea(a, b, e), f = "number"), null != c && c === c && ("number" === f && (c += e && e[3] || (r.cssNumber[h] ? "" : "px")), o.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a, c, d)) || (i[b] = c)), void 0)
            }
        },
        css: function(a, b, c, d) {
            var e,
                f,
                g,
                h = r.camelCase(b);
            return b = r.cssProps[h] || (r.cssProps[h] = Ua(h) || h), g = r.cssHooks[b] || r.cssHooks[h], g && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = Na(a, b, d)), "normal" === e && b in Ra && (e = Ra[b]), "" === c || c ? (f = parseFloat(e), c === !0 || isFinite(f) ? f || 0 : e) : e
        }
    }), r.each(["height", "width"], function(a, b) {
        r.cssHooks[b] = {
            get: function(a, c, d) {
                if (c)
                    return !Pa.test(r.css(a, "display")) || a.getClientRects().length && a.getBoundingClientRect().width ? Xa(a, b, d) : da(a, Qa, function() {
                        return Xa(a, b, d)
                    })
            },
            set: function(a, c, d) {
                var e,
                    f = d && Ma(a),
                    g = d && Wa(a, b, d, "border-box" === r.css(a, "boxSizing", !1, f), f);
                return g && (e = aa.exec(c)) && "px" !== (e[3] || "px") && (a.style[b] = c, c = r.css(a, b)), Va(a, c, g)
            }
        }
    }), r.cssHooks.marginLeft = Oa(o.reliableMarginLeft, function(a, b) {
        if (b)
            return (parseFloat(Na(a, "marginLeft")) || a.getBoundingClientRect().left - da(a, {
                marginLeft: 0
            }, function() {
                return a.getBoundingClientRect().left
            })) + "px"
    }), r.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, b) {
        r.cssHooks[a + b] = {
            expand: function(c) {
                for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; d < 4; d++)
                    e[a + ba[d] + b] = f[d] || f[d - 2] || f[0];
                return e
            }
        }, Ka.test(a) || (r.cssHooks[a + b].set = Va)
    }), r.fn.extend({
        css: function(a, b) {
            return S(this, function(a, b, c) {
                var d,
                    e,
                    f = {},
                    g = 0;
                if (r.isArray(b)) {
                    for (d = Ma(a), e = b.length; g < e; g++)
                        f[b[g]] = r.css(a, b[g], !1, d);
                    return f
                }
                return void 0 !== c ? r.style(a, b, c) : r.css(a, b)
            }, a, b, arguments.length > 1)
        }
    });
    function Ya(a, b, c, d, e) {
        return new Ya.prototype.init(a, b, c, d, e)
    }
    r.Tween = Ya, Ya.prototype = {
        constructor: Ya,
        init: function(a, b, c, d, e, f) {
            this.elem = a, this.prop = c, this.easing = e || r.easing._default, this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (r.cssNumber[c] ? "" : "px")
        },
        cur: function() {
            var a = Ya.propHooks[this.prop];
            return a && a.get ? a.get(this) : Ya.propHooks._default.get(this)
        },
        run: function(a) {
            var b,
                c = Ya.propHooks[this.prop];
            return this.options.duration ? this.pos = b = r.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = b = a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : Ya.propHooks._default.set(this), this
        }
    }, Ya.prototype.init.prototype = Ya.prototype, Ya.propHooks = {
        _default: {
            get: function(a) {
                var b;
                return 1 !== a.elem.nodeType || null != a.elem[a.prop] && null == a.elem.style[a.prop] ? a.elem[a.prop] : (b = r.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0)
            },
            set: function(a) {
                r.fx.step[a.prop] ? r.fx.step[a.prop](a) : 1 !== a.elem.nodeType || null == a.elem.style[r.cssProps[a.prop]] && !r.cssHooks[a.prop] ? a.elem[a.prop] = a.now : r.style(a.elem, a.prop, a.now + a.unit)
            }
        }
    }, Ya.propHooks.scrollTop = Ya.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
        }
    }, r.easing = {
        linear: function(a) {
            return a
        },
        swing: function(a) {
            return .5 - Math.cos(a * Math.PI) / 2
        },
        _default: "swing"
    }, r.fx = Ya.prototype.init, r.fx.step = {};
    var Za,
        $a,
        _a = /^(?:toggle|show|hide)$/,
        ab = /queueHooks$/;
    function bb() {
        $a && (a.requestAnimationFrame(bb), r.fx.tick())
    }
    function cb() {
        return a.setTimeout(function() {
            Za = void 0
        }), Za = r.now()
    }
    function db(a, b) {
        var c,
            d = 0,
            e = {
                height: a
            };
        for (b = b ? 1 : 0; d < 4; d += 2 - b)
            c = ba[d], e["margin" + c] = e["padding" + c] = a;
        return b && (e.opacity = e.width = a), e
    }
    function eb(a, b, c) {
        for (var d, e = (hb.tweeners[b] || []).concat(hb.tweeners["*"]), f = 0, g = e.length; f < g; f++)
            if (d = e[f].call(c, b, a))
                return d
    }
    function fb(a, b, c) {
        var d,
            e,
            f,
            g,
            h,
            i,
            j,
            k,
            l = "width" in b || "height" in b,
            m = this,
            n = {},
            o = a.style,
            p = a.nodeType && ca(a),
            q = V.get(a, "fxshow");
        c.queue || (g = r._queueHooks(a, "fx"), null == g.unqueued && (g.unqueued = 0, h = g.empty.fire, g.empty.fire = function() {
            g.unqueued || h()
        }), g.unqueued++, m.always(function() {
            m.always(function() {
                g.unqueued--, r.queue(a, "fx").length || g.empty.fire()
            })
        }));
        for (d in b)
            if (e = b[d], _a.test(e)) {
                if (delete b[d], f = f || "toggle" === e, e === (p ? "hide" : "show")) {
                    if ("show" !== e || !q || void 0 === q[d])
                        continue;
                    p = !0
                }
                n[d] = q && q[d] || r.style(a, d)
            }
        if (i = !r.isEmptyObject(b), i || !r.isEmptyObject(n)) {
            l && 1 === a.nodeType && (c.overflow = [o.overflow, o.overflowX, o.overflowY], j = q && q.display, null == j && (j = V.get(a, "display")), k = r.css(a, "display"), "none" === k && (j ? k = j : (ha([a], !0), j = a.style.display || j, k = r.css(a, "display"), ha([a]))), ("inline" === k || "inline-block" === k && null != j) && "none" === r.css(a, "float") && (i || (m.done(function() {
                o.display = j
            }), null == j && (k = o.display, j = "none" === k ? "" : k)), o.display = "inline-block")), c.overflow && (o.overflow = "hidden", m.always(function() {
                o.overflow = c.overflow[0], o.overflowX = c.overflow[1], o.overflowY = c.overflow[2]
            })), i = !1;
            for (d in n)
                i || (q ? "hidden" in q && (p = q.hidden) : q = V.access(a, "fxshow", {
                    display: j
                }), f && (q.hidden = !p), p && ha([a], !0), m.done(function() {
                    p || ha([a]), V.remove(a, "fxshow");
                    for (d in n)
                        r.style(a, d, n[d])
                })), i = eb(p ? q[d] : 0, d, m), d in q || (q[d] = i.start, p && (i.end = i.start, i.start = 0))
        }
    }
    function gb(a, b) {
        var c,
            d,
            e,
            f,
            g;
        for (c in a)
            if (d = r.camelCase(c), e = b[d], f = a[c], r.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = r.cssHooks[d], g && "expand" in g) {
                f = g.expand(f), delete a[d];
                for (c in f)
                    c in a || (a[c] = f[c], b[c] = e)
            } else
                b[d] = e
    }
    function hb(a, b, c) {
        var d,
            e,
            f = 0,
            g = hb.prefilters.length,
            h = r.Deferred().always(function() {
                delete i.elem
            }),
            i = function() {
                if (e)
                    return !1;
                for (var b = Za || cb(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; g < i; g++)
                    j.tweens[g].run(f);
                return h.notifyWith(a, [j, f, c]), f < 1 && i ? c : (h.resolveWith(a, [j]), !1)
            },
            j = h.promise({
                elem: a,
                props: r.extend({}, b),
                opts: r.extend(!0, {
                    specialEasing: {},
                    easing: r.easing._default
                }, c),
                originalProperties: b,
                originalOptions: c,
                startTime: Za || cb(),
                duration: c.duration,
                tweens: [],
                createTween: function(b, c) {
                    var d = r.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                    return j.tweens.push(d), d
                },
                stop: function(b) {
                    var c = 0,
                        d = b ? j.tweens.length : 0;
                    if (e)
                        return this;
                    for (e = !0; c < d; c++)
                        j.tweens[c].run(1);
                    return b ? (h.notifyWith(a, [j, 1, 0]), h.resolveWith(a, [j, b])) : h.rejectWith(a, [j, b]), this
                }
            }),
            k = j.props;
        for (gb(k, j.opts.specialEasing); f < g; f++)
            if (d = hb.prefilters[f].call(j, a, k, j.opts))
                return r.isFunction(d.stop) && (r._queueHooks(j.elem, j.opts.queue).stop = r.proxy(d.stop, d)), d;
        return r.map(k, eb, j), r.isFunction(j.opts.start) && j.opts.start.call(a, j), r.fx.timer(r.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
    }
    r.Animation = r.extend(hb, {
        tweeners: {
            "*": [function(a, b) {
                var c = this.createTween(a, b);
                return ea(c.elem, a, aa.exec(b), c), c
            }]
        },
        tweener: function(a, b) {
            r.isFunction(a) ? (b = a, a = ["*"]) : a = a.match(K);
            for (var c, d = 0, e = a.length; d < e; d++)
                c = a[d], hb.tweeners[c] = hb.tweeners[c] || [], hb.tweeners[c].unshift(b)
        },
        prefilters: [fb],
        prefilter: function(a, b) {
            b ? hb.prefilters.unshift(a) : hb.prefilters.push(a)
        }
    }), r.speed = function(a, b, c) {
        var e = a && "object" == typeof a ? r.extend({}, a) : {
            complete: c || !c && b || r.isFunction(a) && a,
            duration: a,
            easing: c && b || b && !r.isFunction(b) && b
        };
        return r.fx.off || d.hidden ? e.duration = 0 : "number" != typeof e.duration && (e.duration in r.fx.speeds ? e.duration = r.fx.speeds[e.duration] : e.duration = r.fx.speeds._default), null != e.queue && e.queue !== !0 || (e.queue = "fx"), e.old = e.complete, e.complete = function() {
            r.isFunction(e.old) && e.old.call(this), e.queue && r.dequeue(this, e.queue)
        }, e
    }, r.fn.extend({
        fadeTo: function(a, b, c, d) {
            return this.filter(ca).css("opacity", 0).show().end().animate({
                opacity: b
            }, a, c, d)
        },
        animate: function(a, b, c, d) {
            var e = r.isEmptyObject(a),
                f = r.speed(b, c, d),
                g = function() {
                    var b = hb(this, r.extend({}, a), f);
                    (e || V.get(this, "finish")) && b.stop(!0)
                };
            return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
        },
        stop: function(a, b, c) {
            var d = function(a) {
                var b = a.stop;
                delete a.stop, b(c)
            };
            return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this.queue(a || "fx", []), this.each(function() {
                var b = !0,
                    e = null != a && a + "queueHooks",
                    f = r.timers,
                    g = V.get(this);
                if (e)
                    g[e] && g[e].stop && d(g[e]);
                else
                    for (e in g)
                        g[e] && g[e].stop && ab.test(e) && d(g[e]);
                for (e = f.length; e--;)
                    f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1));
                !b && c || r.dequeue(this, a)
            })
        },
        finish: function(a) {
            return a !== !1 && (a = a || "fx"), this.each(function() {
                var b,
                    c = V.get(this),
                    d = c[a + "queue"],
                    e = c[a + "queueHooks"],
                    f = r.timers,
                    g = d ? d.length : 0;
                for (c.finish = !0, r.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;)
                    f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
                for (b = 0; b < g; b++)
                    d[b] && d[b].finish && d[b].finish.call(this);
                delete c.finish
            })
        }
    }), r.each(["toggle", "show", "hide"], function(a, b) {
        var c = r.fn[b];
        r.fn[b] = function(a, d, e) {
            return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(db(b, !0), a, d, e)
        }
    }), r.each({
        slideDown: db("show"),
        slideUp: db("hide"),
        slideToggle: db("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(a, b) {
        r.fn[a] = function(a, c, d) {
            return this.animate(b, a, c, d)
        }
    }), r.timers = [], r.fx.tick = function() {
        var a,
            b = 0,
            c = r.timers;
        for (Za = r.now(); b < c.length; b++)
            a = c[b], a() || c[b] !== a || c.splice(b--, 1);
        c.length || r.fx.stop(), Za = void 0
    }, r.fx.timer = function(a) {
        r.timers.push(a), a() ? r.fx.start() : r.timers.pop()
    }, r.fx.interval = 13, r.fx.start = function() {
        $a || ($a = a.requestAnimationFrame ? a.requestAnimationFrame(bb) : a.setInterval(r.fx.tick, r.fx.interval))
    }, r.fx.stop = function() {
        a.cancelAnimationFrame ? a.cancelAnimationFrame($a) : a.clearInterval($a), $a = null
    }, r.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    }, r.fn.delay = function(b, c) {
        return b = r.fx ? r.fx.speeds[b] || b : b, c = c || "fx", this.queue(c, function(c, d) {
            var e = a.setTimeout(c, b);
            d.stop = function() {
                a.clearTimeout(e)
            }
        })
    }, function() {
        var a = d.createElement("input"),
            b = d.createElement("select"),
            c = b.appendChild(d.createElement("option"));
        a.type = "checkbox", o.checkOn = "" !== a.value, o.optSelected = c.selected, a = d.createElement("input"), a.value = "t", a.type = "radio", o.radioValue = "t" === a.value
    }();
    var ib,
        jb = r.expr.attrHandle;
    r.fn.extend({
        attr: function(a, b) {
            return S(this, r.attr, a, b, arguments.length > 1)
        },
        removeAttr: function(a) {
            return this.each(function() {
                r.removeAttr(this, a)
            })
        }
    }), r.extend({
        attr: function(a, b, c) {
            var d,
                e,
                f = a.nodeType;
            if (3 !== f && 8 !== f && 2 !== f)
                return "undefined" == typeof a.getAttribute ? r.prop(a, b, c) : (1 === f && r.isXMLDoc(a) || (e = r.attrHooks[b.toLowerCase()] || (r.expr.match.bool.test(b) ? ib : void 0)),
                void 0 !== c ? null === c ? void r.removeAttr(a, b) : e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : (a.setAttribute(b, c + ""), c) : e && "get" in e && null !== (d = e.get(a, b)) ? d : (d = r.find.attr(a, b), null == d ? void 0 : d))
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!o.radioValue && "radio" === b && r.nodeName(a, "input")) {
                        var c = a.value;
                        return a.setAttribute("type", b), c && (a.value = c), b
                    }
                }
            }
        },
        removeAttr: function(a, b) {
            var c,
                d = 0,
                e = b && b.match(K);
            if (e && 1 === a.nodeType)
                while (c = e[d++])
                    a.removeAttribute(c)
        }
    }), ib = {
        set: function(a, b, c) {
            return b === !1 ? r.removeAttr(a, c) : a.setAttribute(c, c), c
        }
    }, r.each(r.expr.match.bool.source.match(/\w+/g), function(a, b) {
        var c = jb[b] || r.find.attr;
        jb[b] = function(a, b, d) {
            var e,
                f,
                g = b.toLowerCase();
            return d || (f = jb[g], jb[g] = e, e = null != c(a, b, d) ? g : null, jb[g] = f), e
        }
    });
    var kb = /^(?:input|select|textarea|button)$/i,
        lb = /^(?:a|area)$/i;
    r.fn.extend({
        prop: function(a, b) {
            return S(this, r.prop, a, b, arguments.length > 1)
        },
        removeProp: function(a) {
            return this.each(function() {
                delete this[r.propFix[a] || a]
            })
        }
    }), r.extend({
        prop: function(a, b, c) {
            var d,
                e,
                f = a.nodeType;
            if (3 !== f && 8 !== f && 2 !== f)
                return 1 === f && r.isXMLDoc(a) || (b = r.propFix[b] || b, e = r.propHooks[b]), void 0 !== c ? e && "set" in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !== (d = e.get(a, b)) ? d : a[b]
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    var b = r.find.attr(a, "tabindex");
                    return b ? parseInt(b, 10) : kb.test(a.nodeName) || lb.test(a.nodeName) && a.href ? 0 : -1
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        }
    }), o.optSelected || (r.propHooks.selected = {
        get: function(a) {
            var b = a.parentNode;
            return b && b.parentNode && b.parentNode.selectedIndex, null
        },
        set: function(a) {
            var b = a.parentNode;
            b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex)
        }
    }), r.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        r.propFix[this.toLowerCase()] = this
    });
    function mb(a) {
        var b = a.match(K) || [];
        return b.join(" ")
    }
    function nb(a) {
        return a.getAttribute && a.getAttribute("class") || ""
    }
    r.fn.extend({
        addClass: function(a) {
            var b,
                c,
                d,
                e,
                f,
                g,
                h,
                i = 0;
            if (r.isFunction(a))
                return this.each(function(b) {
                    r(this).addClass(a.call(this, b, nb(this)))
                });
            if ("string" == typeof a && a) {
                b = a.match(K) || [];
                while (c = this[i++])
                    if (e = nb(c), d = 1 === c.nodeType && " " + mb(e) + " ") {
                        g = 0;
                        while (f = b[g++])
                            d.indexOf(" " + f + " ") < 0 && (d += f + " ");
                        h = mb(d), e !== h && c.setAttribute("class", h)
                    }
            }
            return this
        },
        removeClass: function(a) {
            var b,
                c,
                d,
                e,
                f,
                g,
                h,
                i = 0;
            if (r.isFunction(a))
                return this.each(function(b) {
                    r(this).removeClass(a.call(this, b, nb(this)))
                });
            if (!arguments.length)
                return this.attr("class", "");
            if ("string" == typeof a && a) {
                b = a.match(K) || [];
                while (c = this[i++])
                    if (e = nb(c), d = 1 === c.nodeType && " " + mb(e) + " ") {
                        g = 0;
                        while (f = b[g++])
                            while (d.indexOf(" " + f + " ") > -1)
                                d = d.replace(" " + f + " ", " ");
                        h = mb(d), e !== h && c.setAttribute("class", h)
                    }
            }
            return this
        },
        toggleClass: function(a, b) {
            var c = typeof a;
            return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : r.isFunction(a) ? this.each(function(c) {
                r(this).toggleClass(a.call(this, c, nb(this), b), b)
            }) : this.each(function() {
                var b,
                    d,
                    e,
                    f;
                if ("string" === c) {
                    d = 0, e = r(this), f = a.match(K) || [];
                    while (b = f[d++])
                        e.hasClass(b) ? e.removeClass(b) : e.addClass(b)
                } else
                    void 0 !== a && "boolean" !== c || (b = nb(this), b && V.set(this, "__className__", b), this.setAttribute && this.setAttribute("class", b || a === !1 ? "" : V.get(this, "__className__") || ""))
            })
        },
        hasClass: function(a) {
            var b,
                c,
                d = 0;
            b = " " + a + " ";
            while (c = this[d++])
                if (1 === c.nodeType && (" " + mb(nb(c)) + " ").indexOf(b) > -1)
                    return !0;
            return !1
        }
    });
    var ob = /\r/g;
    r.fn.extend({
        val: function(a) {
            var b,
                c,
                d,
                e = this[0];
            {
                if (arguments.length)
                    return d = r.isFunction(a), this.each(function(c) {
                        var e;
                        1 === this.nodeType && (e = d ? a.call(this, c, r(this).val()) : a, null == e ? e = "" : "number" == typeof e ? e += "" : r.isArray(e) && (e = r.map(e, function(a) {
                            return null == a ? "" : a + ""
                        })), b = r.valHooks[this.type] || r.valHooks[this.nodeName.toLowerCase()], b && "set" in b && void 0 !== b.set(this, e, "value") || (this.value = e))
                    });
                if (e)
                    return b = r.valHooks[e.type] || r.valHooks[e.nodeName.toLowerCase()], b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value, "string" == typeof c ? c.replace(ob, "") : null == c ? "" : c)
            }
        }
    }), r.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = r.find.attr(a, "value");
                    return null != b ? b : mb(r.text(a))
                }
            },
            select: {
                get: function(a) {
                    var b,
                        c,
                        d,
                        e = a.options,
                        f = a.selectedIndex,
                        g = "select-one" === a.type,
                        h = g ? null : [],
                        i = g ? f + 1 : e.length;
                    for (d = f < 0 ? i : g ? f : 0; d < i; d++)
                        if (c = e[d], (c.selected || d === f) && !c.disabled && (!c.parentNode.disabled || !r.nodeName(c.parentNode, "optgroup"))) {
                            if (b = r(c).val(), g)
                                return b;
                            h.push(b)
                        }
                    return h
                },
                set: function(a, b) {
                    var c,
                        d,
                        e = a.options,
                        f = r.makeArray(b),
                        g = e.length;
                    while (g--)
                        d = e[g], (d.selected = r.inArray(r.valHooks.option.get(d), f) > -1) && (c = !0);
                    return c || (a.selectedIndex = -1), f
                }
            }
        }
    }), r.each(["radio", "checkbox"], function() {
        r.valHooks[this] = {
            set: function(a, b) {
                if (r.isArray(b))
                    return a.checked = r.inArray(r(a).val(), b) > -1
            }
        }, o.checkOn || (r.valHooks[this].get = function(a) {
            return null === a.getAttribute("value") ? "on" : a.value
        })
    });
    var pb = /^(?:focusinfocus|focusoutblur)$/;
    r.extend(r.event, {
        trigger: function(b, c, e, f) {
            var g,
                h,
                i,
                j,
                k,
                m,
                n,
                o = [e || d],
                p = l.call(b, "type") ? b.type : b,
                q = l.call(b, "namespace") ? b.namespace.split(".") : [];
            if (h = i = e = e || d, 3 !== e.nodeType && 8 !== e.nodeType && !pb.test(p + r.event.triggered) && (p.indexOf(".") > -1 && (q = p.split("."), p = q.shift(), q.sort()), k = p.indexOf(":") < 0 && "on" + p, b = b[r.expando] ? b : new r.Event(p, "object" == typeof b && b), b.isTrigger = f ? 2 : 3, b.namespace = q.join("."), b.rnamespace = b.namespace ? new RegExp("(^|\\.)" + q.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result = void 0, b.target || (b.target = e), c = null == c ? [b] : r.makeArray(c, [b]), n = r.event.special[p] || {}, f || !n.trigger || n.trigger.apply(e, c) !== !1)) {
                if (!f && !n.noBubble && !r.isWindow(e)) {
                    for (j = n.delegateType || p, pb.test(j + p) || (h = h.parentNode); h; h = h.parentNode)
                        o.push(h), i = h;
                    i === (e.ownerDocument || d) && o.push(i.defaultView || i.parentWindow || a)
                }
                g = 0;
                while ((h = o[g++]) && !b.isPropagationStopped())
                    b.type = g > 1 ? j : n.bindType || p, m = (V.get(h, "events") || {})[b.type] && V.get(h, "handle"), m && m.apply(h, c), m = k && h[k], m && m.apply && T(h) && (b.result = m.apply(h, c), b.result === !1 && b.preventDefault());
                return b.type = p, f || b.isDefaultPrevented() || n._default && n._default.apply(o.pop(), c) !== !1 || !T(e) || k && r.isFunction(e[p]) && !r.isWindow(e) && (i = e[k], i && (e[k] = null), r.event.triggered = p, e[p](), r.event.triggered = void 0, i && (e[k] = i)), b.result
            }
        },
        simulate: function(a, b, c) {
            var d = r.extend(new r.Event, c, {
                type: a,
                isSimulated: !0
            });
            r.event.trigger(d, null, b)
        }
    }), r.fn.extend({
        trigger: function(a, b) {
            return this.each(function() {
                r.event.trigger(a, b, this)
            })
        },
        triggerHandler: function(a, b) {
            var c = this[0];
            if (c)
                return r.event.trigger(a, b, c, !0)
        }
    }), r.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(a, b) {
        r.fn[b] = function(a, c) {
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
        }
    }), r.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        }
    }), o.focusin = "onfocusin" in a, o.focusin || r.each({
        focus: "focusin",
        blur: "focusout"
    }, function(a, b) {
        var c = function(a) {
            r.event.simulate(b, a.target, r.event.fix(a))
        };
        r.event.special[b] = {
            setup: function() {
                var d = this.ownerDocument || this,
                    e = V.access(d, b);
                e || d.addEventListener(a, c, !0), V.access(d, b, (e || 0) + 1)
            },
            teardown: function() {
                var d = this.ownerDocument || this,
                    e = V.access(d, b) - 1;
                e ? V.access(d, b, e) : (d.removeEventListener(a, c, !0), V.remove(d, b))
            }
        }
    });
    var qb = a.location,
        rb = r.now(),
        sb = /\?/;
    r.parseXML = function(b) {
        var c;
        if (!b || "string" != typeof b)
            return null;
        try {
            c = (new a.DOMParser).parseFromString(b, "text/xml")
        } catch (d) {
            c = void 0
        }
        return c && !c.getElementsByTagName("parsererror").length || r.error("Invalid XML: " + b), c
    };
    var tb = /\[\]$/,
        ub = /\r?\n/g,
        vb = /^(?:submit|button|image|reset|file)$/i,
        wb = /^(?:input|select|textarea|keygen)/i;
    function xb(a, b, c, d) {
        var e;
        if (r.isArray(b))
            r.each(b, function(b, e) {
                c || tb.test(a) ? d(a, e) : xb(a + "[" + ("object" == typeof e && null != e ? b : "") + "]", e, c, d)
            });
        else if (c || "object" !== r.type(b))
            d(a, b);
        else
            for (e in b)
                xb(a + "[" + e + "]", b[e], c, d)
    }
    r.param = function(a, b) {
        var c,
            d = [],
            e = function(a, b) {
                var c = r.isFunction(b) ? b() : b;
                d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(null == c ? "" : c)
            };
        if (r.isArray(a) || a.jquery && !r.isPlainObject(a))
            r.each(a, function() {
                e(this.name, this.value)
            });
        else
            for (c in a)
                xb(c, a[c], b, e);
        return d.join("&")
    }, r.fn.extend({
        serialize: function() {
            return r.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var a = r.prop(this, "elements");
                return a ? r.makeArray(a) : this
            }).filter(function() {
                var a = this.type;
                return this.name && !r(this).is(":disabled") && wb.test(this.nodeName) && !vb.test(a) && (this.checked || !ia.test(a))
            }).map(function(a, b) {
                var c = r(this).val();
                return null == c ? null : r.isArray(c) ? r.map(c, function(a) {
                    return {
                        name: b.name,
                        value: a.replace(ub, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: c.replace(ub, "\r\n")
                }
            }).get()
        }
    });
    var yb = /%20/g,
        zb = /#.*$/,
        Ab = /([?&])_=[^&]*/,
        Bb = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        Cb = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        Db = /^(?:GET|HEAD)$/,
        Eb = /^\/\//,
        Fb = {},
        Gb = {},
        Hb = "*/".concat("*"),
        Ib = d.createElement("a");
    Ib.href = qb.href;
    function Jb(a) {
        return function(b, c) {
            "string" != typeof b && (c = b, b = "*");
            var d,
                e = 0,
                f = b.toLowerCase().match(K) || [];
            if (r.isFunction(c))
                while (d = f[e++])
                    "+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
        }
    }
    function Kb(a, b, c, d) {
        var e = {},
            f = a === Gb;
        function g(h) {
            var i;
            return e[h] = !0, r.each(a[h] || [], function(a, h) {
                var j = h(b, c, d);
                return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j), g(j), !1)
            }), i
        }
        return g(b.dataTypes[0]) || !e["*"] && g("*")
    }
    function Lb(a, b) {
        var c,
            d,
            e = r.ajaxSettings.flatOptions || {};
        for (c in b)
            void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
        return d && r.extend(!0, a, d), a
    }
    function Mb(a, b, c) {
        var d,
            e,
            f,
            g,
            h = a.contents,
            i = a.dataTypes;
        while ("*" === i[0])
            i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
        if (d)
            for (e in h)
                if (h[e] && h[e].test(d)) {
                    i.unshift(e);
                    break
                }
        if (i[0] in c)
            f = i[0];
        else {
            for (e in c) {
                if (!i[0] || a.converters[e + " " + i[0]]) {
                    f = e;
                    break
                }
                g || (g = e)
            }
            f = f || g
        }
        if (f)
            return f !== i[0] && i.unshift(f), c[f]
    }
    function Nb(a, b, c, d) {
        var e,
            f,
            g,
            h,
            i,
            j = {},
            k = a.dataTypes.slice();
        if (k[1])
            for (g in a.converters)
                j[g.toLowerCase()] = a.converters[g];
        f = k.shift();
        while (f)
            if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift())
                if ("*" === f)
                    f = i;
                else if ("*" !== i && i !== f) {
                    if (g = j[i + " " + f] || j["* " + f], !g)
                        for (e in j)
                            if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                                g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));
                                break
                            }
                    if (g !== !0)
                        if (g && a["throws"])
                            b = g(b);
                        else
                            try {
                                b = g(b)
                            } catch (l) {
                                return {
                                    state: "parsererror",
                                    error: g ? l : "No conversion from " + i + " to " + f
                                }
                            }
                }
        return {
            state: "success",
            data: b
        }
    }
    r.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: qb.href,
            type: "GET",
            isLocal: Cb.test(qb.protocol),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Hb,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": JSON.parse,
                "text xml": r.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, b) {
            return b ? Lb(Lb(a, r.ajaxSettings), b) : Lb(r.ajaxSettings, a)
        },
        ajaxPrefilter: Jb(Fb),
        ajaxTransport: Jb(Gb),
        ajax: function(b, c) {
            "object" == typeof b && (c = b, b = void 0), c = c || {};
            var e,
                f,
                g,
                h,
                i,
                j,
                k,
                l,
                m,
                n,
                o = r.ajaxSetup({}, c),
                p = o.context || o,
                q = o.context && (p.nodeType || p.jquery) ? r(p) : r.event,
                s = r.Deferred(),
                t = r.Callbacks("once memory"),
                u = o.statusCode || {},
                v = {},
                w = {},
                x = "canceled",
                y = {
                    readyState: 0,
                    getResponseHeader: function(a) {
                        var b;
                        if (k) {
                            if (!h) {
                                h = {};
                                while (b = Bb.exec(g))
                                    h[b[1].toLowerCase()] = b[2]
                            }
                            b = h[a.toLowerCase()]
                        }
                        return null == b ? null : b
                    },
                    getAllResponseHeaders: function() {
                        return k ? g : null
                    },
                    setRequestHeader: function(a, b) {
                        return null == k && (a = w[a.toLowerCase()] = w[a.toLowerCase()] || a, v[a] = b), this
                    },
                    overrideMimeType: function(a) {
                        return null == k && (o.mimeType = a), this
                    },
                    statusCode: function(a) {
                        var b;
                        if (a)
                            if (k)
                                y.always(a[y.status]);
                            else
                                for (b in a)
                                    u[b] = [u[b], a[b]];
                        return this
                    },
                    abort: function(a) {
                        var b = a || x;
                        return e && e.abort(b), A(0, b), this
                    }
                };
            if (s.promise(y), o.url = ((b || o.url || qb.href) + "").replace(Eb, qb.protocol + "//"), o.type = c.method || c.type || o.method || o.type, o.dataTypes = (o.dataType || "*").toLowerCase().match(K) || [""], null == o.crossDomain) {
                j = d.createElement("a");
                try {
                    j.href = o.url, j.href = j.href, o.crossDomain = Ib.protocol + "//" + Ib.host != j.protocol + "//" + j.host
                } catch (z) {
                    o.crossDomain = !0
                }
            }
            if (o.data && o.processData && "string" != typeof o.data && (o.data = r.param(o.data, o.traditional)), Kb(Fb, o, c, y), k)
                return y;
            l = r.event && o.global, l && 0 === r.active++ && r.event.trigger("ajaxStart"), o.type = o.type.toUpperCase(), o.hasContent = !Db.test(o.type), f = o.url.replace(zb, ""), o.hasContent ? o.data && o.processData && 0 === (o.contentType || "").indexOf("application/x-www-form-urlencoded") && (o.data = o.data.replace(yb, "+")) : (n = o.url.slice(f.length), o.data && (f += (sb.test(f) ? "&" : "?") + o.data, delete o.data), o.cache === !1 && (f = f.replace(Ab, "$1"), n = (sb.test(f) ? "&" : "?") + "_=" + rb++ + n), o.url = f + n), o.ifModified && (r.lastModified[f] && y.setRequestHeader("If-Modified-Since", r.lastModified[f]), r.etag[f] && y.setRequestHeader("If-None-Match", r.etag[f])), (o.data && o.hasContent && o.contentType !== !1 || c.contentType) && y.setRequestHeader("Content-Type", o.contentType), y.setRequestHeader("Accept", o.dataTypes[0] && o.accepts[o.dataTypes[0]] ? o.accepts[o.dataTypes[0]] + ("*" !== o.dataTypes[0] ? ", " + Hb + "; q=0.01" : "") : o.accepts["*"]);
            for (m in o.headers)
                y.setRequestHeader(m, o.headers[m]);
            if (o.beforeSend && (o.beforeSend.call(p, y, o) === !1 || k))
                return y.abort();
            if (x = "abort", t.add(o.complete), y.done(o.success), y.fail(o.error), e = Kb(Gb, o, c, y)) {
                if (y.readyState = 1, l && q.trigger("ajaxSend", [y, o]), k)
                    return y;
                o.async && o.timeout > 0 && (i = a.setTimeout(function() {
                    y.abort("timeout")
                }, o.timeout));
                try {
                    k = !1, e.send(v, A)
                } catch (z) {
                    if (k)
                        throw z;
                    A(-1, z)
                }
            } else
                A(-1, "No Transport");
            function A(b, c, d, h) {
                var j,
                    m,
                    n,
                    v,
                    w,
                    x = c;
                k || (k = !0, i && a.clearTimeout(i), e = void 0, g = h || "", y.readyState = b > 0 ? 4 : 0, j = b >= 200 && b < 300 || 304 === b, d && (v = Mb(o, y, d)), v = Nb(o, v, y, j), j ? (o.ifModified && (w = y.getResponseHeader("Last-Modified"), w && (r.lastModified[f] = w), w = y.getResponseHeader("etag"), w && (r.etag[f] = w)), 204 === b || "HEAD" === o.type ? x = "nocontent" : 304 === b ? x = "notmodified" : (x = v.state, m = v.data, n = v.error, j = !n)) : (n = x, !b && x || (x = "error", b < 0 && (b = 0))), y.status = b, y.statusText = (c || x) + "", j ? s.resolveWith(p, [m, x, y]) : s.rejectWith(p, [y, x, n]), y.statusCode(u), u = void 0, l && q.trigger(j ? "ajaxSuccess" : "ajaxError", [y, o, j ? m : n]), t.fireWith(p, [y, x]), l && (q.trigger("ajaxComplete", [y, o]), --r.active || r.event.trigger("ajaxStop")))
            }
            return y
        },
        getJSON: function(a, b, c) {
            return r.get(a, b, c, "json")
        },
        getScript: function(a, b) {
            return r.get(a, void 0, b, "script")
        }
    }), r.each(["get", "post"], function(a, b) {
        r[b] = function(a, c, d, e) {
            return r.isFunction(c) && (e = e || d, d = c, c = void 0), r.ajax(r.extend({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            }, r.isPlainObject(a) && a))
        }
    }), r._evalUrl = function(a) {
        return r.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            cache: !0,
            async: !1,
            global: !1,
            "throws": !0
        })
    }, r.fn.extend({
        wrapAll: function(a) {
            var b;
            return this[0] && (r.isFunction(a) && (a = a.call(this[0])), b = r(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function() {
                var a = this;
                while (a.firstElementChild)
                    a = a.firstElementChild;
                return a
            }).append(this)), this
        },
        wrapInner: function(a) {
            return r.isFunction(a) ? this.each(function(b) {
                r(this).wrapInner(a.call(this, b))
            }) : this.each(function() {
                var b = r(this),
                    c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            })
        },
        wrap: function(a) {
            var b = r.isFunction(a);
            return this.each(function(c) {
                r(this).wrapAll(b ? a.call(this, c) : a)
            })
        },
        unwrap: function(a) {
            return this.parent(a).not("body").each(function() {
                r(this).replaceWith(this.childNodes)
            }), this
        }
    }), r.expr.pseudos.hidden = function(a) {
        return !r.expr.pseudos.visible(a)
    }, r.expr.pseudos.visible = function(a) {
        return !!(a.offsetWidth || a.offsetHeight || a.getClientRects().length)
    }, r.ajaxSettings.xhr = function() {
        try {
            return new a.XMLHttpRequest
        } catch (b) {}
    };
    var Ob = {
            0: 200,
            1223: 204
        },
        Pb = r.ajaxSettings.xhr();
    o.cors = !!Pb && "withCredentials" in Pb, o.ajax = Pb = !!Pb, r.ajaxTransport(function(b) {
        var c,
            d;
        if (o.cors || Pb && !b.crossDomain)
            return {
                send: function(e, f) {
                    var g,
                        h = b.xhr();
                    if (h.open(b.type, b.url, b.async, b.username, b.password), b.xhrFields)
                        for (g in b.xhrFields)
                            h[g] = b.xhrFields[g];
                    b.mimeType && h.overrideMimeType && h.overrideMimeType(b.mimeType), b.crossDomain || e["X-Requested-With"] || (e["X-Requested-With"] = "XMLHttpRequest");
                    for (g in e)
                        h.setRequestHeader(g, e[g]);
                    c = function(a) {
                        return function() {
                            c && (c = d = h.onload = h.onerror = h.onabort = h.onreadystatechange = null, "abort" === a ? h.abort() : "error" === a ? "number" != typeof h.status ? f(0, "error") : f(h.status, h.statusText) : f(Ob[h.status] || h.status, h.statusText, "text" !== (h.responseType || "text") || "string" != typeof h.responseText ? {
                                binary: h.response
                            } : {
                                text: h.responseText
                            }, h.getAllResponseHeaders()))
                        }
                    }, h.onload = c(), d = h.onerror = c("error"), void 0 !== h.onabort ? h.onabort = d : h.onreadystatechange = function() {
                        4 === h.readyState && a.setTimeout(function() {
                            c && d()
                        })
                    }, c = c("abort");
                    try {
                        h.send(b.hasContent && b.data || null)
                    } catch (i) {
                        if (c)
                            throw i
                    }
                },
                abort: function() {
                    c && c()
                }
            }
    }), r.ajaxPrefilter(function(a) {
        a.crossDomain && (a.contents.script = !1)
    }), r.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function(a) {
                return r.globalEval(a), a
            }
        }
    }), r.ajaxPrefilter("script", function(a) {
        void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET")
    }), r.ajaxTransport("script", function(a) {
        if (a.crossDomain) {
            var b,
                c;
            return {
                send: function(e, f) {
                    b = r("<script>").prop({
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", c = function(a) {
                        b.remove(), c = null, a && f("error" === a.type ? 404 : 200, a.type)
                    }), d.head.appendChild(b[0])
                },
                abort: function() {
                    c && c()
                }
            }
        }
    });
    var Qb = [],
        Rb = /(=)\?(?=&|$)|\?\?/;
    r.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = Qb.pop() || r.expando + "_" + rb++;
            return this[a] = !0, a
        }
    }), r.ajaxPrefilter("json jsonp", function(b, c, d) {
        var e,
            f,
            g,
            h = b.jsonp !== !1 && (Rb.test(b.url) ? "url" : "string" == typeof b.data && 0 === (b.contentType || "").indexOf("application/x-www-form-urlencoded") && Rb.test(b.data) && "data");
        if (h || "jsonp" === b.dataTypes[0])
            return e = b.jsonpCallback = r.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Rb, "$1" + e) : b.jsonp !== !1 && (b.url += (sb.test(b.url) ? "&" : "?") + b.jsonp + "=" + e), b.converters["script json"] = function() {
                return g || r.error(e + " was not called"), g[0]
            }, b.dataTypes[0] = "json", f = a[e], a[e] = function() {
                g = arguments
            }, d.always(function() {
                void 0 === f ? r(a).removeProp(e) : a[e] = f, b[e] && (b.jsonpCallback = c.jsonpCallback, Qb.push(e)), g && r.isFunction(f) && f(g[0]), g = f = void 0
            }), "script"
    }), o.createHTMLDocument = function() {
        var a = d.implementation.createHTMLDocument("").body;
        return a.innerHTML = "<form></form><form></form>", 2 === a.childNodes.length
    }(), r.parseHTML = function(a, b, c) {
        if ("string" != typeof a)
            return [];
        "boolean" == typeof b && (c = b, b = !1);
        var e,
            f,
            g;
        return b || (o.createHTMLDocument ? (b = d.implementation.createHTMLDocument(""), e = b.createElement("base"), e.href = d.location.href, b.head.appendChild(e)) : b = d), f = B.exec(a), g = !c && [], f ? [b.createElement(f[1])] : (f = pa([a], b, g), g && g.length && r(g).remove(), r.merge([], f.childNodes))
    }, r.fn.load = function(a, b, c) {
        var d,
            e,
            f,
            g = this,
            h = a.indexOf(" ");
        return h > -1 && (d = mb(a.slice(h)), a = a.slice(0, h)), r.isFunction(b) ? (c = b, b = void 0) : b && "object" == typeof b && (e = "POST"), g.length > 0 && r.ajax({
            url: a,
            type: e || "GET",
            dataType: "html",
            data: b
        }).done(function(a) {
            f = arguments, g.html(d ? r("<div>").append(r.parseHTML(a)).find(d) : a)
        }).always(c && function(a, b) {
            g.each(function() {
                c.apply(this, f || [a.responseText, b, a])
            })
        }), this
    }, r.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(a, b) {
        r.fn[b] = function(a) {
            return this.on(b, a)
        }
    }), r.expr.pseudos.animated = function(a) {
        return r.grep(r.timers, function(b) {
            return a === b.elem
        }).length
    };
    function Sb(a) {
        return r.isWindow(a) ? a : 9 === a.nodeType && a.defaultView
    }
    r.offset = {
        setOffset: function(a, b, c) {
            var d,
                e,
                f,
                g,
                h,
                i,
                j,
                k = r.css(a, "position"),
                l = r(a),
                m = {};
            "static" === k && (a.style.position = "relative"), h = l.offset(), f = r.css(a, "top"), i = r.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), r.isFunction(b) && (b = b.call(a, c, r.extend({}, h))), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m)
        }
    }, r.fn.extend({
        offset: function(a) {
            if (arguments.length)
                return void 0 === a ? this : this.each(function(b) {
                    r.offset.setOffset(this, a, b)
                });
            var b,
                c,
                d,
                e,
                f = this[0];
            if (f)
                return f.getClientRects().length ? (d = f.getBoundingClientRect(), d.width || d.height ? (e = f.ownerDocument, c = Sb(e), b = e.documentElement, {
                    top: d.top + c.pageYOffset - b.clientTop,
                    left: d.left + c.pageXOffset - b.clientLeft
                }) : d) : {
                    top: 0,
                    left: 0
                }
        },
        position: function() {
            if (this[0]) {
                var a,
                    b,
                    c = this[0],
                    d = {
                        top: 0,
                        left: 0
                    };
                return "fixed" === r.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), r.nodeName(a[0], "html") || (d = a.offset()), d = {
                    top: d.top + r.css(a[0], "borderTopWidth", !0),
                    left: d.left + r.css(a[0], "borderLeftWidth", !0)
                }), {
                    top: b.top - d.top - r.css(c, "marginTop", !0),
                    left: b.left - d.left - r.css(c, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                var a = this.offsetParent;
                while (a && "static" === r.css(a, "position"))
                    a = a.offsetParent;
                return a || qa
            })
        }
    }), r.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(a, b) {
        var c = "pageYOffset" === b;
        r.fn[a] = function(d) {
            return S(this, function(a, d, e) {
                var f = Sb(a);
                return void 0 === e ? f ? f[b] : a[d] : void (f ? f.scrollTo(c ? f.pageXOffset : e, c ? e : f.pageYOffset) : a[d] = e)
            }, a, d, arguments.length)
        }
    }), r.each(["top", "left"], function(a, b) {
        r.cssHooks[b] = Oa(o.pixelPosition, function(a, c) {
            if (c)
                return c = Na(a, b), La.test(c) ? r(a).position()[b] + "px" : c
        })
    }), r.each({
        Height: "height",
        Width: "width"
    }, function(a, b) {
        r.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        }, function(c, d) {
            r.fn[d] = function(e, f) {
                var g = arguments.length && (c || "boolean" != typeof e),
                    h = c || (e === !0 || f === !0 ? "margin" : "border");
                return S(this, function(b, c, e) {
                    var f;
                    return r.isWindow(b) ? 0 === d.indexOf("outer") ? b["inner" + a] : b.document.documentElement["client" + a] : 9 === b.nodeType ? (f = b.documentElement, Math.max(b.body["scroll" + a], f["scroll" + a], b.body["offset" + a], f["offset" + a], f["client" + a])) : void 0 === e ? r.css(b, c, h) : r.style(b, c, e, h)
                }, b, g ? e : void 0, g)
            }
        })
    }), r.fn.extend({
        bind: function(a, b, c) {
            return this.on(a, null, b, c)
        },
        unbind: function(a, b) {
            return this.off(a, null, b)
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d)
        },
        undelegate: function(a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
        }
    }), r.parseJSON = JSON.parse, "function" == typeof define && define.amd && define("jquery", [], function() {
        return r
    });
    var Tb = a.jQuery,
        Ub = a.$;
    return r.noConflict = function(b) {
        return a.$ === r && (a.$ = Ub), b && a.jQuery === r && (a.jQuery = Tb), r
    }, b || (a.jQuery = a.$ = r), r
});

// threejs.org/license
(function(l, sa) {
    "object" === typeof exports && "undefined" !== typeof module ? sa(exports) : "function" === typeof define && define.amd ? define(["exports"], sa) : sa(l.THREE = l.THREE || {})
})(this, function(l) {
    function sa() {}
    function B(a, b) {
        this.x = a || 0;
        this.y = b || 0
    }
    function da(a, b, c, d, e, f, g, h, k, m) {
        Object.defineProperty(this, "id", {
            value: ee++
        });
        this.uuid = T.generateUUID();
        this.sourceFile = this.name = "";
        this.image = void 0 !== a ? a : da.DEFAULT_IMAGE;
        this.mipmaps = [];
        this.mapping = void 0 !== b ? b : da.DEFAULT_MAPPING;
        this.wrapS = void 0 !== c ?
        c : 1001;
        this.wrapT = void 0 !== d ? d : 1001;
        this.magFilter = void 0 !== e ? e : 1006;
        this.minFilter = void 0 !== f ? f : 1008;
        this.anisotropy = void 0 !== k ? k : 1;
        this.format = void 0 !== g ? g : 1023;
        this.type = void 0 !== h ? h : 1009;
        this.offset = new B(0, 0);
        this.repeat = new B(1, 1);
        this.generateMipmaps = !0;
        this.premultiplyAlpha = !1;
        this.flipY = !0;
        this.unpackAlignment = 4;
        this.encoding = void 0 !== m ? m : 3E3;
        this.version = 0;
        this.onUpdate = null
    }
    function ga(a, b, c, d) {
        this.x = a || 0;
        this.y = b || 0;
        this.z = c || 0;
        this.w = void 0 !== d ? d : 1
    }
    function Db(a, b, c) {
        this.uuid = T.generateUUID();
        this.width = a;
        this.height = b;
        this.scissor = new ga(0, 0, a, b);
        this.scissorTest = !1;
        this.viewport = new ga(0, 0, a, b);
        c = c || {};
        void 0 === c.minFilter && (c.minFilter = 1006);
        this.texture = new da(void 0, void 0, c.wrapS, c.wrapT, c.magFilter, c.minFilter, c.format, c.type, c.anisotropy, c.encoding);
        this.depthBuffer = void 0 !== c.depthBuffer ? c.depthBuffer : !0;
        this.stencilBuffer = void 0 !== c.stencilBuffer ? c.stencilBuffer : !0;
        this.depthTexture = void 0 !== c.depthTexture ? c.depthTexture : null
    }
    function Eb(a, b, c) {
        Db.call(this, a, b, c);
        this.activeMipMapLevel =
        this.activeCubeFace = 0
    }
    function ba(a, b, c, d) {
        this._x = a || 0;
        this._y = b || 0;
        this._z = c || 0;
        this._w = void 0 !== d ? d : 1
    }
    function q(a, b, c) {
        this.x = a || 0;
        this.y = b || 0;
        this.z = c || 0
    }
    function J() {
        this.elements = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);
        0 < arguments.length && console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")
    }
    function Xa(a, b, c, d, e, f, g, h, k, m) {
        a = void 0 !== a ? a : [];
        da.call(this, a, void 0 !== b ? b : 301, c, d, e, f, g, h, k, m);
        this.flipY = !1
    }
    function Fb(a, b, c) {
        var d = a[0];
        if (0 >=
        d || 0 < d)
            return a;
        var e = b * c,
            f = fe[e];
        void 0 === f && (f = new Float32Array(e), fe[e] = f);
        if (0 !== b)
            for (d.toArray(f, 0), d = 1, e = 0; d !== b; ++d)
                e += c, a[d].toArray(f, e);
        return f
    }
    function ge(a, b) {
        var c = he[b];
        void 0 === c && (c = new Int32Array(b), he[b] = c);
        for (var d = 0; d !== b; ++d)
            c[d] = a.allocTextureUnit();
        return c
    }
    function Ie(a, b) {
        a.uniform1f(this.addr, b)
    }
    function Je(a, b) {
        a.uniform1i(this.addr, b)
    }
    function Ke(a, b) {
        void 0 === b.x ? a.uniform2fv(this.addr, b) : a.uniform2f(this.addr, b.x, b.y)
    }
    function Le(a, b) {
        void 0 !== b.x ? a.uniform3f(this.addr,
        b.x, b.y, b.z) : void 0 !== b.r ? a.uniform3f(this.addr, b.r, b.g, b.b) : a.uniform3fv(this.addr, b)
    }
    function Me(a, b) {
        void 0 === b.x ? a.uniform4fv(this.addr, b) : a.uniform4f(this.addr, b.x, b.y, b.z, b.w)
    }
    function Ne(a, b) {
        a.uniformMatrix2fv(this.addr, !1, b.elements || b)
    }
    function Oe(a, b) {
        a.uniformMatrix3fv(this.addr, !1, b.elements || b)
    }
    function Pe(a, b) {
        a.uniformMatrix4fv(this.addr, !1, b.elements || b)
    }
    function Qe(a, b, c) {
        var d = c.allocTextureUnit();
        a.uniform1i(this.addr, d);
        c.setTexture2D(b || ie, d)
    }
    function Re(a, b, c) {
        var d = c.allocTextureUnit();
        a.uniform1i(this.addr, d);
        c.setTextureCube(b || je, d)
    }
    function ke(a, b) {
        a.uniform2iv(this.addr, b)
    }
    function le(a, b) {
        a.uniform3iv(this.addr, b)
    }
    function me(a, b) {
        a.uniform4iv(this.addr, b)
    }
    function Se(a) {
        switch (a) {
        case 5126:
            return Ie;
        case 35664:
            return Ke;
        case 35665:
            return Le;
        case 35666:
            return Me;
        case 35674:
            return Ne;
        case 35675:
            return Oe;
        case 35676:
            return Pe;
        case 35678:
            return Qe;
        case 35680:
            return Re;
        case 5124:
        case 35670:
            return Je;
        case 35667:
        case 35671:
            return ke;
        case 35668:
        case 35672:
            return le;
        case 35669:
        case 35673:
            return me
        }
    }
    function Te(a, b) {
        a.uniform1fv(this.addr, b)
    }
    function Ue(a, b) {
        a.uniform1iv(this.addr, b)
    }
    function Ve(a, b) {
        a.uniform2fv(this.addr, Fb(b, this.size, 2))
    }
    function We(a, b) {
        a.uniform3fv(this.addr, Fb(b, this.size, 3))
    }
    function Xe(a, b) {
        a.uniform4fv(this.addr, Fb(b, this.size, 4))
    }
    function Ye(a, b) {
        a.uniformMatrix2fv(this.addr, !1, Fb(b, this.size, 4))
    }
    function Ze(a, b) {
        a.uniformMatrix3fv(this.addr, !1, Fb(b, this.size, 9))
    }
    function $e(a, b) {
        a.uniformMatrix4fv(this.addr, !1, Fb(b, this.size, 16))
    }
    function af(a, b, c) {
        var d = b.length,
            e = ge(c, d);
        a.uniform1iv(this.addr, e);
        for (a = 0; a !== d; ++a)
            c.setTexture2D(b[a] || ie, e[a])
    }
    function bf(a, b, c) {
        var d = b.length,
            e = ge(c, d);
        a.uniform1iv(this.addr, e);
        for (a = 0; a !== d; ++a)
            c.setTextureCube(b[a] || je, e[a])
    }
    function cf(a) {
        switch (a) {
        case 5126:
            return Te;
        case 35664:
            return Ve;
        case 35665:
            return We;
        case 35666:
            return Xe;
        case 35674:
            return Ye;
        case 35675:
            return Ze;
        case 35676:
            return $e;
        case 35678:
            return af;
        case 35680:
            return bf;
        case 5124:
        case 35670:
            return Ue;
        case 35667:
        case 35671:
            return ke;
        case 35668:
        case 35672:
            return le;
        case 35669:
        case 35673:
            return me
        }
    }
    function df(a, b, c) {
        this.id = a;
        this.addr = c;
        this.setValue = Se(b.type)
    }
    function ef(a, b, c) {
        this.id = a;
        this.addr = c;
        this.size = b.size;
        this.setValue = cf(b.type)
    }
    function ne(a) {
        this.id = a;
        this.seq = [];
        this.map = {}
    }
    function Ya(a, b, c) {
        this.seq = [];
        this.map = {};
        this.renderer = c;
        c = a.getProgramParameter(b, a.ACTIVE_UNIFORMS);
        for (var d = 0; d !== c; ++d) {
            var e = a.getActiveUniform(b, d),
                f = a.getUniformLocation(b, e.name),
                g = this,
                h = e.name,
                k = h.length;
            for (zd.lastIndex = 0;;) {
                var m = zd.exec(h),
                    w = zd.lastIndex,
                    n = m[1],
                    p = m[3];
                "]" === m[2] && (n |= 0);
                if (void 0 === p || "[" === p && w + 2 === k) {
                    h = g;
                    e = void 0 === p ? new df(n, e, f) : new ef(n, e, f);
                    h.seq.push(e);
                    h.map[e.id] = e;
                    break
                } else
                    p = g.map[n], void 0 === p && (p = new ne(n), n = g, g = p, n.seq.push(g), n.map[g.id] = g), g = p
            }
        }
    }
    function O(a, b, c) {
        return void 0 === b && void 0 === c ? this.set(a) : this.setRGB(a, b, c)
    }
    function mc(a, b) {
        this.min = void 0 !== a ? a : new B(Infinity, Infinity);
        this.max = void 0 !== b ? b : new B(-Infinity, -Infinity)
    }
    function ff(a, b) {
        var c,
            d,
            e,
            f,
            g,
            h,
            k,
            m,
            w,
            n,
            p = a.context,
            r = a.state,
            x,
            l,
            D,
            u,
            v,
            I;
        this.render =
        function(y, E, H) {
            if (0 !== b.length) {
                y = new q;
                var F = H.w / H.z,
                    M = .5 * H.z,
                    ca = .5 * H.w,
                    K = 16 / H.w,
                    ja = new B(K * F, K),
                    Aa = new q(1, 1, 0),
                    eb = new B(1, 1),
                    Ka = new mc;
                Ka.min.set(H.x, H.y);
                Ka.max.set(H.x + (H.z - 16), H.y + (H.w - 16));
                if (void 0 === u) {
                    var K = new Float32Array([-1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1]),
                        N = new Uint16Array([0, 1, 2, 0, 2, 3]);
                    x = p.createBuffer();
                    l = p.createBuffer();
                    p.bindBuffer(p.ARRAY_BUFFER, x);
                    p.bufferData(p.ARRAY_BUFFER, K, p.STATIC_DRAW);
                    p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, l);
                    p.bufferData(p.ELEMENT_ARRAY_BUFFER, N, p.STATIC_DRAW);
                    v = p.createTexture();
                    I = p.createTexture();
                    r.bindTexture(p.TEXTURE_2D, v);
                    p.texImage2D(p.TEXTURE_2D, 0, p.RGB, 16, 16, 0, p.RGB, p.UNSIGNED_BYTE, null);
                    p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_S, p.CLAMP_TO_EDGE);
                    p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_T, p.CLAMP_TO_EDGE);
                    p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MAG_FILTER, p.NEAREST);
                    p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MIN_FILTER, p.NEAREST);
                    r.bindTexture(p.TEXTURE_2D, I);
                    p.texImage2D(p.TEXTURE_2D, 0, p.RGBA, 16, 16, 0, p.RGBA, p.UNSIGNED_BYTE, null);
                    p.texParameteri(p.TEXTURE_2D,
                    p.TEXTURE_WRAP_S, p.CLAMP_TO_EDGE);
                    p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_T, p.CLAMP_TO_EDGE);
                    p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MAG_FILTER, p.NEAREST);
                    p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MIN_FILTER, p.NEAREST);
                    var K = D = {
                            vertexShader: "uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
                            fragmentShader: "uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"
                        },
                        N = p.createProgram(),
                        P = p.createShader(p.FRAGMENT_SHADER),
                        R = p.createShader(p.VERTEX_SHADER),
                        S = "precision " + a.getPrecision() + " float;\n";
                    p.shaderSource(P, S + K.fragmentShader);
                    p.shaderSource(R, S + K.vertexShader);
                    p.compileShader(P);
                    p.compileShader(R);
                    p.attachShader(N, P);
                    p.attachShader(N, R);
                    p.linkProgram(N);
                    u = N;
                    w = p.getAttribLocation(u, "position");
                    n = p.getAttribLocation(u, "uv");
                    c = p.getUniformLocation(u, "renderType");
                    d = p.getUniformLocation(u, "map");
                    e = p.getUniformLocation(u, "occlusionMap");
                    f = p.getUniformLocation(u, "opacity");
                    g = p.getUniformLocation(u, "color");
                    h = p.getUniformLocation(u,
                    "scale");
                    k = p.getUniformLocation(u, "rotation");
                    m = p.getUniformLocation(u, "screenPosition")
                }
                p.useProgram(u);
                r.initAttributes();
                r.enableAttribute(w);
                r.enableAttribute(n);
                r.disableUnusedAttributes();
                p.uniform1i(e, 0);
                p.uniform1i(d, 1);
                p.bindBuffer(p.ARRAY_BUFFER, x);
                p.vertexAttribPointer(w, 2, p.FLOAT, !1, 16, 0);
                p.vertexAttribPointer(n, 2, p.FLOAT, !1, 16, 8);
                p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, l);
                r.disable(p.CULL_FACE);
                r.setDepthWrite(!1);
                N = 0;
                for (P = b.length; N < P; N++)
                    if (K = 16 / H.w, ja.set(K * F, K), R = b[N], y.set(R.matrixWorld.elements[12],
                    R.matrixWorld.elements[13], R.matrixWorld.elements[14]), y.applyMatrix4(E.matrixWorldInverse), y.applyProjection(E.projectionMatrix), Aa.copy(y), eb.x = H.x + Aa.x * M + M - 8, eb.y = H.y + Aa.y * ca + ca - 8, !0 === Ka.containsPoint(eb)) {
                        r.activeTexture(p.TEXTURE0);
                        r.bindTexture(p.TEXTURE_2D, null);
                        r.activeTexture(p.TEXTURE1);
                        r.bindTexture(p.TEXTURE_2D, v);
                        p.copyTexImage2D(p.TEXTURE_2D, 0, p.RGB, eb.x, eb.y, 16, 16, 0);
                        p.uniform1i(c, 0);
                        p.uniform2f(h, ja.x, ja.y);
                        p.uniform3f(m, Aa.x, Aa.y, Aa.z);
                        r.disable(p.BLEND);
                        r.enable(p.DEPTH_TEST);
                        p.drawElements(p.TRIANGLES,
                        6, p.UNSIGNED_SHORT, 0);
                        r.activeTexture(p.TEXTURE0);
                        r.bindTexture(p.TEXTURE_2D, I);
                        p.copyTexImage2D(p.TEXTURE_2D, 0, p.RGBA, eb.x, eb.y, 16, 16, 0);
                        p.uniform1i(c, 1);
                        r.disable(p.DEPTH_TEST);
                        r.activeTexture(p.TEXTURE1);
                        r.bindTexture(p.TEXTURE_2D, v);
                        p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0);
                        R.positionScreen.copy(Aa);
                        R.customUpdateCallback ? R.customUpdateCallback(R) : R.updateLensFlares();
                        p.uniform1i(c, 2);
                        r.enable(p.BLEND);
                        for (var S = 0, gf = R.lensFlares.length; S < gf; S++) {
                            var V = R.lensFlares[S];
                            .001 < V.opacity && .001 <
                            V.scale && (Aa.x = V.x, Aa.y = V.y, Aa.z = V.z, K = V.size * V.scale / H.w, ja.x = K * F, ja.y = K, p.uniform3f(m, Aa.x, Aa.y, Aa.z), p.uniform2f(h, ja.x, ja.y), p.uniform1f(k, V.rotation), p.uniform1f(f, V.opacity), p.uniform3f(g, V.color.r, V.color.g, V.color.b), r.setBlending(V.blending, V.blendEquation, V.blendSrc, V.blendDst), a.setTexture2D(V.texture, 1), p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0))
                        }
                    }
                r.enable(p.CULL_FACE);
                r.enable(p.DEPTH_TEST);
                r.setDepthWrite(!0);
                a.resetGLState()
            }
        }
    }
    function hf(a, b) {
        var c,
            d,
            e,
            f,
            g,
            h,
            k,
            m,
            w,
            n,
            p,
            r,
            x,
            l,
            D,
            u,
            v;
        function I(a, b) {
            return a.renderOrder !== b.renderOrder ? a.renderOrder - b.renderOrder : a.z !== b.z ? b.z - a.z : b.id - a.id
        }
        var y = a.context,
            E = a.state,
            H,
            F,
            M,
            ca,
            K = new q,
            ja = new ba,
            Aa = new q;
        this.render = function(q, Ka) {
            if (0 !== b.length) {
                if (void 0 === M) {
                    var N = new Float32Array([-.5, -.5, 0, 0, .5, -.5, 1, 0, .5, .5, 1, 1, -.5, .5, 0, 1]),
                        P = new Uint16Array([0, 1, 2, 0, 2, 3]);
                    H = y.createBuffer();
                    F = y.createBuffer();
                    y.bindBuffer(y.ARRAY_BUFFER, H);
                    y.bufferData(y.ARRAY_BUFFER, N, y.STATIC_DRAW);
                    y.bindBuffer(y.ELEMENT_ARRAY_BUFFER, F);
                    y.bufferData(y.ELEMENT_ARRAY_BUFFER,
                    P, y.STATIC_DRAW);
                    var N = y.createProgram(),
                        P = y.createShader(y.VERTEX_SHADER),
                        R = y.createShader(y.FRAGMENT_SHADER);
                    y.shaderSource(P, ["precision " + a.getPrecision() + " float;", "uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n"));
                    y.shaderSource(R, ["precision " + a.getPrecision() + " float;", "uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
                    y.compileShader(P);
                    y.compileShader(R);
                    y.attachShader(N, P);
                    y.attachShader(N, R);
                    y.linkProgram(N);
                    M = N;
                    u = y.getAttribLocation(M, "position");
                    v = y.getAttribLocation(M, "uv");
                    c = y.getUniformLocation(M, "uvOffset");
                    d = y.getUniformLocation(M, "uvScale");
                    e = y.getUniformLocation(M, "rotation");
                    f = y.getUniformLocation(M, "scale");
                    g = y.getUniformLocation(M, "color");
                    h = y.getUniformLocation(M, "map");
                    k = y.getUniformLocation(M, "opacity");
                    m = y.getUniformLocation(M, "modelViewMatrix");
                    w = y.getUniformLocation(M, "projectionMatrix");
                    n =
                    y.getUniformLocation(M, "fogType");
                    p = y.getUniformLocation(M, "fogDensity");
                    r = y.getUniformLocation(M, "fogNear");
                    x = y.getUniformLocation(M, "fogFar");
                    l = y.getUniformLocation(M, "fogColor");
                    D = y.getUniformLocation(M, "alphaTest");
                    N = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                    N.width = 8;
                    N.height = 8;
                    P = N.getContext("2d");
                    P.fillStyle = "white";
                    P.fillRect(0, 0, 8, 8);
                    ca = new da(N);
                    ca.needsUpdate = !0
                }
                y.useProgram(M);
                E.initAttributes();
                E.enableAttribute(u);
                E.enableAttribute(v);
                E.disableUnusedAttributes();
                E.disable(y.CULL_FACE);
                E.enable(y.BLEND);
                y.bindBuffer(y.ARRAY_BUFFER, H);
                y.vertexAttribPointer(u, 2, y.FLOAT, !1, 16, 0);
                y.vertexAttribPointer(v, 2, y.FLOAT, !1, 16, 8);
                y.bindBuffer(y.ELEMENT_ARRAY_BUFFER, F);
                y.uniformMatrix4fv(w, !1, Ka.projectionMatrix.elements);
                E.activeTexture(y.TEXTURE0);
                y.uniform1i(h, 0);
                P = N = 0;
                (R = q.fog) ? (y.uniform3f(l, R.color.r, R.color.g, R.color.b), R && R.isFog ? (y.uniform1f(r, R.near), y.uniform1f(x, R.far), y.uniform1i(n, 1), P = N = 1) : R && R.isFogExp2 && (y.uniform1f(p, R.density), y.uniform1i(n, 2), P = N = 2)) :
                (y.uniform1i(n, 0), P = N = 0);
                for (var R = 0, S = b.length; R < S; R++) {
                    var B = b[R];
                    B.modelViewMatrix.multiplyMatrices(Ka.matrixWorldInverse, B.matrixWorld);
                    B.z = -B.modelViewMatrix.elements[14]
                }
                b.sort(I);
                for (var V = [], R = 0, S = b.length; R < S; R++) {
                    var B = b[R],
                        ta = B.material;
                    !1 !== ta.visible && (y.uniform1f(D, ta.alphaTest), y.uniformMatrix4fv(m, !1, B.modelViewMatrix.elements), B.matrixWorld.decompose(K, ja, Aa), V[0] = Aa.x, V[1] = Aa.y, B = 0, q.fog && ta.fog && (B = P), N !== B && (y.uniform1i(n, B), N = B), null !== ta.map ? (y.uniform2f(c, ta.map.offset.x, ta.map.offset.y),
                    y.uniform2f(d, ta.map.repeat.x, ta.map.repeat.y)) : (y.uniform2f(c, 0, 0), y.uniform2f(d, 1, 1)), y.uniform1f(k, ta.opacity), y.uniform3f(g, ta.color.r, ta.color.g, ta.color.b), y.uniform1f(e, ta.rotation), y.uniform2fv(f, V), E.setBlending(ta.blending, ta.blendEquation, ta.blendSrc, ta.blendDst), E.setDepthTest(ta.depthTest), E.setDepthWrite(ta.depthWrite), ta.map ? a.setTexture2D(ta.map, 0) : a.setTexture2D(ca, 0), y.drawElements(y.TRIANGLES, 6, y.UNSIGNED_SHORT, 0))
                }
                E.enable(y.CULL_FACE);
                a.resetGLState()
            }
        }
    }
    function U() {
        Object.defineProperty(this,
        "id", {
            value: oe++
        });
        this.uuid = T.generateUUID();
        this.name = "";
        this.type = "Material";
        this.lights = this.fog = !0;
        this.blending = 1;
        this.side = 0;
        this.shading = 2;
        this.vertexColors = 0;
        this.opacity = 1;
        this.transparent = !1;
        this.blendSrc = 204;
        this.blendDst = 205;
        this.blendEquation = 100;
        this.blendEquationAlpha = this.blendDstAlpha = this.blendSrcAlpha = null;
        this.depthFunc = 3;
        this.depthWrite = this.depthTest = !0;
        this.clippingPlanes = null;
        this.clipShadows = this.clipIntersection = !1;
        this.colorWrite = !0;
        this.precision = null;
        this.polygonOffset =
        !1;
        this.alphaTest = this.polygonOffsetUnits = this.polygonOffsetFactor = 0;
        this.premultipliedAlpha = !1;
        this.overdraw = 0;
        this._needsUpdate = this.visible = !0
    }
    function Fa(a) {
        U.call(this);
        this.type = "ShaderMaterial";
        this.defines = {};
        this.uniforms = {};
        this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";
        this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";
        this.linewidth = 1;
        this.wireframe = !1;
        this.wireframeLinewidth = 1;
        this.morphNormals =
        this.morphTargets = this.skinning = this.clipping = this.lights = this.fog = !1;
        this.extensions = {
            derivatives: !1,
            fragDepth: !1,
            drawBuffers: !1,
            shaderTextureLOD: !1
        };
        this.defaultAttributeValues = {
            color: [1, 1, 1],
            uv: [0, 0],
            uv2: [0, 0]
        };
        this.index0AttributeName = void 0;
        void 0 !== a && (void 0 !== a.attributes && console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."), this.setValues(a))
    }
    function Za(a) {
        U.call(this);
        this.type = "MeshDepthMaterial";
        this.depthPacking = 3200;
        this.morphTargets =
        this.skinning = !1;
        this.displacementMap = this.alphaMap = this.map = null;
        this.displacementScale = 1;
        this.displacementBias = 0;
        this.wireframe = !1;
        this.wireframeLinewidth = 1;
        this.lights = this.fog = !1;
        this.setValues(a)
    }
    function Ba(a, b) {
        this.min = void 0 !== a ? a : new q(Infinity, Infinity, Infinity);
        this.max = void 0 !== b ? b : new q(-Infinity, -Infinity, -Infinity)
    }
    function Ca(a, b) {
        this.center = void 0 !== a ? a : new q;
        this.radius = void 0 !== b ? b : 0
    }
    function Ia() {
        this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
        0 < arguments.length && console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")
    }
    function va(a, b) {
        this.normal = void 0 !== a ? a : new q(1, 0, 0);
        this.constant = void 0 !== b ? b : 0
    }
    function nc(a, b, c, d, e, f) {
        this.planes = [void 0 !== a ? a : new va, void 0 !== b ? b : new va, void 0 !== c ? c : new va, void 0 !== d ? d : new va, void 0 !== e ? e : new va, void 0 !== f ? f : new va]
    }
    function pe(a, b, c, d) {
        function e(b, c, d, e) {
            var f = b.geometry,
                g;
            g = D;
            var h = b.customDepthMaterial;
            d && (g = u, h = b.customDistanceMaterial);
            h ? g = h : (h = !1, c.morphTargets && (f && f.isBufferGeometry ? h = f.morphAttributes && f.morphAttributes.position && 0 < f.morphAttributes.position.length :
            f && f.isGeometry && (h = f.morphTargets && 0 < f.morphTargets.length)), b = b.isSkinnedMesh && c.skinning, f = 0, h && (f |= 1), b && (f |= 2), g = g[f]);
            a.localClippingEnabled && !0 === c.clipShadows && 0 !== c.clippingPlanes.length && (f = g.uuid, h = c.uuid, b = v[f], void 0 === b && (b = {}, v[f] = b), f = b[h], void 0 === f && (f = g.clone(), b[h] = f), g = f);
            g.visible = c.visible;
            g.wireframe = c.wireframe;
            h = c.side;
            ja.renderSingleSided && 2 == h && (h = 0);
            ja.renderReverseSided && (0 === h ? h = 1 : 1 === h && (h = 0));
            g.side = h;
            g.clipShadows = c.clipShadows;
            g.clippingPlanes = c.clippingPlanes;
            g.wireframeLinewidth =
            c.wireframeLinewidth;
            g.linewidth = c.linewidth;
            d && void 0 !== g.uniforms.lightPos && g.uniforms.lightPos.value.copy(e);
            return g
        }
        function f(a, b, c) {
            if (!1 !== a.visible) {
                0 !== (a.layers.mask & b.layers.mask) && (a.isMesh || a.isLine || a.isPoints) && a.castShadow && (!1 === a.frustumCulled || !0 === k.intersectsObject(a)) && !0 === a.material.visible && (a.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse, a.matrixWorld), l.push(a));
                a = a.children;
                for (var d = 0, e = a.length; d < e; d++)
                    f(a[d], b, c)
            }
        }
        var g = a.context,
            h = a.state,
            k = new nc,
            m = new J,
            w = b.shadows,
            n = new B,
            p = new B(d.maxTextureSize, d.maxTextureSize),
            r = new q,
            x = new q,
            l = [],
            D = Array(4),
            u = Array(4),
            v = {},
            I = [new q(1, 0, 0), new q(-1, 0, 0), new q(0, 0, 1), new q(0, 0, -1), new q(0, 1, 0), new q(0, -1, 0)],
            y = [new q(0, 1, 0), new q(0, 1, 0), new q(0, 1, 0), new q(0, 1, 0), new q(0, 0, 1), new q(0, 0, -1)],
            E = [new ga, new ga, new ga, new ga, new ga, new ga];
        b = new Za;
        b.depthPacking = 3201;
        b.clipping = !0;
        d = Gb.distanceRGBA;
        for (var H = La.clone(d.uniforms), F = 0; 4 !== F; ++F) {
            var M = 0 !== (F & 1),
                ca = 0 !== (F & 2),
                K = b.clone();
            K.morphTargets = M;
            K.skinning =
            ca;
            D[F] = K;
            M = new Fa({
                defines: {
                    USE_SHADOWMAP: ""
                },
                uniforms: H,
                vertexShader: d.vertexShader,
                fragmentShader: d.fragmentShader,
                morphTargets: M,
                skinning: ca,
                clipping: !0
            });
            u[F] = M
        }
        var ja = this;
        this.enabled = !1;
        this.autoUpdate = !0;
        this.needsUpdate = !1;
        this.type = 1;
        this.renderSingleSided = this.renderReverseSided = !0;
        this.render = function(b, d) {
            if (!1 !== ja.enabled && (!1 !== ja.autoUpdate || !1 !== ja.needsUpdate) && 0 !== w.length) {
                h.clearColor(1, 1, 1, 1);
                h.disable(g.BLEND);
                h.setDepthTest(!0);
                h.setScissorTest(!1);
                for (var v, u, q = 0, D = w.length; q <
                D; q++) {
                    var H = w[q],
                        F = H.shadow;
                    if (void 0 === F)
                        console.warn("THREE.WebGLShadowMap:", H, "has no shadow.");
                    else {
                        var M = F.camera;
                        n.copy(F.mapSize);
                        n.min(p);
                        if (H && H.isPointLight) {
                            v = 6;
                            u = !0;
                            var K = n.x,
                                ca = n.y;
                            E[0].set(2 * K, ca, K, ca);
                            E[1].set(0, ca, K, ca);
                            E[2].set(3 * K, ca, K, ca);
                            E[3].set(K, ca, K, ca);
                            E[4].set(3 * K, 0, K, ca);
                            E[5].set(K, 0, K, ca);
                            n.x *= 4;
                            n.y *= 2
                        } else
                            v = 1, u = !1;
                        null === F.map && (F.map = new Db(n.x, n.y, {
                            minFilter: 1003,
                            magFilter: 1003,
                            format: 1023
                        }), M.updateProjectionMatrix());
                        F && F.isSpotLightShadow && F.update(H);
                        K = F.map;
                        F =
                        F.matrix;
                        x.setFromMatrixPosition(H.matrixWorld);
                        M.position.copy(x);
                        a.setRenderTarget(K);
                        a.clear();
                        for (K = 0; K < v; K++) {
                            u ? (r.copy(M.position), r.add(I[K]), M.up.copy(y[K]), M.lookAt(r), h.viewport(E[K])) : (r.setFromMatrixPosition(H.target.matrixWorld), M.lookAt(r));
                            M.updateMatrixWorld();
                            M.matrixWorldInverse.getInverse(M.matrixWorld);
                            F.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1);
                            F.multiply(M.projectionMatrix);
                            F.multiply(M.matrixWorldInverse);
                            m.multiplyMatrices(M.projectionMatrix, M.matrixWorldInverse);
                            k.setFromMatrix(m);
                            l.length = 0;
                            f(b, d, M);
                            for (var ca = 0, B = l.length; ca < B; ca++) {
                                var C = l[ca],
                                    z = c.update(C),
                                    G = C.material;
                                if (G && G.isMultiMaterial)
                                    for (var $a = z.groups, G = G.materials, Ad = 0, Da = $a.length; Ad < Da; Ad++) {
                                        var Ra = $a[Ad],
                                            Pa = G[Ra.materialIndex];
                                        !0 === Pa.visible && (Pa = e(C, Pa, u, x), a.renderBufferDirect(M, null, z, Pa, C, Ra))
                                    }
                                else
                                    Pa = e(C, G, u, x), a.renderBufferDirect(M, null, z, Pa, C, null)
                            }
                        }
                    }
                }
                v = a.getClearColor();
                u = a.getClearAlpha();
                a.setClearColor(v, u);
                ja.needsUpdate = !1
            }
        }
    }
    function ab(a, b) {
        this.origin = void 0 !== a ? a : new q;
        this.direction = void 0 !==
        b ? b : new q
    }
    function bb(a, b, c, d) {
        this._x = a || 0;
        this._y = b || 0;
        this._z = c || 0;
        this._order = d || bb.DefaultOrder
    }
    function Yc() {
        this.mask = 1
    }
    function z() {
        Object.defineProperty(this, "id", {
            value: qe++
        });
        this.uuid = T.generateUUID();
        this.name = "";
        this.type = "Object3D";
        this.parent = null;
        this.children = [];
        this.up = z.DefaultUp.clone();
        var a = new q,
            b = new bb,
            c = new ba,
            d = new q(1, 1, 1);
        b.onChange(function() {
            c.setFromEuler(b, !1)
        });
        c.onChange(function() {
            b.setFromQuaternion(c, void 0, !1)
        });
        Object.defineProperties(this, {
            position: {
                enumerable: !0,
                value: a
            },
            rotation: {
                enumerable: !0,
                value: b
            },
            quaternion: {
                enumerable: !0,
                value: c
            },
            scale: {
                enumerable: !0,
                value: d
            },
            modelViewMatrix: {
                value: new J
            },
            normalMatrix: {
                value: new Ia
            }
        });
        this.matrix = new J;
        this.matrixWorld = new J;
        this.matrixAutoUpdate = z.DefaultMatrixAutoUpdate;
        this.matrixWorldNeedsUpdate = !1;
        this.layers = new Yc;
        this.visible = !0;
        this.receiveShadow = this.castShadow = !1;
        this.frustumCulled = !0;
        this.renderOrder = 0;
        this.userData = {};
        this.onBeforeRender = function() {};
        this.onAfterRender = function() {}
    }
    function gb(a, b) {
        this.start =
        void 0 !== a ? a : new q;
        this.end = void 0 !== b ? b : new q
    }
    function wa(a, b, c) {
        this.a = void 0 !== a ? a : new q;
        this.b = void 0 !== b ? b : new q;
        this.c = void 0 !== c ? c : new q
    }
    function ea(a, b, c, d, e, f) {
        this.a = a;
        this.b = b;
        this.c = c;
        this.normal = d && d.isVector3 ? d : new q;
        this.vertexNormals = Array.isArray(d) ? d : [];
        this.color = e && e.isColor ? e : new O;
        this.vertexColors = Array.isArray(e) ? e : [];
        this.materialIndex = void 0 !== f ? f : 0
    }
    function Ma(a) {
        U.call(this);
        this.type = "MeshBasicMaterial";
        this.color = new O(16777215);
        this.aoMap = this.map = null;
        this.aoMapIntensity =
        1;
        this.envMap = this.alphaMap = this.specularMap = null;
        this.combine = 0;
        this.reflectivity = 1;
        this.refractionRatio = .98;
        this.wireframe = !1;
        this.wireframeLinewidth = 1;
        this.wireframeLinejoin = this.wireframeLinecap = "round";
        this.lights = this.morphTargets = this.skinning = !1;
        this.setValues(a)
    }
    function C(a, b, c) {
        if (Array.isArray(a))
            throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
        this.uuid = T.generateUUID();
        this.array = a;
        this.itemSize = b;
        this.count = void 0 !== a ? a.length / b : 0;
        this.normalized = !0 === c;
        this.dynamic = !1;
        this.updateRange = {
            offset: 0,
            count: -1
        };
        this.version = 0
    }
    function Zc(a, b) {
        return new C(new Uint16Array(a), b)
    }
    function $c(a, b) {
        return new C(new Uint32Array(a), b)
    }
    function ha(a, b) {
        return new C(new Float32Array(a), b)
    }
    function Q() {
        Object.defineProperty(this, "id", {
            value: ad++
        });
        this.uuid = T.generateUUID();
        this.name = "";
        this.type = "Geometry";
        this.vertices = [];
        this.colors = [];
        this.faces = [];
        this.faceVertexUvs = [[]];
        this.morphTargets = [];
        this.morphNormals = [];
        this.skinWeights = [];
        this.skinIndices = [];
        this.lineDistances =
        [];
        this.boundingSphere = this.boundingBox = null;
        this.groupsNeedUpdate = this.lineDistancesNeedUpdate = this.colorsNeedUpdate = this.normalsNeedUpdate = this.uvsNeedUpdate = this.verticesNeedUpdate = this.elementsNeedUpdate = !1
    }
    function re() {
        Object.defineProperty(this, "id", {
            value: ad++
        });
        this.uuid = T.generateUUID();
        this.name = "";
        this.type = "DirectGeometry";
        this.indices = [];
        this.vertices = [];
        this.normals = [];
        this.colors = [];
        this.uvs = [];
        this.uvs2 = [];
        this.groups = [];
        this.morphTargets = {};
        this.skinWeights = [];
        this.skinIndices = [];
        this.boundingSphere = this.boundingBox = null;
        this.groupsNeedUpdate = this.uvsNeedUpdate = this.colorsNeedUpdate = this.normalsNeedUpdate = this.verticesNeedUpdate = !1
    }
    function G() {
        Object.defineProperty(this, "id", {
            value: ad++
        });
        this.uuid = T.generateUUID();
        this.name = "";
        this.type = "BufferGeometry";
        this.index = null;
        this.attributes = {};
        this.morphAttributes = {};
        this.groups = [];
        this.boundingSphere = this.boundingBox = null;
        this.drawRange = {
            start: 0,
            count: Infinity
        }
    }
    function ya(a, b) {
        z.call(this);
        this.type = "Mesh";
        this.geometry = void 0 !==
        a ? a : new G;
        this.material = void 0 !== b ? b : new Ma({
            color: 16777215 * Math.random()
        });
        this.drawMode = 0;
        this.updateMorphTargets()
    }
    function hb(a, b, c, d, e, f) {
        function g(a, b, c, d, e, f, g, k, m, B, C) {
            var Ka = f / m,
                N = g / B,
                P = f / 2,
                R = g / 2,
                S = k / 2;
            g = m + 1;
            for (var z = B + 1, V = f = 0, G = new q, L = 0; L < z; L++)
                for (var O = L * N - R, J = 0; J < g; J++)
                    G[a] = (J * Ka - P) * d, G[b] = O * e, G[c] = S, n[l] = G.x, n[l + 1] = G.y, n[l + 2] = G.z, G[a] = 0, G[b] = 0, G[c] = 0 < k ? 1 : -1, p[l] = G.x, p[l + 1] = G.y, p[l + 2] = G.z, r[t] = J / m, r[t + 1] = 1 - L / B, l += 3, t += 2, f += 1;
            for (L = 0; L < B; L++)
                for (J = 0; J < m; J++)
                    a = u + J + g * (L + 1), b = u + (J + 1) +
                    g * (L + 1), c = u + (J + 1) + g * L, w[D] = u + J + g * L, w[D + 1] = a, w[D + 2] = c, w[D + 3] = a, w[D + 4] = b, w[D + 5] = c, D += 6, V += 6;
            h.addGroup(v, V, C);
            v += V;
            u += f
        }
        G.call(this);
        this.type = "BoxBufferGeometry";
        this.parameters = {
            width: a,
            height: b,
            depth: c,
            widthSegments: d,
            heightSegments: e,
            depthSegments: f
        };
        var h = this;
        d = Math.floor(d) || 1;
        e = Math.floor(e) || 1;
        f = Math.floor(f) || 1;
        var k = function(a, b, c) {
                return a = 0 + (a + 1) * (b + 1) * 2 + (a + 1) * (c + 1) * 2 + (c + 1) * (b + 1) * 2
            }(d, e, f),
            m = function(a, b, c) {
                a = 0 + a * b * 2 + a * c * 2 + c * b * 2;
                return 6 * a
            }(d, e, f),
            w = new (65535 < m ? Uint32Array : Uint16Array)(m),
            n = new Float32Array(3 * k),
            p = new Float32Array(3 * k),
            r = new Float32Array(2 * k),
            l = 0,
            t = 0,
            D = 0,
            u = 0,
            v = 0;
        g("z", "y", "x", -1, -1, c, b, a, f, e, 0);
        g("z", "y", "x", 1, -1, c, b, -a, f, e, 1);
        g("x", "z", "y", 1, 1, a, c, b, d, f, 2);
        g("x", "z", "y", 1, -1, a, c, -b, d, f, 3);
        g("x", "y", "z", 1, -1, a, b, c, d, e, 4);
        g("x", "y", "z", -1, -1, a, b, -c, d, e, 5);
        this.setIndex(new C(w, 1));
        this.addAttribute("position", new C(n, 3));
        this.addAttribute("normal", new C(p, 3));
        this.addAttribute("uv", new C(r, 2))
    }
    function ib(a, b, c, d) {
        G.call(this);
        this.type = "PlaneBufferGeometry";
        this.parameters =
        {
            width: a,
            height: b,
            widthSegments: c,
            heightSegments: d
        };
        var e = a / 2,
            f = b / 2;
        c = Math.floor(c) || 1;
        d = Math.floor(d) || 1;
        var g = c + 1,
            h = d + 1,
            k = a / c,
            m = b / d;
        b = new Float32Array(g * h * 3);
        a = new Float32Array(g * h * 3);
        for (var w = new Float32Array(g * h * 2), n = 0, p = 0, r = 0; r < h; r++)
            for (var l = r * m - f, t = 0; t < g; t++)
                b[n] = t * k - e, b[n + 1] = -l, a[n + 2] = 1, w[p] = t / c, w[p + 1] = 1 - r / d, n += 3, p += 2;
        n = 0;
        e = new (65535 < b.length / 3 ? Uint32Array : Uint16Array)(c * d * 6);
        for (r = 0; r < d; r++)
            for (t = 0; t < c; t++)
                f = t + g * (r + 1), h = t + 1 + g * (r + 1), k = t + 1 + g * r, e[n] = t + g * r, e[n + 1] = f, e[n + 2] = k, e[n + 3] = f, e[n + 4] =
                h, e[n + 5] = k, n += 6;
        this.setIndex(new C(e, 1));
        this.addAttribute("position", new C(b, 3));
        this.addAttribute("normal", new C(a, 3));
        this.addAttribute("uv", new C(w, 2))
    }
    function Z() {
        z.call(this);
        this.type = "Camera";
        this.matrixWorldInverse = new J;
        this.projectionMatrix = new J
    }
    function Ea(a, b, c, d) {
        Z.call(this);
        this.type = "PerspectiveCamera";
        this.fov = void 0 !== a ? a : 50;
        this.zoom = 1;
        this.near = void 0 !== c ? c : .1;
        this.far = void 0 !== d ? d : 2E3;
        this.focus = 10;
        this.aspect = void 0 !== b ? b : 1;
        this.view = null;
        this.filmGauge = 35;
        this.filmOffset =
        0;
        this.updateProjectionMatrix()
    }
    function Hb(a, b, c, d, e, f) {
        Z.call(this);
        this.type = "OrthographicCamera";
        this.zoom = 1;
        this.view = null;
        this.left = a;
        this.right = b;
        this.top = c;
        this.bottom = d;
        this.near = void 0 !== e ? e : .1;
        this.far = void 0 !== f ? f : 2E3;
        this.updateProjectionMatrix()
    }
    function jf(a, b, c) {
        var d,
            e,
            f;
        return {
            setMode: function(a) {
                d = a
            },
            setIndex: function(c) {
                c.array instanceof Uint32Array && b.get("OES_element_index_uint") ? (e = a.UNSIGNED_INT, f = 4) : (e = a.UNSIGNED_SHORT, f = 2)
            },
            render: function(b, h) {
                a.drawElements(d, h, e, b * f);
                c.calls++;
                c.vertices += h;
                d === a.TRIANGLES && (c.faces += h / 3)
            },
            renderInstances: function(g, h, k) {
                var m = b.get("ANGLE_instanced_arrays");
                null === m ? console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.") : (m.drawElementsInstancedANGLE(d, k, e, h * f, g.maxInstancedCount), c.calls++, c.vertices += k * g.maxInstancedCount, d === a.TRIANGLES && (c.faces += g.maxInstancedCount * k / 3))
            }
        }
    }
    function kf(a, b, c) {
        var d;
        return {
            setMode: function(a) {
                d = a
            },
            render: function(b,
            f) {
                a.drawArrays(d, b, f);
                c.calls++;
                c.vertices += f;
                d === a.TRIANGLES && (c.faces += f / 3)
            },
            renderInstances: function(e) {
                var f = b.get("ANGLE_instanced_arrays");
                if (null === f)
                    console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                else {
                    var g = e.attributes.position,
                        g = g && g.isInterleavedBufferAttribute ? g.data.count : g.count;
                    f.drawArraysInstancedANGLE(d, 0, g, e.maxInstancedCount);
                    c.calls++;
                    c.vertices += g * e.maxInstancedCount;
                    d === a.TRIANGLES &&
                    (c.faces += e.maxInstancedCount * g / 3)
                }
            }
        }
    }
    function lf() {
        var a = {};
        return {
            get: function(b) {
                if (void 0 !== a[b.id])
                    return a[b.id];
                var c;
                switch (b.type) {
                case "DirectionalLight":
                    c = {
                        direction: new q,
                        color: new O,
                        shadow: !1,
                        shadowBias: 0,
                        shadowRadius: 1,
                        shadowMapSize: new B
                    };
                    break;
                case "SpotLight":
                    c = {
                        position: new q,
                        direction: new q,
                        color: new O,
                        distance: 0,
                        coneCos: 0,
                        penumbraCos: 0,
                        decay: 0,
                        shadow: !1,
                        shadowBias: 0,
                        shadowRadius: 1,
                        shadowMapSize: new B
                    };
                    break;
                case "PointLight":
                    c = {
                        position: new q,
                        color: new O,
                        distance: 0,
                        decay: 0,
                        shadow: !1,
                        shadowBias: 0,
                        shadowRadius: 1,
                        shadowMapSize: new B
                    };
                    break;
                case "HemisphereLight":
                    c = {
                        direction: new q,
                        skyColor: new O,
                        groundColor: new O
                    }
                }
                return a[b.id] = c
            }
        }
    }
    function mf(a) {
        a = a.split("\n");
        for (var b = 0; b < a.length; b++)
            a[b] = b + 1 + ": " + a[b];
        return a.join("\n")
    }
    function se(a, b, c) {
        var d = a.createShader(b);
        a.shaderSource(d, c);
        a.compileShader(d);
        !1 === a.getShaderParameter(d, a.COMPILE_STATUS) && console.error("THREE.WebGLShader: Shader couldn't compile.");
        "" !== a.getShaderInfoLog(d) && console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",
        b === a.VERTEX_SHADER ? "vertex" : "fragment", a.getShaderInfoLog(d), mf(c));
        return d
    }
    function te(a) {
        switch (a) {
        case 3E3:
            return ["Linear", "( value )"];
        case 3001:
            return ["sRGB", "( value )"];
        case 3002:
            return ["RGBE", "( value )"];
        case 3004:
            return ["RGBM", "( value, 7.0 )"];
        case 3005:
            return ["RGBM", "( value, 16.0 )"];
        case 3006:
            return ["RGBD", "( value, 256.0 )"];
        case 3007:
            return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
        default:
            throw Error("unsupported encoding: " + a);
        }
    }
    function Bd(a, b) {
        var c = te(b);
        return "vec4 " + a + "( vec4 value ) { return " +
        c[0] + "ToLinear" + c[1] + "; }"
    }
    function nf(a, b) {
        var c = te(b);
        return "vec4 " + a + "( vec4 value ) { return LinearTo" + c[0] + c[1] + "; }"
    }
    function of(a, b) {
        var c;
        switch (b) {
        case 1:
            c = "Linear";
            break;
        case 2:
            c = "Reinhard";
            break;
        case 3:
            c = "Uncharted2";
            break;
        case 4:
            c = "OptimizedCineon";
            break;
        default:
            throw Error("unsupported toneMapping: " + b);
        }
        return "vec3 " + a + "( vec3 color ) { return " + c + "ToneMapping( color ); }"
    }
    function pf(a, b, c) {
        a = a || {};
        return [a.derivatives || b.envMapCubeUV || b.bumpMap || b.normalMap || b.flatShading ? "#extension GL_OES_standard_derivatives : enable" :
        "", (a.fragDepth || b.logarithmicDepthBuffer) && c.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", a.drawBuffers && c.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (a.shaderTextureLOD || b.envMap) && c.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""].filter(oc).join("\n")
    }
    function qf(a) {
        var b = [],
            c;
        for (c in a) {
            var d = a[c];
            !1 !== d && b.push("#define " + c + " " + d)
        }
        return b.join("\n")
    }
    function oc(a) {
        return "" !== a
    }
    function ue(a, b) {
        return a.replace(/NUM_DIR_LIGHTS/g,
        b.numDirLights).replace(/NUM_SPOT_LIGHTS/g, b.numSpotLights).replace(/NUM_POINT_LIGHTS/g, b.numPointLights).replace(/NUM_HEMI_LIGHTS/g, b.numHemiLights)
    }
    function Cd(a) {
        return a.replace(/#include +<([\w\d.]+)>/g, function(a, c) {
            var d = X[c];
            if (void 0 === d)
                throw Error("Can not resolve #include <" + c + ">");
            return Cd(d)
        })
    }
    function ve(a) {
        return a.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g, function(a, c, d, e) {
            a = "";
            for (c = parseInt(c); c < parseInt(d); c++)
                a += e.replace(/\[ i \]/g, "[ " + c +
                " ]");
            return a
        })
    }
    function rf(a, b, c, d) {
        var e = a.context,
            f = c.extensions,
            g = c.defines,
            h = c.__webglShader.vertexShader,
            k = c.__webglShader.fragmentShader,
            m = "SHADOWMAP_TYPE_BASIC";
        1 === d.shadowMapType ? m = "SHADOWMAP_TYPE_PCF" : 2 === d.shadowMapType && (m = "SHADOWMAP_TYPE_PCF_SOFT");
        var w = "ENVMAP_TYPE_CUBE",
            n = "ENVMAP_MODE_REFLECTION",
            p = "ENVMAP_BLENDING_MULTIPLY";
        if (d.envMap) {
            switch (c.envMap.mapping) {
            case 301:
            case 302:
                w = "ENVMAP_TYPE_CUBE";
                break;
            case 306:
            case 307:
                w = "ENVMAP_TYPE_CUBE_UV";
                break;
            case 303:
            case 304:
                w = "ENVMAP_TYPE_EQUIREC";
                break;
            case 305:
                w = "ENVMAP_TYPE_SPHERE"
            }
            switch (c.envMap.mapping) {
            case 302:
            case 304:
                n = "ENVMAP_MODE_REFRACTION"
            }
            switch (c.combine) {
            case 0:
                p = "ENVMAP_BLENDING_MULTIPLY";
                break;
            case 1:
                p = "ENVMAP_BLENDING_MIX";
                break;
            case 2:
                p = "ENVMAP_BLENDING_ADD"
            }
        }
        var r = 0 < a.gammaFactor ? a.gammaFactor : 1,
            f = pf(f, d, a.extensions),
            l = qf(g),
            t = e.createProgram();
        c.isRawShaderMaterial ? (g = [l, "\n"].filter(oc).join("\n"), m = [f, l, "\n"].filter(oc).join("\n")) : (g = ["precision " + d.precision + " float;", "precision " + d.precision + " int;", "#define SHADER_NAME " +
        c.__webglShader.name, l, d.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + r, "#define MAX_BONES " + d.maxBones, d.map ? "#define USE_MAP" : "", d.envMap ? "#define USE_ENVMAP" : "", d.envMap ? "#define " + n : "", d.lightMap ? "#define USE_LIGHTMAP" : "", d.aoMap ? "#define USE_AOMAP" : "", d.emissiveMap ? "#define USE_EMISSIVEMAP" : "", d.bumpMap ? "#define USE_BUMPMAP" : "", d.normalMap ? "#define USE_NORMALMAP" : "", d.displacementMap && d.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", d.specularMap ? "#define USE_SPECULARMAP" :
        "", d.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", d.metalnessMap ? "#define USE_METALNESSMAP" : "", d.alphaMap ? "#define USE_ALPHAMAP" : "", d.vertexColors ? "#define USE_COLOR" : "", d.flatShading ? "#define FLAT_SHADED" : "", d.skinning ? "#define USE_SKINNING" : "", d.useVertexTexture ? "#define BONE_TEXTURE" : "", d.morphTargets ? "#define USE_MORPHTARGETS" : "", d.morphNormals && !1 === d.flatShading ? "#define USE_MORPHNORMALS" : "", d.doubleSided ? "#define DOUBLE_SIDED" : "", d.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " +
        d.numClippingPlanes, d.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", d.shadowMapEnabled ? "#define " + m : "", d.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", d.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", d.logarithmicDepthBuffer && a.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;",
        "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;",
        "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(oc).join("\n"), m = [f, "precision " + d.precision + " float;", "precision " + d.precision + " int;", "#define SHADER_NAME " + c.__webglShader.name, l, d.alphaTest ? "#define ALPHATEST " + d.alphaTest : "", "#define GAMMA_FACTOR " + r, d.useFog && d.fog ? "#define USE_FOG" : "", d.useFog && d.fogExp ? "#define FOG_EXP2" : "", d.map ? "#define USE_MAP" :
        "", d.envMap ? "#define USE_ENVMAP" : "", d.envMap ? "#define " + w : "", d.envMap ? "#define " + n : "", d.envMap ? "#define " + p : "", d.lightMap ? "#define USE_LIGHTMAP" : "", d.aoMap ? "#define USE_AOMAP" : "", d.emissiveMap ? "#define USE_EMISSIVEMAP" : "", d.bumpMap ? "#define USE_BUMPMAP" : "", d.normalMap ? "#define USE_NORMALMAP" : "", d.specularMap ? "#define USE_SPECULARMAP" : "", d.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", d.metalnessMap ? "#define USE_METALNESSMAP" : "", d.alphaMap ? "#define USE_ALPHAMAP" : "", d.vertexColors ? "#define USE_COLOR" :
        "", d.flatShading ? "#define FLAT_SHADED" : "", d.doubleSided ? "#define DOUBLE_SIDED" : "", d.flipSided ? "#define FLIP_SIDED" : "", "#define NUM_CLIPPING_PLANES " + d.numClippingPlanes, "#define UNION_CLIPPING_PLANES " + (d.numClippingPlanes - d.numClipIntersection), d.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", d.shadowMapEnabled ? "#define " + m : "", d.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", d.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", d.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", d.logarithmicDepthBuffer &&
        a.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", d.envMap && a.extensions.get("EXT_shader_texture_lod") ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", 0 !== d.toneMapping ? "#define TONE_MAPPING" : "", 0 !== d.toneMapping ? X.tonemapping_pars_fragment : "", 0 !== d.toneMapping ? of("toneMapping", d.toneMapping) : "", d.outputEncoding || d.mapEncoding || d.envMapEncoding || d.emissiveMapEncoding ? X.encodings_pars_fragment : "", d.mapEncoding ? Bd("mapTexelToLinear", d.mapEncoding) :
        "", d.envMapEncoding ? Bd("envMapTexelToLinear", d.envMapEncoding) : "", d.emissiveMapEncoding ? Bd("emissiveMapTexelToLinear", d.emissiveMapEncoding) : "", d.outputEncoding ? nf("linearToOutputTexel", d.outputEncoding) : "", d.depthPacking ? "#define DEPTH_PACKING " + c.depthPacking : "", "\n"].filter(oc).join("\n"));
        h = Cd(h, d);
        h = ue(h, d);
        k = Cd(k, d);
        k = ue(k, d);
        c.isShaderMaterial || (h = ve(h), k = ve(k));
        k = m + k;
        h = se(e, e.VERTEX_SHADER, g + h);
        k = se(e, e.FRAGMENT_SHADER, k);
        e.attachShader(t, h);
        e.attachShader(t, k);
        void 0 !== c.index0AttributeName ?
        e.bindAttribLocation(t, 0, c.index0AttributeName) : !0 === d.morphTargets && e.bindAttribLocation(t, 0, "position");
        e.linkProgram(t);
        d = e.getProgramInfoLog(t);
        w = e.getShaderInfoLog(h);
        n = e.getShaderInfoLog(k);
        r = p = !0;
        if (!1 === e.getProgramParameter(t, e.LINK_STATUS))
            p = !1, console.error("THREE.WebGLProgram: shader error: ", e.getError(), "gl.VALIDATE_STATUS", e.getProgramParameter(t, e.VALIDATE_STATUS), "gl.getProgramInfoLog", d, w, n);
        else if ("" !== d)
            console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", d);
        else if ("" ===
        w || "" === n)
            r = !1;
        r && (this.diagnostics = {
            runnable: p,
            material: c,
            programLog: d,
            vertexShader: {
                log: w,
                prefix: g
            },
            fragmentShader: {
                log: n,
                prefix: m
            }
        });
        e.deleteShader(h);
        e.deleteShader(k);
        var q;
        this.getUniforms = function() {
            void 0 === q && (q = new Ya(e, t, a));
            return q
        };
        var u;
        this.getAttributes = function() {
            if (void 0 === u) {
                for (var a = {}, b = e.getProgramParameter(t, e.ACTIVE_ATTRIBUTES), c = 0; c < b; c++) {
                    var d = e.getActiveAttrib(t, c).name;
                    a[d] = e.getAttribLocation(t, d)
                }
                u = a
            }
            return u
        };
        this.destroy = function() {
            e.deleteProgram(t);
            this.program =
            void 0
        };
        Object.defineProperties(this, {
            uniforms: {
                get: function() {
                    console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");
                    return this.getUniforms()
                }
            },
            attributes: {
                get: function() {
                    console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");
                    return this.getAttributes()
                }
            }
        });
        this.id = sf++;
        this.code = b;
        this.usedTimes = 1;
        this.program = t;
        this.vertexShader = h;
        this.fragmentShader = k;
        return this
    }
    function tf(a, b) {
        function c(a, b) {
            var c;
            a ? a && a.isTexture ? c = a.encoding : a && a.isWebGLRenderTarget && (console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),
            c = a.texture.encoding) : c = 3E3;
            3E3 === c && b && (c = 3007);
            return c
        }
        var d = [],
            e = {
                MeshDepthMaterial: "depth",
                MeshNormalMaterial: "normal",
                MeshBasicMaterial: "basic",
                MeshLambertMaterial: "lambert",
                MeshPhongMaterial: "phong",
                MeshStandardMaterial: "physical",
                MeshPhysicalMaterial: "physical",
                LineBasicMaterial: "basic",
                LineDashedMaterial: "dashed",
                PointsMaterial: "points"
            },
            f = "precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking".split(" ");
        this.getParameters = function(d, f, k, m, w, n) {
            var p = e[d.type],
                r;
            b.floatVertexTextures && n && n.skeleton && n.skeleton.useVertexTexture ? r = 1024 : (r = Math.floor((b.maxVertexUniforms - 20) / 4), void 0 !== n && n && n.isSkinnedMesh && (r = Math.min(n.skeleton.bones.length, r), r < n.skeleton.bones.length && console.warn("WebGLRenderer: too many bones - " + n.skeleton.bones.length + ", this GPU supports just " + r + " (try OpenGL instead of ANGLE)")));
            var l = a.getPrecision();
            null !== d.precision && (l = b.getMaxPrecision(d.precision), l !== d.precision &&
            console.warn("THREE.WebGLProgram.getParameters:", d.precision, "not supported, using", l, "instead."));
            var t = a.getCurrentRenderTarget();
            return {
                shaderID: p,
                precision: l,
                supportsVertexTextures: b.vertexTextures,
                outputEncoding: c(t ? t.texture : null, a.gammaOutput),
                map: !!d.map,
                mapEncoding: c(d.map, a.gammaInput),
                envMap: !!d.envMap,
                envMapMode: d.envMap && d.envMap.mapping,
                envMapEncoding: c(d.envMap, a.gammaInput),
                envMapCubeUV: !!d.envMap && (306 === d.envMap.mapping || 307 === d.envMap.mapping),
                lightMap: !!d.lightMap,
                aoMap: !!d.aoMap,
                emissiveMap: !!d.emissiveMap,
                emissiveMapEncoding: c(d.emissiveMap, a.gammaInput),
                bumpMap: !!d.bumpMap,
                normalMap: !!d.normalMap,
                displacementMap: !!d.displacementMap,
                roughnessMap: !!d.roughnessMap,
                metalnessMap: !!d.metalnessMap,
                specularMap: !!d.specularMap,
                alphaMap: !!d.alphaMap,
                combine: d.combine,
                vertexColors: d.vertexColors,
                fog: !!k,
                useFog: d.fog,
                fogExp: k && k.isFogExp2,
                flatShading: 1 === d.shading,
                sizeAttenuation: d.sizeAttenuation,
                logarithmicDepthBuffer: b.logarithmicDepthBuffer,
                skinning: d.skinning,
                maxBones: r,
                useVertexTexture: b.floatVertexTextures &&
                n && n.skeleton && n.skeleton.useVertexTexture,
                morphTargets: d.morphTargets,
                morphNormals: d.morphNormals,
                maxMorphTargets: a.maxMorphTargets,
                maxMorphNormals: a.maxMorphNormals,
                numDirLights: f.directional.length,
                numPointLights: f.point.length,
                numSpotLights: f.spot.length,
                numHemiLights: f.hemi.length,
                numClippingPlanes: m,
                numClipIntersection: w,
                shadowMapEnabled: a.shadowMap.enabled && n.receiveShadow && 0 < f.shadows.length,
                shadowMapType: a.shadowMap.type,
                toneMapping: a.toneMapping,
                physicallyCorrectLights: a.physicallyCorrectLights,
                premultipliedAlpha: d.premultipliedAlpha,
                alphaTest: d.alphaTest,
                doubleSided: 2 === d.side,
                flipSided: 1 === d.side,
                depthPacking: void 0 !== d.depthPacking ? d.depthPacking : !1
            }
        };
        this.getProgramCode = function(a, b) {
            var c = [];
            b.shaderID ? c.push(b.shaderID) : (c.push(a.fragmentShader), c.push(a.vertexShader));
            if (void 0 !== a.defines)
                for (var d in a.defines)
                    c.push(d), c.push(a.defines[d]);
            for (d = 0; d < f.length; d++)
                c.push(b[f[d]]);
            return c.join()
        };
        this.acquireProgram = function(b, c, e) {
            for (var f, w = 0, n = d.length; w < n; w++) {
                var p = d[w];
                if (p.code ===
                e) {
                    f = p;
                    ++f.usedTimes;
                    break
                }
            }
            void 0 === f && (f = new rf(a, e, b, c), d.push(f));
            return f
        };
        this.releaseProgram = function(a) {
            if (0 === --a.usedTimes) {
                var b = d.indexOf(a);
                d[b] = d[d.length - 1];
                d.pop();
                a.destroy()
            }
        };
        this.programs = d
    }
    function uf(a, b, c) {
        function d(a) {
            var h = a.target;
            a = f[h.id];
            null !== a.index && e(a.index);
            var k = a.attributes,
                m;
            for (m in k)
                e(k[m]);
            h.removeEventListener("dispose", d);
            delete f[h.id];
            m = b.get(h);
            m.wireframe && e(m.wireframe);
            b["delete"](h);
            h = b.get(a);
            h.wireframe && e(h.wireframe);
            b["delete"](a);
            c.memory.geometries--
        }
        function e(c) {
            var d;
            d = c.isInterleavedBufferAttribute ? b.get(c.data).__webglBuffer : b.get(c).__webglBuffer;
            void 0 !== d && (a.deleteBuffer(d), c.isInterleavedBufferAttribute ? b["delete"](c.data) : b["delete"](c))
        }
        var f = {};
        return {
            get: function(a) {
                var b = a.geometry;
                if (void 0 !== f[b.id])
                    return f[b.id];
                b.addEventListener("dispose", d);
                var e;
                b.isBufferGeometry ? e = b : b.isGeometry && (void 0 === b._bufferGeometry && (b._bufferGeometry = (new G).setFromObject(a)), e = b._bufferGeometry);
                f[b.id] = e;
                c.memory.geometries++;
                return e
            }
        }
    }
    function vf(a,
    b, c) {
        function d(c, d) {
            var e = c.isInterleavedBufferAttribute ? c.data : c,
                k = b.get(e);
            void 0 === k.__webglBuffer ? (k.__webglBuffer = a.createBuffer(), a.bindBuffer(d, k.__webglBuffer), a.bufferData(d, e.array, e.dynamic ? a.DYNAMIC_DRAW : a.STATIC_DRAW), k.version = e.version) : k.version !== e.version && (a.bindBuffer(d, k.__webglBuffer), !1 === e.dynamic ? a.bufferData(d, e.array, a.STATIC_DRAW) : -1 === e.updateRange.count ? a.bufferSubData(d, 0, e.array) : 0 === e.updateRange.count ? console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.") :
            (a.bufferSubData(d, e.updateRange.offset * e.array.BYTES_PER_ELEMENT, e.array.subarray(e.updateRange.offset, e.updateRange.offset + e.updateRange.count)), e.updateRange.count = 0), k.version = e.version)
        }
        var e = new uf(a, b, c);
        return {
            getAttributeBuffer: function(a) {
                return a.isInterleavedBufferAttribute ? b.get(a.data).__webglBuffer : b.get(a).__webglBuffer
            },
            getWireframeAttribute: function(c) {
                var e = b.get(c);
                if (void 0 !== e.wireframe)
                    return e.wireframe;
                var h = [],
                    k = c.index,
                    m = c.attributes;
                c = m.position;
                if (null !== k)
                    for (var k = k.array,
                        m = 0, w = k.length; m < w; m += 3) {
                        var n = k[m + 0],
                            p = k[m + 1],
                            r = k[m + 2];
                        h.push(n, p, p, r, r, n)
                    }
                else
                    for (k = m.position.array, m = 0, w = k.length / 3 - 1; m < w; m += 3)
                        n = m + 0, p = m + 1, r = m + 2, h.push(n, p, p, r, r, n);
                h = new C(new (65535 < c.count ? Uint32Array : Uint16Array)(h), 1);
                d(h, a.ELEMENT_ARRAY_BUFFER);
                return e.wireframe = h
            },
            update: function(b) {
                var c = e.get(b);
                b.geometry.isGeometry && c.updateFromObject(b);
                b = c.index;
                var h = c.attributes;
                null !== b && d(b, a.ELEMENT_ARRAY_BUFFER);
                for (var k in h)
                    d(h[k], a.ARRAY_BUFFER);
                b = c.morphAttributes;
                for (k in b)
                    for (var h =
                        b[k], m = 0, w = h.length; m < w; m++)
                        d(h[m], a.ARRAY_BUFFER);
                return c
            }
        }
    }
    function wf(a, b, c, d, e, f, g) {
        function h(a, b) {
            if (a.width > b || a.height > b) {
                var c = b / Math.max(a.width, a.height),
                    d = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                d.width = Math.floor(a.width * c);
                d.height = Math.floor(a.height * c);
                d.getContext("2d").drawImage(a, 0, 0, a.width, a.height, 0, 0, d.width, d.height);
                console.warn("THREE.WebGLRenderer: image is too big (" + a.width + "x" + a.height + "). Resized to " + d.width + "x" + d.height, a);
                return d
            }
            return a
        }
        function k(a) {
            return T.isPowerOfTwo(a.width) && T.isPowerOfTwo(a.height)
        }
        function m(b) {
            return 1003 === b || 1004 === b || 1005 === b ? a.NEAREST : a.LINEAR
        }
        function w(b) {
            b = b.target;
            b.removeEventListener("dispose", w);
            a:
            {
                var c = d.get(b);
                if (b.image && c.__image__webglTextureCube)
                    a.deleteTexture(c.__image__webglTextureCube);
                else {
                    if (void 0 === c.__webglInit)
                        break a;
                    a.deleteTexture(c.__webglTexture)
                }
                d["delete"](b)
            }q.textures--
        }
        function n(b) {
            b = b.target;
            b.removeEventListener("dispose", n);
            var c = d.get(b),
                e = d.get(b.texture);
            if (b) {
                void 0 !==
                e.__webglTexture && a.deleteTexture(e.__webglTexture);
                b.depthTexture && b.depthTexture.dispose();
                if (b && b.isWebGLRenderTargetCube)
                    for (e = 0; 6 > e; e++)
                        a.deleteFramebuffer(c.__webglFramebuffer[e]), c.__webglDepthbuffer && a.deleteRenderbuffer(c.__webglDepthbuffer[e]);
                else
                    a.deleteFramebuffer(c.__webglFramebuffer), c.__webglDepthbuffer && a.deleteRenderbuffer(c.__webglDepthbuffer);
                d["delete"](b.texture);
                d["delete"](b)
            }
            q.textures--
        }
        function p(b, g) {
            var m = d.get(b);
            if (0 < b.version && m.__version !== b.version) {
                var p = b.image;
                if (void 0 === p)
                    console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined", b);
                else if (!1 === p.complete)
                    console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete", b);
                else {
                    void 0 === m.__webglInit && (m.__webglInit = !0, b.addEventListener("dispose", w), m.__webglTexture = a.createTexture(), q.textures++);
                    c.activeTexture(a.TEXTURE0 + g);
                    c.bindTexture(a.TEXTURE_2D, m.__webglTexture);
                    a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL, b.flipY);
                    a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
                    b.premultiplyAlpha);
                    a.pixelStorei(a.UNPACK_ALIGNMENT, b.unpackAlignment);
                    var n = h(b.image, e.maxTextureSize);
                    if ((1001 !== b.wrapS || 1001 !== b.wrapT || 1003 !== b.minFilter && 1006 !== b.minFilter) && !1 === k(n))
                        if (p = n, p instanceof HTMLImageElement || p instanceof HTMLCanvasElement) {
                            var l = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                            l.width = T.nearestPowerOfTwo(p.width);
                            l.height = T.nearestPowerOfTwo(p.height);
                            l.getContext("2d").drawImage(p, 0, 0, l.width, l.height);
                            console.warn("THREE.WebGLRenderer: image is not power of two (" +
                            p.width + "x" + p.height + "). Resized to " + l.width + "x" + l.height, p);
                            n = l
                        } else
                            n = p;
                    var p = k(n),
                        l = f(b.format),
                        x = f(b.type);
                    r(a.TEXTURE_2D, b, p);
                    var t = b.mipmaps;
                    if (b && b.isDepthTexture) {
                        t = a.DEPTH_COMPONENT;
                        if (1015 === b.type) {
                            if (!u)
                                throw Error("Float Depth Texture only supported in WebGL2.0");
                            t = a.DEPTH_COMPONENT32F
                        } else
                            u && (t = a.DEPTH_COMPONENT16);
                        1027 === b.format && (t = a.DEPTH_STENCIL);
                        c.texImage2D(a.TEXTURE_2D, 0, t, n.width, n.height, 0, l, x, null)
                    } else if (b && b.isDataTexture)
                        if (0 < t.length && p) {
                            for (var K = 0, ja = t.length; K < ja; K++)
                                n =
                                t[K], c.texImage2D(a.TEXTURE_2D, K, l, n.width, n.height, 0, l, x, n.data);
                            b.generateMipmaps = !1
                        } else
                            c.texImage2D(a.TEXTURE_2D, 0, l, n.width, n.height, 0, l, x, n.data);
                    else if (b && b.isCompressedTexture)
                        for (K = 0, ja = t.length; K < ja; K++)
                            n = t[K], 1023 !== b.format && 1022 !== b.format ? -1 < c.getCompressedTextureFormats().indexOf(l) ? c.compressedTexImage2D(a.TEXTURE_2D, K, l, n.width, n.height, 0, n.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : c.texImage2D(a.TEXTURE_2D,
                            K, l, n.width, n.height, 0, l, x, n.data);
                    else if (0 < t.length && p) {
                        K = 0;
                        for (ja = t.length; K < ja; K++)
                            n = t[K], c.texImage2D(a.TEXTURE_2D, K, l, l, x, n);
                        b.generateMipmaps = !1
                    } else
                        c.texImage2D(a.TEXTURE_2D, 0, l, l, x, n);
                    b.generateMipmaps && p && a.generateMipmap(a.TEXTURE_2D);
                    m.__version = b.version;
                    if (b.onUpdate)
                        b.onUpdate(b);
                    return
                }
            }
            c.activeTexture(a.TEXTURE0 + g);
            c.bindTexture(a.TEXTURE_2D, m.__webglTexture)
        }
        function r(c, g, h) {
            h ? (a.texParameteri(c, a.TEXTURE_WRAP_S, f(g.wrapS)), a.texParameteri(c, a.TEXTURE_WRAP_T, f(g.wrapT)), a.texParameteri(c,
            a.TEXTURE_MAG_FILTER, f(g.magFilter)), a.texParameteri(c, a.TEXTURE_MIN_FILTER, f(g.minFilter))) : (a.texParameteri(c, a.TEXTURE_WRAP_S, a.CLAMP_TO_EDGE), a.texParameteri(c, a.TEXTURE_WRAP_T, a.CLAMP_TO_EDGE), 1001 === g.wrapS && 1001 === g.wrapT || console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.", g), a.texParameteri(c, a.TEXTURE_MAG_FILTER, m(g.magFilter)), a.texParameteri(c, a.TEXTURE_MIN_FILTER, m(g.minFilter)), 1003 !== g.minFilter &&
            1006 !== g.minFilter && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.", g));
            !(h = b.get("EXT_texture_filter_anisotropic")) || 1015 === g.type && null === b.get("OES_texture_float_linear") || 1016 === g.type && null === b.get("OES_texture_half_float_linear") || !(1 < g.anisotropy || d.get(g).__currentAnisotropy) || (a.texParameterf(c, h.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(g.anisotropy, e.getMaxAnisotropy())), d.get(g).__currentAnisotropy =
            g.anisotropy)
        }
        function l(b, e, g, h) {
            var k = f(e.texture.format),
                m = f(e.texture.type);
            c.texImage2D(h, 0, k, e.width, e.height, 0, k, m, null);
            a.bindFramebuffer(a.FRAMEBUFFER, b);
            a.framebufferTexture2D(a.FRAMEBUFFER, g, h, d.get(e.texture).__webglTexture, 0);
            a.bindFramebuffer(a.FRAMEBUFFER, null)
        }
        function t(b, c) {
            a.bindRenderbuffer(a.RENDERBUFFER, b);
            c.depthBuffer && !c.stencilBuffer ? (a.renderbufferStorage(a.RENDERBUFFER, a.DEPTH_COMPONENT16, c.width, c.height), a.framebufferRenderbuffer(a.FRAMEBUFFER, a.DEPTH_ATTACHMENT, a.RENDERBUFFER,
            b)) : c.depthBuffer && c.stencilBuffer ? (a.renderbufferStorage(a.RENDERBUFFER, a.DEPTH_STENCIL, c.width, c.height), a.framebufferRenderbuffer(a.FRAMEBUFFER, a.DEPTH_STENCIL_ATTACHMENT, a.RENDERBUFFER, b)) : a.renderbufferStorage(a.RENDERBUFFER, a.RGBA4, c.width, c.height);
            a.bindRenderbuffer(a.RENDERBUFFER, null)
        }
        var q = g.memory,
            u = "undefined" !== typeof WebGL2RenderingContext && a instanceof WebGL2RenderingContext;
        this.setTexture2D = p;
        this.setTextureCube = function(b, g) {
            var m = d.get(b);
            if (6 === b.image.length)
                if (0 < b.version &&
                m.__version !== b.version) {
                    m.__image__webglTextureCube || (b.addEventListener("dispose", w), m.__image__webglTextureCube = a.createTexture(), q.textures++);
                    c.activeTexture(a.TEXTURE0 + g);
                    c.bindTexture(a.TEXTURE_CUBE_MAP, m.__image__webglTextureCube);
                    a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL, b.flipY);
                    for (var p = b && b.isCompressedTexture, n = b.image[0] && b.image[0].isDataTexture, l = [], x = 0; 6 > x; x++)
                        l[x] = p || n ? n ? b.image[x].image : b.image[x] : h(b.image[x], e.maxCubemapSize);
                    var t = k(l[0]),
                        u = f(b.format),
                        ja = f(b.type);
                    r(a.TEXTURE_CUBE_MAP,
                    b, t);
                    for (x = 0; 6 > x; x++)
                        if (p)
                            for (var B, C = l[x].mipmaps, z = 0, N = C.length; z < N; z++)
                                B = C[z], 1023 !== b.format && 1022 !== b.format ? -1 < c.getCompressedTextureFormats().indexOf(u) ? c.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X + x, z, u, B.width, B.height, 0, B.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X + x, z, u, B.width, B.height, 0, u, ja, B.data);
                        else
                            n ? c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X + x, 0, u, l[x].width,
                            l[x].height, 0, u, ja, l[x].data) : c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X + x, 0, u, u, ja, l[x]);
                    b.generateMipmaps && t && a.generateMipmap(a.TEXTURE_CUBE_MAP);
                    m.__version = b.version;
                    if (b.onUpdate)
                        b.onUpdate(b)
                } else
                    c.activeTexture(a.TEXTURE0 + g), c.bindTexture(a.TEXTURE_CUBE_MAP, m.__image__webglTextureCube)
        };
        this.setTextureCubeDynamic = function(b, e) {
            c.activeTexture(a.TEXTURE0 + e);
            c.bindTexture(a.TEXTURE_CUBE_MAP, d.get(b).__webglTexture)
        };
        this.setupRenderTarget = function(b) {
            var e = d.get(b),
                f = d.get(b.texture);
            b.addEventListener("dispose",
            n);
            f.__webglTexture = a.createTexture();
            q.textures++;
            var g = b && b.isWebGLRenderTargetCube,
                h = k(b);
            if (g) {
                e.__webglFramebuffer = [];
                for (var m = 0; 6 > m; m++)
                    e.__webglFramebuffer[m] = a.createFramebuffer()
            } else
                e.__webglFramebuffer = a.createFramebuffer();
            if (g) {
                c.bindTexture(a.TEXTURE_CUBE_MAP, f.__webglTexture);
                r(a.TEXTURE_CUBE_MAP, b.texture, h);
                for (m = 0; 6 > m; m++)
                    l(e.__webglFramebuffer[m], b, a.COLOR_ATTACHMENT0, a.TEXTURE_CUBE_MAP_POSITIVE_X + m);
                b.texture.generateMipmaps && h && a.generateMipmap(a.TEXTURE_CUBE_MAP);
                c.bindTexture(a.TEXTURE_CUBE_MAP,
                null)
            } else
                c.bindTexture(a.TEXTURE_2D, f.__webglTexture), r(a.TEXTURE_2D, b.texture, h), l(e.__webglFramebuffer, b, a.COLOR_ATTACHMENT0, a.TEXTURE_2D), b.texture.generateMipmaps && h && a.generateMipmap(a.TEXTURE_2D), c.bindTexture(a.TEXTURE_2D, null);
            if (b.depthBuffer) {
                e = d.get(b);
                f = b && b.isWebGLRenderTargetCube;
                if (b.depthTexture) {
                    if (f)
                        throw Error("target.depthTexture not supported in Cube render targets");
                    if (b && b.isWebGLRenderTargetCube)
                        throw Error("Depth Texture with cube render targets is not supported!");
                    a.bindFramebuffer(a.FRAMEBUFFER,
                    e.__webglFramebuffer);
                    if (!b.depthTexture || !b.depthTexture.isDepthTexture)
                        throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
                    d.get(b.depthTexture).__webglTexture && b.depthTexture.image.width === b.width && b.depthTexture.image.height === b.height || (b.depthTexture.image.width = b.width, b.depthTexture.image.height = b.height, b.depthTexture.needsUpdate = !0);
                    p(b.depthTexture, 0);
                    e = d.get(b.depthTexture).__webglTexture;
                    if (1026 === b.depthTexture.format)
                        a.framebufferTexture2D(a.FRAMEBUFFER,
                        a.DEPTH_ATTACHMENT, a.TEXTURE_2D, e, 0);
                    else if (1027 === b.depthTexture.format)
                        a.framebufferTexture2D(a.FRAMEBUFFER, a.DEPTH_STENCIL_ATTACHMENT, a.TEXTURE_2D, e, 0);
                    else
                        throw Error("Unknown depthTexture format");
                } else if (f)
                    for (e.__webglDepthbuffer = [], f = 0; 6 > f; f++)
                        a.bindFramebuffer(a.FRAMEBUFFER, e.__webglFramebuffer[f]), e.__webglDepthbuffer[f] = a.createRenderbuffer(), t(e.__webglDepthbuffer[f], b);
                else
                    a.bindFramebuffer(a.FRAMEBUFFER, e.__webglFramebuffer), e.__webglDepthbuffer = a.createRenderbuffer(), t(e.__webglDepthbuffer,
                    b);
                a.bindFramebuffer(a.FRAMEBUFFER, null)
            }
        };
        this.updateRenderTargetMipmap = function(b) {
            var e = b.texture;
            e.generateMipmaps && k(b) && 1003 !== e.minFilter && 1006 !== e.minFilter && (b = b && b.isWebGLRenderTargetCube ? a.TEXTURE_CUBE_MAP : a.TEXTURE_2D, e = d.get(e).__webglTexture, c.bindTexture(b, e), a.generateMipmap(b), c.bindTexture(b, null))
        }
    }
    function xf() {
        var a = {};
        return {
            get: function(b) {
                b = b.uuid;
                var c = a[b];
                void 0 === c && (c = {}, a[b] = c);
                return c
            },
            "delete": function(b) {
                delete a[b.uuid]
            },
            clear: function() {
                a = {}
            }
        }
    }
    function yf(a, b, c) {
        function d(b,
        c, d) {
            var e = new Uint8Array(4),
                f = a.createTexture();
            a.bindTexture(b, f);
            a.texParameteri(b, a.TEXTURE_MIN_FILTER, a.NEAREST);
            a.texParameteri(b, a.TEXTURE_MAG_FILTER, a.NEAREST);
            for (b = 0; b < d; b++)
                a.texImage2D(c + b, 0, a.RGBA, 1, 1, 0, a.RGBA, a.UNSIGNED_BYTE, e);
            return f
        }
        function e(b) {
            !0 !== E[b] && (a.enable(b), E[b] = !0)
        }
        function f(b) {
            !1 !== E[b] && (a.disable(b), E[b] = !1)
        }
        function g(b, d, g, h, k, m, p, n) {
            0 !== b ? e(a.BLEND) : f(a.BLEND);
            if (b !== F || n !== G)
                2 === b ? n ? (a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD), a.blendFuncSeparate(a.ONE, a.ONE,
                a.ONE, a.ONE)) : (a.blendEquation(a.FUNC_ADD), a.blendFunc(a.SRC_ALPHA, a.ONE)) : 3 === b ? n ? (a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD), a.blendFuncSeparate(a.ZERO, a.ZERO, a.ONE_MINUS_SRC_COLOR, a.ONE_MINUS_SRC_ALPHA)) : (a.blendEquation(a.FUNC_ADD), a.blendFunc(a.ZERO, a.ONE_MINUS_SRC_COLOR)) : 4 === b ? n ? (a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD), a.blendFuncSeparate(a.ZERO, a.SRC_COLOR, a.ZERO, a.SRC_ALPHA)) : (a.blendEquation(a.FUNC_ADD), a.blendFunc(a.ZERO, a.SRC_COLOR)) : n ? (a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD),
                a.blendFuncSeparate(a.ONE, a.ONE_MINUS_SRC_ALPHA, a.ONE, a.ONE_MINUS_SRC_ALPHA)) : (a.blendEquationSeparate(a.FUNC_ADD, a.FUNC_ADD), a.blendFuncSeparate(a.SRC_ALPHA, a.ONE_MINUS_SRC_ALPHA, a.ONE, a.ONE_MINUS_SRC_ALPHA)), F = b, G = n;
            if (5 === b) {
                k = k || d;
                m = m || g;
                p = p || h;
                if (d !== M || k !== B)
                    a.blendEquationSeparate(c(d), c(k)), M = d, B = k;
                if (g !== ca || h !== K || m !== C || p !== z)
                    a.blendFuncSeparate(c(g), c(h), c(m), c(p)), ca = g, K = h, C = m, z = p
            } else
                z = C = B = K = ca = M = null
        }
        function h(a) {
            t.setFunc(a)
        }
        function k(b) {
            N !== b && (b ? a.frontFace(a.CW) : a.frontFace(a.CCW),
            N = b)
        }
        function m(b) {
            0 !== b ? (e(a.CULL_FACE), b !== P && (1 === b ? a.cullFace(a.BACK) : 2 === b ? a.cullFace(a.FRONT) : a.cullFace(a.FRONT_AND_BACK))) : f(a.CULL_FACE);
            P = b
        }
        function w(b) {
            void 0 === b && (b = a.TEXTURE0 + O - 1);
            L !== b && (a.activeTexture(b), L = b)
        }
        function n(a, b, c, d) {
            l.setClear(a, b, c, d)
        }
        function p(a) {
            t.setClear(a)
        }
        function r(a) {
            q.setClear(a)
        }
        var l = new function() {
                var b = !1,
                    c = new ga,
                    d = null,
                    e = new ga;
                return {
                    setMask: function(c) {
                        d === c || b || (a.colorMask(c, c, c, c), d = c)
                    },
                    setLocked: function(a) {
                        b = a
                    },
                    setClear: function(b, d, f, g) {
                        c.set(b,
                        d, f, g);
                        !1 === e.equals(c) && (a.clearColor(b, d, f, g), e.copy(c))
                    },
                    reset: function() {
                        b = !1;
                        d = null;
                        e.set(0, 0, 0, 1)
                    }
                }
            },
            t = new function() {
                var b = !1,
                    c = null,
                    d = null,
                    g = null;
                return {
                    setTest: function(b) {
                        b ? e(a.DEPTH_TEST) : f(a.DEPTH_TEST)
                    },
                    setMask: function(d) {
                        c === d || b || (a.depthMask(d), c = d)
                    },
                    setFunc: function(b) {
                        if (d !== b) {
                            if (b)
                                switch (b) {
                                case 0:
                                    a.depthFunc(a.NEVER);
                                    break;
                                case 1:
                                    a.depthFunc(a.ALWAYS);
                                    break;
                                case 2:
                                    a.depthFunc(a.LESS);
                                    break;
                                case 3:
                                    a.depthFunc(a.LEQUAL);
                                    break;
                                case 4:
                                    a.depthFunc(a.EQUAL);
                                    break;
                                case 5:
                                    a.depthFunc(a.GEQUAL);
                                    break;
                                case 6:
                                    a.depthFunc(a.GREATER);
                                    break;
                                case 7:
                                    a.depthFunc(a.NOTEQUAL);
                                    break;
                                default:
                                    a.depthFunc(a.LEQUAL)
                                }
                            else
                                a.depthFunc(a.LEQUAL);
                            d = b
                        }
                    },
                    setLocked: function(a) {
                        b = a
                    },
                    setClear: function(b) {
                        g !== b && (a.clearDepth(b), g = b)
                    },
                    reset: function() {
                        b = !1;
                        g = d = c = null
                    }
                }
            },
            q = new function() {
                var b = !1,
                    c = null,
                    d = null,
                    g = null,
                    h = null,
                    k = null,
                    m = null,
                    p = null,
                    n = null;
                return {
                    setTest: function(b) {
                        b ? e(a.STENCIL_TEST) : f(a.STENCIL_TEST)
                    },
                    setMask: function(d) {
                        c === d || b || (a.stencilMask(d), c = d)
                    },
                    setFunc: function(b, c, e) {
                        if (d !== b || g !== c || h !==
                        e)
                            a.stencilFunc(b, c, e), d = b, g = c, h = e
                    },
                    setOp: function(b, c, d) {
                        if (k !== b || m !== c || p !== d)
                            a.stencilOp(b, c, d), k = b, m = c, p = d
                    },
                    setLocked: function(a) {
                        b = a
                    },
                    setClear: function(b) {
                        n !== b && (a.clearStencil(b), n = b)
                    },
                    reset: function() {
                        b = !1;
                        n = p = m = k = h = g = d = c = null
                    }
                }
            },
            u = a.getParameter(a.MAX_VERTEX_ATTRIBS),
            v = new Uint8Array(u),
            I = new Uint8Array(u),
            y = new Uint8Array(u),
            E = {},
            H = null,
            F = null,
            M = null,
            ca = null,
            K = null,
            B = null,
            C = null,
            z = null,
            G = !1,
            N = null,
            P = null,
            R = null,
            S = null,
            J = null,
            V = null,
            O = a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),
            L = null,
            Q = {},
            T = new ga,
            U = new ga,
            fb = {};
        fb[a.TEXTURE_2D] = d(a.TEXTURE_2D, a.TEXTURE_2D, 1);
        fb[a.TEXTURE_CUBE_MAP] = d(a.TEXTURE_CUBE_MAP, a.TEXTURE_CUBE_MAP_POSITIVE_X, 6);
        return {
            buffers: {
                color: l,
                depth: t,
                stencil: q
            },
            init: function() {
                n(0, 0, 0, 1);
                p(1);
                r(0);
                e(a.DEPTH_TEST);
                h(3);
                k(!1);
                m(1);
                e(a.CULL_FACE);
                e(a.BLEND);
                g(1)
            },
            initAttributes: function() {
                for (var a = 0, b = v.length; a < b; a++)
                    v[a] = 0
            },
            enableAttribute: function(c) {
                v[c] = 1;
                0 === I[c] && (a.enableVertexAttribArray(c), I[c] = 1);
                0 !== y[c] && (b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c,
                0), y[c] = 0)
            },
            enableAttributeAndDivisor: function(b, c, d) {
                v[b] = 1;
                0 === I[b] && (a.enableVertexAttribArray(b), I[b] = 1);
                y[b] !== c && (d.vertexAttribDivisorANGLE(b, c), y[b] = c)
            },
            disableUnusedAttributes: function() {
                for (var b = 0, c = I.length; b !== c; ++b)
                    I[b] !== v[b] && (a.disableVertexAttribArray(b), I[b] = 0)
            },
            enable: e,
            disable: f,
            getCompressedTextureFormats: function() {
                if (null === H && (H = [], b.get("WEBGL_compressed_texture_pvrtc") || b.get("WEBGL_compressed_texture_s3tc") || b.get("WEBGL_compressed_texture_etc1")))
                    for (var c = a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),
                        d = 0; d < c.length; d++)
                        H.push(c[d]);
                return H
            },
            setBlending: g,
            setColorWrite: function(a) {
                l.setMask(a)
            },
            setDepthTest: function(a) {
                t.setTest(a)
            },
            setDepthWrite: function(a) {
                t.setMask(a)
            },
            setDepthFunc: h,
            setStencilTest: function(a) {
                q.setTest(a)
            },
            setStencilWrite: function(a) {
                q.setMask(a)
            },
            setStencilFunc: function(a, b, c) {
                q.setFunc(a, b, c)
            },
            setStencilOp: function(a, b, c) {
                q.setOp(a, b, c)
            },
            setFlipSided: k,
            setCullFace: m,
            setLineWidth: function(b) {
                b !== R && (a.lineWidth(b), R = b)
            },
            setPolygonOffset: function(b, c, d) {
                if (b) {
                    if (e(a.POLYGON_OFFSET_FILL),
                    S !== c || J !== d)
                        a.polygonOffset(c, d), S = c, J = d
                } else
                    f(a.POLYGON_OFFSET_FILL)
            },
            getScissorTest: function() {
                return V
            },
            setScissorTest: function(b) {
                (V = b) ? e(a.SCISSOR_TEST) : f(a.SCISSOR_TEST)
            },
            activeTexture: w,
            bindTexture: function(b, c) {
                null === L && w();
                var d = Q[L];
                void 0 === d && (d = {
                    type: void 0,
                    texture: void 0
                }, Q[L] = d);
                if (d.type !== b || d.texture !== c)
                    a.bindTexture(b, c || fb[b]), d.type = b, d.texture = c
            },
            compressedTexImage2D: function() {
                try {
                    a.compressedTexImage2D.apply(a, arguments)
                } catch (b) {
                    console.error(b)
                }
            },
            texImage2D: function() {
                try {
                    a.texImage2D.apply(a,
                    arguments)
                } catch (b) {
                    console.error(b)
                }
            },
            clearColor: n,
            clearDepth: p,
            clearStencil: r,
            scissor: function(b) {
                !1 === T.equals(b) && (a.scissor(b.x, b.y, b.z, b.w), T.copy(b))
            },
            viewport: function(b) {
                !1 === U.equals(b) && (a.viewport(b.x, b.y, b.z, b.w), U.copy(b))
            },
            reset: function() {
                for (var b = 0; b < I.length; b++)
                    1 === I[b] && (a.disableVertexAttribArray(b), I[b] = 0);
                E = {};
                L = H = null;
                Q = {};
                P = N = F = null;
                l.reset();
                t.reset();
                q.reset()
            }
        }
    }
    function zf(a, b, c) {
        function d(b) {
            if ("highp" === b) {
                if (0 < a.getShaderPrecisionFormat(a.VERTEX_SHADER, a.HIGH_FLOAT).precision &&
                0 < a.getShaderPrecisionFormat(a.FRAGMENT_SHADER, a.HIGH_FLOAT).precision)
                    return "highp";
                b = "mediump"
            }
            return "mediump" === b && 0 < a.getShaderPrecisionFormat(a.VERTEX_SHADER, a.MEDIUM_FLOAT).precision && 0 < a.getShaderPrecisionFormat(a.FRAGMENT_SHADER, a.MEDIUM_FLOAT).precision ? "mediump" : "lowp"
        }
        var e,
            f = void 0 !== c.precision ? c.precision : "highp",
            g = d(f);
        g !== f && (console.warn("THREE.WebGLRenderer:", f, "not supported, using", g, "instead."), f = g);
        c = !0 === c.logarithmicDepthBuffer && !!b.get("EXT_frag_depth");
        var g = a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),
            h = a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
            k = a.getParameter(a.MAX_TEXTURE_SIZE),
            m = a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),
            w = a.getParameter(a.MAX_VERTEX_ATTRIBS),
            n = a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),
            p = a.getParameter(a.MAX_VARYING_VECTORS),
            r = a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),
            l = 0 < h,
            t = !!b.get("OES_texture_float");
        return {
            getMaxAnisotropy: function() {
                if (void 0 !== e)
                    return e;
                var c = b.get("EXT_texture_filter_anisotropic");
                return e = null !== c ? a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT) :
                0
            },
            getMaxPrecision: d,
            precision: f,
            logarithmicDepthBuffer: c,
            maxTextures: g,
            maxVertexTextures: h,
            maxTextureSize: k,
            maxCubemapSize: m,
            maxAttributes: w,
            maxVertexUniforms: n,
            maxVaryings: p,
            maxFragmentUniforms: r,
            vertexTextures: l,
            floatFragmentTextures: t,
            floatVertexTextures: l && t
        }
    }
    function Af(a) {
        var b = {};
        return {
            get: function(c) {
                if (void 0 !== b[c])
                    return b[c];
                var d;
                switch (c) {
                case "WEBGL_depth_texture":
                    d = a.getExtension("WEBGL_depth_texture") || a.getExtension("MOZ_WEBGL_depth_texture") || a.getExtension("WEBKIT_WEBGL_depth_texture");
                    break;
                case "EXT_texture_filter_anisotropic":
                    d = a.getExtension("EXT_texture_filter_anisotropic") || a.getExtension("MOZ_EXT_texture_filter_anisotropic") || a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                    break;
                case "WEBGL_compressed_texture_s3tc":
                    d = a.getExtension("WEBGL_compressed_texture_s3tc") || a.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                    break;
                case "WEBGL_compressed_texture_pvrtc":
                    d = a.getExtension("WEBGL_compressed_texture_pvrtc") ||
                    a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                    break;
                case "WEBGL_compressed_texture_etc1":
                    d = a.getExtension("WEBGL_compressed_texture_etc1");
                    break;
                default:
                    d = a.getExtension(c)
                }
                null === d && console.warn("THREE.WebGLRenderer: " + c + " extension not supported.");
                return b[c] = d
            }
        }
    }
    function Bf() {
        function a() {
            m.value !== d && (m.value = d, m.needsUpdate = 0 < e);
            c.numPlanes = e;
            c.numIntersection = 0
        }
        function b(a, b, d, e) {
            var f = null !== a ? a.length : 0,
                g = null;
            if (0 !== f) {
                g = m.value;
                if (!0 !== e || null === g) {
                    e = d + 4 * f;
                    b = b.matrixWorldInverse;
                    k.getNormalMatrix(b);
                    if (null === g || g.length < e)
                        g = new Float32Array(e);
                    for (e = 0; e !== f; ++e, d += 4)
                        h.copy(a[e]).applyMatrix4(b, k), h.normal.toArray(g, d), g[d + 3] = h.constant
                }
                m.value = g;
                m.needsUpdate = !0
            }
            c.numPlanes = f;
            return g
        }
        var c = this,
            d = null,
            e = 0,
            f = !1,
            g = !1,
            h = new va,
            k = new Ia,
            m = {
                value: null,
                needsUpdate: !1
            };
        this.uniform = m;
        this.numIntersection = this.numPlanes = 0;
        this.init = function(a, c, g) {
            var h = 0 !== a.length || c || 0 !== e || f;
            f = c;
            d = b(a, g, 0);
            e = a.length;
            return h
        };
        this.beginShadows = function() {
            g = !0;
            b(null)
        };
        this.endShadows = function() {
            g =
            !1;
            a()
        };
        this.setState = function(c, h, k, r, l, t) {
            if (!f || null === c || 0 === c.length || g && !k)
                g ? b(null) : a();
            else {
                k = g ? 0 : e;
                var q = 4 * k,
                    u = l.clippingState || null;
                m.value = u;
                u = b(c, r, q, t);
                for (c = 0; c !== q; ++c)
                    u[c] = d[c];
                l.clippingState = u;
                this.numIntersection = h ? this.numPlanes : 0;
                this.numPlanes += k
            }
        }
    }
    function Dd(a) {
        function b(a, b, c, d) {
            !0 === M && (a *= d, b *= d, c *= d);
            Y.clearColor(a, b, c, d)
        }
        function c() {
            Y.init();
            Y.scissor(X.copy(ha).multiplyScalar(Qa));
            Y.viewport($a.copy(fa).multiplyScalar(Qa));
            b(Da.r, Da.g, Da.b, Ra)
        }
        function d() {
            W = Q = null;
            U = "";
            L = -1;
            Y.reset()
        }
        function e(a) {
            a.preventDefault();
            d();
            c();
            ea.clear()
        }
        function f(a) {
            a = a.target;
            a.removeEventListener("dispose", f);
            g(a);
            ea["delete"](a)
        }
        function g(a) {
            var b = ea.get(a).program;
            a.program = void 0;
            void 0 !== b && va.releaseProgram(b)
        }
        function h(a, b) {
            return Math.abs(b[0]) - Math.abs(a[0])
        }
        function k(a, b) {
            return a.object.renderOrder !== b.object.renderOrder ? a.object.renderOrder - b.object.renderOrder : a.material.program && b.material.program && a.material.program !== b.material.program ? a.material.program.id -
            b.material.program.id : a.material.id !== b.material.id ? a.material.id - b.material.id : a.z !== b.z ? a.z - b.z : a.id - b.id
        }
        function m(a, b) {
            return a.object.renderOrder !== b.object.renderOrder ? a.object.renderOrder - b.object.renderOrder : a.z !== b.z ? b.z - a.z : a.id - b.id
        }
        function w(a, b, c, d, e) {
            var f;
            c.transparent ? (d = z, f = ++Ka) : (d = B, f = ++C);
            f = d[f];
            void 0 !== f ? (f.id = a.id, f.object = a, f.geometry = b, f.material = c, f.z = Z.z, f.group = e) : (f = {
                id: a.id,
                object: a,
                geometry: b,
                material: c,
                z: Z.z,
                group: e
            }, d.push(f))
        }
        function n(a) {
            if (!oa.intersectsSphere(a))
                return !1;
            var b = ba.numPlanes;
            if (0 === b)
                return !0;
            var c = S.clippingPlanes,
                d = a.center;
            a = -a.radius;
            var e = 0;
            do if (c[e].distanceToPoint(d) < a)
                return !1;
            while (++e !== b);
            return !0
        }
        function p(a, b) {
            if (!1 !== a.visible) {
                if (0 !== (a.layers.mask & b.layers.mask))
                    if (a.isLight)
                        K.push(a);
                    else if (a.isSprite) {
                        var c;
                        (c = !1 === a.frustumCulled) || (na.center.set(0, 0, 0), na.radius = .7071067811865476, na.applyMatrix4(a.matrixWorld), c = !0 === n(na));
                        c && P.push(a)
                    } else if (a.isLensFlare)
                        R.push(a);
                    else if (a.isImmediateRenderObject)
                        !0 === S.sortObjects && (Z.setFromMatrixPosition(a.matrixWorld),
                        Z.applyProjection(ra)), w(a, null, a.material, Z.z, null);
                    else if (a.isMesh || a.isLine || a.isPoints)
                        if (a.isSkinnedMesh && a.skeleton.update(), (c = !1 === a.frustumCulled) || (c = a.geometry, null === c.boundingSphere && c.computeBoundingSphere(), na.copy(c.boundingSphere).applyMatrix4(a.matrixWorld), c = !0 === n(na)), c) {
                            var d = a.material;
                            if (!0 === d.visible)
                                if (!0 === S.sortObjects && (Z.setFromMatrixPosition(a.matrixWorld), Z.applyProjection(ra)), c = qa.update(a), d.isMultiMaterial)
                                    for (var e = c.groups, f = d.materials, d = 0, g = e.length; d < g; d++) {
                                        var h =
                                            e[d],
                                            k = f[h.materialIndex];
                                        !0 === k.visible && w(a, c, k, Z.z, h)
                                    }
                                else
                                    w(a, c, d, Z.z, null)
                        }
                c = a.children;
                d = 0;
                for (g = c.length; d < g; d++)
                    p(c[d], b)
            }
        }
        function r(a, b, c, d) {
            for (var e = 0, f = a.length; e < f; e++) {
                var g = a[e],
                    h = g.object,
                    k = g.geometry,
                    m = void 0 === d ? g.material : d,
                    g = g.group;
                h.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse, h.matrixWorld);
                h.normalMatrix.getNormalMatrix(h.modelViewMatrix);
                h.onBeforeRender(S, b, c, k, m, g);
                if (h.isImmediateRenderObject) {
                    l(m);
                    var p = t(c, b.fog, m, h);
                    U = "";
                    h.render(function(a) {
                        S.renderBufferImmediate(a,
                        p, m)
                    })
                } else
                    S.renderBufferDirect(c, b.fog, k, m, h, g);
                h.onAfterRender(S, b, c, k, m, g)
            }
        }
        function l(a) {
            2 === a.side ? Y.disable(A.CULL_FACE) : Y.enable(A.CULL_FACE);
            Y.setFlipSided(1 === a.side);
            !0 === a.transparent ? Y.setBlending(a.blending, a.blendEquation, a.blendSrc, a.blendDst, a.blendEquationAlpha, a.blendSrcAlpha, a.blendDstAlpha, a.premultipliedAlpha) : Y.setBlending(0);
            Y.setDepthFunc(a.depthFunc);
            Y.setDepthTest(a.depthTest);
            Y.setDepthWrite(a.depthWrite);
            Y.setColorWrite(a.colorWrite);
            Y.setPolygonOffset(a.polygonOffset,
            a.polygonOffsetFactor, a.polygonOffsetUnits)
        }
        function t(a, b, c, d) {
            da = 0;
            var e = ea.get(c);
            pa && (sa || a !== W) && ba.setState(c.clippingPlanes, c.clipIntersection, c.clipShadows, a, e, a === W && c.id === L);
            !1 === c.needsUpdate && (void 0 === e.program ? c.needsUpdate = !0 : c.fog && e.fog !== b ? c.needsUpdate = !0 : c.lights && e.lightsHash !== aa.hash ? c.needsUpdate = !0 : void 0 === e.numClippingPlanes || e.numClippingPlanes === ba.numPlanes && e.numIntersection === ba.numIntersection || (c.needsUpdate = !0));
            if (c.needsUpdate) {
                a:
                {
                    var h = ea.get(c),
                        k = va.getParameters(c,
                        aa, b, ba.numPlanes, ba.numIntersection, d),
                        m = va.getProgramCode(c, k),
                        p = h.program,
                        n = !0;
                    if (void 0 === p)
                        c.addEventListener("dispose", f);
                    else if (p.code !== m)
                        g(c);
                    else if (void 0 !== k.shaderID)
                        break a;
                    else
                        n = !1;
                    n && (k.shaderID ? (p = Gb[k.shaderID], h.__webglShader = {
                        name: c.type,
                        uniforms: La.clone(p.uniforms),
                        vertexShader: p.vertexShader,
                        fragmentShader: p.fragmentShader
                    }) : h.__webglShader = {
                        name: c.type,
                        uniforms: c.uniforms,
                        vertexShader: c.vertexShader,
                        fragmentShader: c.fragmentShader
                    }, c.__webglShader = h.__webglShader, p = va.acquireProgram(c,
                    k, m), h.program = p, c.program = p);
                    k = p.getAttributes();
                    if (c.morphTargets)
                        for (m = c.numSupportedMorphTargets = 0; m < S.maxMorphTargets; m++)
                            0 <= k["morphTarget" + m] && c.numSupportedMorphTargets++;
                    if (c.morphNormals)
                        for (m = c.numSupportedMorphNormals = 0; m < S.maxMorphNormals; m++)
                            0 <= k["morphNormal" + m] && c.numSupportedMorphNormals++;
                    k = h.__webglShader.uniforms;
                    if (!c.isShaderMaterial && !c.isRawShaderMaterial || !0 === c.clipping)
                        h.numClippingPlanes = ba.numPlanes, h.numIntersection = ba.numIntersection, k.clippingPlanes = ba.uniform;
                    h.fog =
                    b;
                    h.lightsHash = aa.hash;
                    c.lights && (k.ambientLightColor.value = aa.ambient, k.directionalLights.value = aa.directional, k.spotLights.value = aa.spot, k.pointLights.value = aa.point, k.hemisphereLights.value = aa.hemi, k.directionalShadowMap.value = aa.directionalShadowMap, k.directionalShadowMatrix.value = aa.directionalShadowMatrix, k.spotShadowMap.value = aa.spotShadowMap, k.spotShadowMatrix.value = aa.spotShadowMatrix, k.pointShadowMap.value = aa.pointShadowMap, k.pointShadowMatrix.value = aa.pointShadowMatrix);
                    m = h.program.getUniforms();
                    k = Ya.seqWithValue(m.seq, k);
                    h.uniformsList = k
                }c.needsUpdate = !1
            }
            var w = !1,
                n = p = !1,
                h = e.program,
                k = h.getUniforms(),
                m = e.__webglShader.uniforms;
            h.id !== Q && (A.useProgram(h.program), Q = h.id, n = p = w = !0);
            c.id !== L && (L = c.id, p = !0);
            if (w || a !== W) {
                k.set(A, a, "projectionMatrix");
                ia.logarithmicDepthBuffer && k.setValue(A, "logDepthBufFC", 2 / (Math.log(a.far + 1) / Math.LN2));
                a !== W && (W = a, n = p = !0);
                if (c.isShaderMaterial || c.isMeshPhongMaterial || c.isMeshStandardMaterial || c.envMap)
                    w = k.map.cameraPosition, void 0 !== w && w.setValue(A, Z.setFromMatrixPosition(a.matrixWorld));
                (c.isMeshPhongMaterial || c.isMeshLambertMaterial || c.isMeshBasicMaterial || c.isMeshStandardMaterial || c.isShaderMaterial || c.skinning) && k.setValue(A, "viewMatrix", a.matrixWorldInverse);
                k.set(A, S, "toneMappingExposure");
                k.set(A, S, "toneMappingWhitePoint")
            }
            c.skinning && (k.setOptional(A, d, "bindMatrix"), k.setOptional(A, d, "bindMatrixInverse"), a = d.skeleton) && (ia.floatVertexTextures && a.useVertexTexture ? (k.set(A, a, "boneTexture"), k.set(A, a, "boneTextureWidth"), k.set(A, a, "boneTextureHeight")) : k.setOptional(A, a, "boneMatrices"));
            if (p) {
                c.lights && (a = n, m.ambientLightColor.needsUpdate = a, m.directionalLights.needsUpdate = a, m.pointLights.needsUpdate = a, m.spotLights.needsUpdate = a, m.hemisphereLights.needsUpdate = a);
                b && c.fog && (m.fogColor.value = b.color, b.isFog ? (m.fogNear.value = b.near, m.fogFar.value = b.far) : b.isFogExp2 && (m.fogDensity.value = b.density));
                if (c.isMeshBasicMaterial || c.isMeshLambertMaterial || c.isMeshPhongMaterial || c.isMeshStandardMaterial || c.isMeshDepthMaterial) {
                    m.opacity.value = c.opacity;
                    m.diffuse.value = c.color;
                    c.emissive && m.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity);
                    m.map.value = c.map;
                    m.specularMap.value = c.specularMap;
                    m.alphaMap.value = c.alphaMap;
                    c.aoMap && (m.aoMap.value = c.aoMap, m.aoMapIntensity.value = c.aoMapIntensity);
                    var r;
                    c.map ? r = c.map : c.specularMap ? r = c.specularMap : c.displacementMap ? r = c.displacementMap : c.normalMap ? r = c.normalMap : c.bumpMap ? r = c.bumpMap : c.roughnessMap ? r = c.roughnessMap : c.metalnessMap ? r = c.metalnessMap : c.alphaMap ? r = c.alphaMap : c.emissiveMap && (r = c.emissiveMap);
                    void 0 !== r && (r.isWebGLRenderTarget && (r = r.texture), b = r.offset, r = r.repeat, m.offsetRepeat.value.set(b.x,
                    b.y, r.x, r.y));
                    m.envMap.value = c.envMap;
                    m.flipEnvMap.value = c.envMap && c.envMap.isCubeTexture ? -1 : 1;
                    m.reflectivity.value = c.reflectivity;
                    m.refractionRatio.value = c.refractionRatio
                }
                c.isLineBasicMaterial ? (m.diffuse.value = c.color, m.opacity.value = c.opacity) : c.isLineDashedMaterial ? (m.diffuse.value = c.color, m.opacity.value = c.opacity, m.dashSize.value = c.dashSize, m.totalSize.value = c.dashSize + c.gapSize, m.scale.value = c.scale) : c.isPointsMaterial ? (m.diffuse.value = c.color, m.opacity.value = c.opacity, m.size.value = c.size *
                Qa, m.scale.value = .5 * pc, m.map.value = c.map, null !== c.map && (r = c.map.offset, c = c.map.repeat, m.offsetRepeat.value.set(r.x, r.y, c.x, c.y))) : c.isMeshLambertMaterial ? (c.lightMap && (m.lightMap.value = c.lightMap, m.lightMapIntensity.value = c.lightMapIntensity), c.emissiveMap && (m.emissiveMap.value = c.emissiveMap)) : c.isMeshPhongMaterial ? (m.specular.value = c.specular, m.shininess.value = Math.max(c.shininess, 1E-4), c.lightMap && (m.lightMap.value = c.lightMap, m.lightMapIntensity.value = c.lightMapIntensity), c.emissiveMap && (m.emissiveMap.value =
                c.emissiveMap), c.bumpMap && (m.bumpMap.value = c.bumpMap, m.bumpScale.value = c.bumpScale), c.normalMap && (m.normalMap.value = c.normalMap, m.normalScale.value.copy(c.normalScale)), c.displacementMap && (m.displacementMap.value = c.displacementMap, m.displacementScale.value = c.displacementScale, m.displacementBias.value = c.displacementBias)) : c.isMeshPhysicalMaterial ? (m.clearCoat.value = c.clearCoat, m.clearCoatRoughness.value = c.clearCoatRoughness, D(m, c)) : c.isMeshStandardMaterial ? D(m, c) : c.isMeshDepthMaterial ? c.displacementMap &&
                (m.displacementMap.value = c.displacementMap, m.displacementScale.value = c.displacementScale, m.displacementBias.value = c.displacementBias) : c.isMeshNormalMaterial && (m.opacity.value = c.opacity);
                Ya.upload(A, e.uniformsList, m, S)
            }
            k.set(A, d, "modelViewMatrix");
            k.set(A, d, "normalMatrix");
            k.setValue(A, "modelMatrix", d.matrixWorld);
            return h
        }
        function D(a, b) {
            a.roughness.value = b.roughness;
            a.metalness.value = b.metalness;
            b.roughnessMap && (a.roughnessMap.value = b.roughnessMap);
            b.metalnessMap && (a.metalnessMap.value = b.metalnessMap);
            b.lightMap && (a.lightMap.value = b.lightMap, a.lightMapIntensity.value = b.lightMapIntensity);
            b.emissiveMap && (a.emissiveMap.value = b.emissiveMap);
            b.bumpMap && (a.bumpMap.value = b.bumpMap, a.bumpScale.value = b.bumpScale);
            b.normalMap && (a.normalMap.value = b.normalMap, a.normalScale.value.copy(b.normalScale));
            b.displacementMap && (a.displacementMap.value = b.displacementMap, a.displacementScale.value = b.displacementScale, a.displacementBias.value = b.displacementBias);
            b.envMap && (a.envMapIntensity.value = b.envMapIntensity)
        }
        function u(a) {
            var b;
            if (1E3 === a)
                return A.REPEAT;
            if (1001 === a)
                return A.CLAMP_TO_EDGE;
            if (1002 === a)
                return A.MIRRORED_REPEAT;
            if (1003 === a)
                return A.NEAREST;
            if (1004 === a)
                return A.NEAREST_MIPMAP_NEAREST;
            if (1005 === a)
                return A.NEAREST_MIPMAP_LINEAR;
            if (1006 === a)
                return A.LINEAR;
            if (1007 === a)
                return A.LINEAR_MIPMAP_NEAREST;
            if (1008 === a)
                return A.LINEAR_MIPMAP_LINEAR;
            if (1009 === a)
                return A.UNSIGNED_BYTE;
            if (1017 === a)
                return A.UNSIGNED_SHORT_4_4_4_4;
            if (1018 === a)
                return A.UNSIGNED_SHORT_5_5_5_1;
            if (1019 === a)
                return A.UNSIGNED_SHORT_5_6_5;
            if (1010 ===
            a)
                return A.BYTE;
            if (1011 === a)
                return A.SHORT;
            if (1012 === a)
                return A.UNSIGNED_SHORT;
            if (1013 === a)
                return A.INT;
            if (1014 === a)
                return A.UNSIGNED_INT;
            if (1015 === a)
                return A.FLOAT;
            if (1016 === a && (b = ka.get("OES_texture_half_float"), null !== b))
                return b.HALF_FLOAT_OES;
            if (1021 === a)
                return A.ALPHA;
            if (1022 === a)
                return A.RGB;
            if (1023 === a)
                return A.RGBA;
            if (1024 === a)
                return A.LUMINANCE;
            if (1025 === a)
                return A.LUMINANCE_ALPHA;
            if (1026 === a)
                return A.DEPTH_COMPONENT;
            if (1027 === a)
                return A.DEPTH_STENCIL;
            if (100 === a)
                return A.FUNC_ADD;
            if (101 ===
            a)
                return A.FUNC_SUBTRACT;
            if (102 === a)
                return A.FUNC_REVERSE_SUBTRACT;
            if (200 === a)
                return A.ZERO;
            if (201 === a)
                return A.ONE;
            if (202 === a)
                return A.SRC_COLOR;
            if (203 === a)
                return A.ONE_MINUS_SRC_COLOR;
            if (204 === a)
                return A.SRC_ALPHA;
            if (205 === a)
                return A.ONE_MINUS_SRC_ALPHA;
            if (206 === a)
                return A.DST_ALPHA;
            if (207 === a)
                return A.ONE_MINUS_DST_ALPHA;
            if (208 === a)
                return A.DST_COLOR;
            if (209 === a)
                return A.ONE_MINUS_DST_COLOR;
            if (210 === a)
                return A.SRC_ALPHA_SATURATE;
            if (2001 === a || 2002 === a || 2003 === a || 2004 === a)
                if (b = ka.get("WEBGL_compressed_texture_s3tc"),
                null !== b) {
                    if (2001 === a)
                        return b.COMPRESSED_RGB_S3TC_DXT1_EXT;
                    if (2002 === a)
                        return b.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                    if (2003 === a)
                        return b.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                    if (2004 === a)
                        return b.COMPRESSED_RGBA_S3TC_DXT5_EXT
                }
            if (2100 === a || 2101 === a || 2102 === a || 2103 === a)
                if (b = ka.get("WEBGL_compressed_texture_pvrtc"), null !== b) {
                    if (2100 === a)
                        return b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
                    if (2101 === a)
                        return b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
                    if (2102 === a)
                        return b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
                    if (2103 === a)
                        return b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG
                }
            if (2151 ===
            a && (b = ka.get("WEBGL_compressed_texture_etc1"), null !== b))
                return b.COMPRESSED_RGB_ETC1_WEBGL;
            if (103 === a || 104 === a)
                if (b = ka.get("EXT_blend_minmax"), null !== b) {
                    if (103 === a)
                        return b.MIN_EXT;
                    if (104 === a)
                        return b.MAX_EXT
                }
            return 1020 === a && (b = ka.get("WEBGL_depth_texture"), null !== b) ? b.UNSIGNED_INT_24_8_WEBGL : 0
        }
        console.log("THREE.WebGLRenderer", "82");
        a = a || {};
        var v = void 0 !== a.canvas ? a.canvas : document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"),
            I = void 0 !== a.context ? a.context : null,
            y = void 0 !== a.alpha ? a.alpha :
            !1,
            E = void 0 !== a.depth ? a.depth : !0,
            H = void 0 !== a.stencil ? a.stencil : !0,
            F = void 0 !== a.antialias ? a.antialias : !1,
            M = void 0 !== a.premultipliedAlpha ? a.premultipliedAlpha : !0,
            ca = void 0 !== a.preserveDrawingBuffer ? a.preserveDrawingBuffer : !1,
            K = [],
            B = [],
            C = -1,
            z = [],
            Ka = -1,
            N = new Float32Array(8),
            P = [],
            R = [];
        this.domElement = v;
        this.context = null;
        this.sortObjects = this.autoClearStencil = this.autoClearDepth = this.autoClearColor = this.autoClear = !0;
        this.clippingPlanes = [];
        this.localClippingEnabled = !1;
        this.gammaFactor = 2;
        this.physicallyCorrectLights =
        this.gammaOutput = this.gammaInput = !1;
        this.toneMappingWhitePoint = this.toneMappingExposure = this.toneMapping = 1;
        this.maxMorphTargets = 8;
        this.maxMorphNormals = 4;
        var S = this,
            Q = null,
            V = null,
            T = null,
            L = -1,
            U = "",
            W = null,
            X = new ga,
            fb = null,
            $a = new ga,
            da = 0,
            Da = new O(0),
            Ra = 0,
            Pa = v.width,
            pc = v.height,
            Qa = 1,
            ha = new ga(0, 0, Pa, pc),
            la = !1,
            fa = new ga(0, 0, Pa, pc),
            oa = new nc,
            ba = new Bf,
            pa = !1,
            sa = !1,
            na = new Ca,
            ra = new J,
            Z = new q,
            aa = {
                hash: "",
                ambient: [0, 0, 0],
                directional: [],
                directionalShadowMap: [],
                directionalShadowMatrix: [],
                spot: [],
                spotShadowMap: [],
                spotShadowMatrix: [],
                point: [],
                pointShadowMap: [],
                pointShadowMatrix: [],
                hemi: [],
                shadows: []
            },
            ma = {
                calls: 0,
                vertices: 0,
                faces: 0,
                points: 0
            };
        this.info = {
            render: ma,
            memory: {
                geometries: 0,
                textures: 0
            },
            programs: null
        };
        var A;
        try {
            y = {
                alpha: y,
                depth: E,
                stencil: H,
                antialias: F,
                premultipliedAlpha: M,
                preserveDrawingBuffer: ca
            };
            A = I || v.getContext("webgl", y) || v.getContext("experimental-webgl", y);
            if (null === A) {
                if (null !== v.getContext("webgl"))
                    throw "Error creating WebGL context with your selected attributes.";
                throw "Error creating WebGL context.";
            }
            void 0 === A.getShaderPrecisionFormat && (A.getShaderPrecisionFormat = function() {
                return {
                    rangeMin: 1,
                    rangeMax: 1,
                    precision: 1
                }
            });
            v.addEventListener("webglcontextlost", e, !1)
        } catch (Cf) {
            console.error("THREE.WebGLRenderer: " + Cf)
        }
        var ka = new Af(A);
        ka.get("WEBGL_depth_texture");
        ka.get("OES_texture_float");
        ka.get("OES_texture_float_linear");
        ka.get("OES_texture_half_float");
        ka.get("OES_texture_half_float_linear");
        ka.get("OES_standard_derivatives");
        ka.get("ANGLE_instanced_arrays");
        ka.get("OES_element_index_uint") &&
        (G.MaxIndex = 4294967296);
        var ia = new zf(A, ka, a),
            Y = new yf(A, ka, u),
            ea = new xf,
            ua = new wf(A, ka, Y, ea, ia, u, this.info),
            qa = new vf(A, ea, this.info),
            va = new tf(this, ia),
            za = new lf;
        this.info.programs = va.programs;
        var Ga = new kf(A, ka, ma),
            Ha = new jf(A, ka, ma),
            Ia = new Hb(-1, 1, 1, -1, 0, 1),
            wa = new Ea,
            Ba = new ya(new ib(2, 2), new Ma({
                depthTest: !1,
                depthWrite: !1,
                fog: !1
            }));
        a = Gb.cube;
        var xa = new ya(new hb(5, 5, 5), new Fa({
            uniforms: a.uniforms,
            vertexShader: a.vertexShader,
            fragmentShader: a.fragmentShader,
            side: 1,
            depthTest: !1,
            depthWrite: !1,
            fog: !1
        }));
        c();
        this.context = A;
        this.capabilities = ia;
        this.extensions = ka;
        this.properties = ea;
        this.state = Y;
        var Ja = new pe(this, aa, qa, ia);
        this.shadowMap = Ja;
        var Na = new hf(this, P),
            Oa = new ff(this, R);
        this.getContext = function() {
            return A
        };
        this.getContextAttributes = function() {
            return A.getContextAttributes()
        };
        this.forceContextLoss = function() {
            ka.get("WEBGL_lose_context").loseContext()
        };
        this.getMaxAnisotropy = function() {
            return ia.getMaxAnisotropy()
        };
        this.getPrecision = function() {
            return ia.precision
        };
        this.getPixelRatio = function() {
            return Qa
        };
        this.setPixelRatio = function(a) {
            void 0 !== a && (Qa = a, this.setSize(fa.z, fa.w, !1))
        };
        this.getSize = function() {
            return {
                width: Pa,
                height: pc
            }
        };
        this.setSize = function(a, b, c) {
            Pa = a;
            pc = b;
            v.width = a * Qa;
            v.height = b * Qa;
            !1 !== c && (v.style.width = a + "px", v.style.height = b + "px");
            this.setViewport(0, 0, a, b)
        };
        this.setViewport = function(a, b, c, d) {
            Y.viewport(fa.set(a, b, c, d))
        };
        this.setScissor = function(a, b, c, d) {
            Y.scissor(ha.set(a, b, c, d))
        };
        this.setScissorTest = function(a) {
            Y.setScissorTest(la = a)
        };
        this.getClearColor = function() {
            return Da
        };
        this.setClearColor =
        function(a, c) {
            Da.set(a);
            Ra = void 0 !== c ? c : 1;
            b(Da.r, Da.g, Da.b, Ra)
        };
        this.getClearAlpha = function() {
            return Ra
        };
        this.setClearAlpha = function(a) {
            Ra = a;
            b(Da.r, Da.g, Da.b, Ra)
        };
        this.clear = function(a, b, c) {
            var d = 0;
            if (void 0 === a || a)
                d |= A.COLOR_BUFFER_BIT;
            if (void 0 === b || b)
                d |= A.DEPTH_BUFFER_BIT;
            if (void 0 === c || c)
                d |= A.STENCIL_BUFFER_BIT;
            A.clear(d)
        };
        this.clearColor = function() {
            this.clear(!0, !1, !1)
        };
        this.clearDepth = function() {
            this.clear(!1, !0, !1)
        };
        this.clearStencil = function() {
            this.clear(!1, !1, !0)
        };
        this.clearTarget = function(a,
        b, c, d) {
            this.setRenderTarget(a);
            this.clear(b, c, d)
        };
        this.resetGLState = d;
        this.dispose = function() {
            z = [];
            Ka = -1;
            B = [];
            C = -1;
            v.removeEventListener("webglcontextlost", e, !1)
        };
        this.renderBufferImmediate = function(a, b, c) {
            Y.initAttributes();
            var d = ea.get(a);
            a.hasPositions && !d.position && (d.position = A.createBuffer());
            a.hasNormals && !d.normal && (d.normal = A.createBuffer());
            a.hasUvs && !d.uv && (d.uv = A.createBuffer());
            a.hasColors && !d.color && (d.color = A.createBuffer());
            b = b.getAttributes();
            a.hasPositions && (A.bindBuffer(A.ARRAY_BUFFER,
            d.position), A.bufferData(A.ARRAY_BUFFER, a.positionArray, A.DYNAMIC_DRAW), Y.enableAttribute(b.position), A.vertexAttribPointer(b.position, 3, A.FLOAT, !1, 0, 0));
            if (a.hasNormals) {
                A.bindBuffer(A.ARRAY_BUFFER, d.normal);
                if (!c.isMeshPhongMaterial && !c.isMeshStandardMaterial && 1 === c.shading)
                    for (var e = 0, f = 3 * a.count; e < f; e += 9) {
                        var g = a.normalArray,
                            h = (g[e + 0] + g[e + 3] + g[e + 6]) / 3,
                            k = (g[e + 1] + g[e + 4] + g[e + 7]) / 3,
                            m = (g[e + 2] + g[e + 5] + g[e + 8]) / 3;
                        g[e + 0] = h;
                        g[e + 1] = k;
                        g[e + 2] = m;
                        g[e + 3] = h;
                        g[e + 4] = k;
                        g[e + 5] = m;
                        g[e + 6] = h;
                        g[e + 7] = k;
                        g[e + 8] = m
                    }
                A.bufferData(A.ARRAY_BUFFER,
                a.normalArray, A.DYNAMIC_DRAW);
                Y.enableAttribute(b.normal);
                A.vertexAttribPointer(b.normal, 3, A.FLOAT, !1, 0, 0)
            }
            a.hasUvs && c.map && (A.bindBuffer(A.ARRAY_BUFFER, d.uv), A.bufferData(A.ARRAY_BUFFER, a.uvArray, A.DYNAMIC_DRAW), Y.enableAttribute(b.uv), A.vertexAttribPointer(b.uv, 2, A.FLOAT, !1, 0, 0));
            a.hasColors && 0 !== c.vertexColors && (A.bindBuffer(A.ARRAY_BUFFER, d.color), A.bufferData(A.ARRAY_BUFFER, a.colorArray, A.DYNAMIC_DRAW), Y.enableAttribute(b.color), A.vertexAttribPointer(b.color, 3, A.FLOAT, !1, 0, 0));
            Y.disableUnusedAttributes();
            A.drawArrays(A.TRIANGLES, 0, a.count);
            a.count = 0
        };
        this.renderBufferDirect = function(a, b, c, d, e, f) {
            l(d);
            var g = t(a, b, d, e),
                k = !1;
            a = c.id + "_" + g.id + "_" + d.wireframe;
            a !== U && (U = a, k = !0);
            b = e.morphTargetInfluences;
            if (void 0 !== b) {
                var m = [];
                a = 0;
                for (var p = b.length; a < p; a++)
                    k = b[a], m.push([k, a]);
                m.sort(h);
                8 < m.length && (m.length = 8);
                var n = c.morphAttributes;
                a = 0;
                for (p = m.length; a < p; a++)
                    k = m[a], N[a] = k[0], 0 !== k[0] ? (b = k[1], !0 === d.morphTargets && n.position && c.addAttribute("morphTarget" + a, n.position[b]), !0 === d.morphNormals && n.normal &&
                    c.addAttribute("morphNormal" + a, n.normal[b])) : (!0 === d.morphTargets && c.removeAttribute("morphTarget" + a), !0 === d.morphNormals && c.removeAttribute("morphNormal" + a));
                a = m.length;
                for (b = N.length; a < b; a++)
                    N[a] = 0;
                g.getUniforms().setValue(A, "morphTargetInfluences", N);
                k = !0
            }
            b = c.index;
            p = c.attributes.position;
            m = 1;
            !0 === d.wireframe && (b = qa.getWireframeAttribute(c), m = 2);
            null !== b ? (a = Ha, a.setIndex(b)) : a = Ga;
            if (k) {
                a:
                {
                    var k = void 0,
                        w;
                    if (c && c.isInstancedBufferGeometry && (w = ka.get("ANGLE_instanced_arrays"), null === w)) {
                        console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
                        break a
                    }
                    void 0 === k && (k = 0);
                    Y.initAttributes();
                    var n = c.attributes,
                        g = g.getAttributes(),
                        r = d.defaultAttributeValues,
                        v;
                    for (v in g) {
                        var q = g[v];
                        if (0 <= q) {
                            var u = n[v];
                            if (void 0 !== u) {
                                var y = A.FLOAT,
                                    D = u.array,
                                    H = u.normalized;
                                D instanceof Float32Array ? y = A.FLOAT : D instanceof Float64Array ? console.warn("Unsupported data buffer format: Float64Array") : D instanceof Uint16Array ? y = A.UNSIGNED_SHORT : D instanceof Int16Array ? y = A.SHORT : D instanceof Uint32Array ? y = A.UNSIGNED_INT : D instanceof Int32Array ? y = A.INT : D instanceof Int8Array ?
                                y = A.BYTE : D instanceof Uint8Array && (y = A.UNSIGNED_BYTE);
                                var D = u.itemSize,
                                    F = qa.getAttributeBuffer(u);
                                if (u.isInterleavedBufferAttribute) {
                                    var I = u.data,
                                        E = I.stride,
                                        u = u.offset;
                                    I && I.isInstancedInterleavedBuffer ? (Y.enableAttributeAndDivisor(q, I.meshPerAttribute, w), void 0 === c.maxInstancedCount && (c.maxInstancedCount = I.meshPerAttribute * I.count)) : Y.enableAttribute(q);
                                    A.bindBuffer(A.ARRAY_BUFFER, F);
                                    A.vertexAttribPointer(q, D, y, H, E * I.array.BYTES_PER_ELEMENT, (k * E + u) * I.array.BYTES_PER_ELEMENT)
                                } else
                                    u.isInstancedBufferAttribute ?
                                    (Y.enableAttributeAndDivisor(q, u.meshPerAttribute, w), void 0 === c.maxInstancedCount && (c.maxInstancedCount = u.meshPerAttribute * u.count)) : Y.enableAttribute(q), A.bindBuffer(A.ARRAY_BUFFER, F), A.vertexAttribPointer(q, D, y, H, 0, k * D * u.array.BYTES_PER_ELEMENT)
                            } else if (void 0 !== r && (y = r[v], void 0 !== y))
                                switch (y.length) {
                                case 2:
                                    A.vertexAttrib2fv(q, y);
                                    break;
                                case 3:
                                    A.vertexAttrib3fv(q, y);
                                    break;
                                case 4:
                                    A.vertexAttrib4fv(q, y);
                                    break;
                                default:
                                    A.vertexAttrib1fv(q, y)
                                }
                        }
                    }
                    Y.disableUnusedAttributes()
                }null !== b && A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,
                qa.getAttributeBuffer(b))
            }
            w = 0;
            null !== b ? w = b.count : void 0 !== p && (w = p.count);
            b = c.drawRange.start * m;
            p = null !== f ? f.start * m : 0;
            v = Math.max(b, p);
            f = Math.max(0, Math.min(w, b + c.drawRange.count * m, p + (null !== f ? f.count * m : Infinity)) - 1 - v + 1);
            if (0 !== f) {
                if (e.isMesh)
                    if (!0 === d.wireframe)
                        Y.setLineWidth(d.wireframeLinewidth * (null === V ? Qa : 1)), a.setMode(A.LINES);
                    else
                        switch (e.drawMode) {
                        case 0:
                            a.setMode(A.TRIANGLES);
                            break;
                        case 1:
                            a.setMode(A.TRIANGLE_STRIP);
                            break;
                        case 2:
                            a.setMode(A.TRIANGLE_FAN)
                        }
                else
                    e.isLine ? (d = d.linewidth, void 0 ===
                    d && (d = 1), Y.setLineWidth(d * (null === V ? Qa : 1)), e.isLineSegments ? a.setMode(A.LINES) : a.setMode(A.LINE_STRIP)) : e.isPoints && a.setMode(A.POINTS);
                c && c.isInstancedBufferGeometry ? 0 < c.maxInstancedCount && a.renderInstances(c, v, f) : a.render(v, f)
            }
        };
        this.render = function(a, c, d, e) {
            if (void 0 !== c && !0 !== c.isCamera)
                console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
            else {
                U = "";
                L = -1;
                W = null;
                !0 === a.autoUpdate && a.updateMatrixWorld();
                null === c.parent && c.updateMatrixWorld();
                c.matrixWorldInverse.getInverse(c.matrixWorld);
                ra.multiplyMatrices(c.projectionMatrix, c.matrixWorldInverse);
                oa.setFromMatrix(ra);
                K.length = 0;
                Ka = C = -1;
                P.length = 0;
                R.length = 0;
                sa = this.localClippingEnabled;
                pa = ba.init(this.clippingPlanes, sa, c);
                p(a, c);
                B.length = C + 1;
                z.length = Ka + 1;
                !0 === S.sortObjects && (B.sort(k), z.sort(m));
                pa && ba.beginShadows();
                for (var f = K, g = 0, h = 0, n = f.length; h < n; h++) {
                    var w = f[h];
                    w.castShadow && (aa.shadows[g++] = w)
                }
                aa.shadows.length = g;
                Ja.render(a, c);
                for (var f = K, l = w = 0, x = 0, t, v, q, u, y = c.matrixWorldInverse, D = 0, H = 0, F = 0, I = 0, g = 0, h = f.length; g < h; g++)
                    if (n =
                    f[g], t = n.color, v = n.intensity, q = n.distance, u = n.shadow && n.shadow.map ? n.shadow.map.texture : null, n.isAmbientLight)
                        w += t.r * v, l += t.g * v, x += t.b * v;
                    else if (n.isDirectionalLight) {
                        var E = za.get(n);
                        E.color.copy(n.color).multiplyScalar(n.intensity);
                        E.direction.setFromMatrixPosition(n.matrixWorld);
                        Z.setFromMatrixPosition(n.target.matrixWorld);
                        E.direction.sub(Z);
                        E.direction.transformDirection(y);
                        if (E.shadow = n.castShadow)
                            E.shadowBias = n.shadow.bias, E.shadowRadius = n.shadow.radius, E.shadowMapSize = n.shadow.mapSize;
                        aa.directionalShadowMap[D] =
                        u;
                        aa.directionalShadowMatrix[D] = n.shadow.matrix;
                        aa.directional[D++] = E
                    } else if (n.isSpotLight) {
                        E = za.get(n);
                        E.position.setFromMatrixPosition(n.matrixWorld);
                        E.position.applyMatrix4(y);
                        E.color.copy(t).multiplyScalar(v);
                        E.distance = q;
                        E.direction.setFromMatrixPosition(n.matrixWorld);
                        Z.setFromMatrixPosition(n.target.matrixWorld);
                        E.direction.sub(Z);
                        E.direction.transformDirection(y);
                        E.coneCos = Math.cos(n.angle);
                        E.penumbraCos = Math.cos(n.angle * (1 - n.penumbra));
                        E.decay = 0 === n.distance ? 0 : n.decay;
                        if (E.shadow = n.castShadow)
                            E.shadowBias =
                            n.shadow.bias, E.shadowRadius = n.shadow.radius, E.shadowMapSize = n.shadow.mapSize;
                        aa.spotShadowMap[F] = u;
                        aa.spotShadowMatrix[F] = n.shadow.matrix;
                        aa.spot[F++] = E
                    } else if (n.isPointLight) {
                        E = za.get(n);
                        E.position.setFromMatrixPosition(n.matrixWorld);
                        E.position.applyMatrix4(y);
                        E.color.copy(n.color).multiplyScalar(n.intensity);
                        E.distance = n.distance;
                        E.decay = 0 === n.distance ? 0 : n.decay;
                        if (E.shadow = n.castShadow)
                            E.shadowBias = n.shadow.bias, E.shadowRadius = n.shadow.radius, E.shadowMapSize = n.shadow.mapSize;
                        aa.pointShadowMap[H] =
                        u;
                        void 0 === aa.pointShadowMatrix[H] && (aa.pointShadowMatrix[H] = new J);
                        Z.setFromMatrixPosition(n.matrixWorld).negate();
                        aa.pointShadowMatrix[H].identity().setPosition(Z);
                        aa.point[H++] = E
                    } else
                        n.isHemisphereLight && (E = za.get(n), E.direction.setFromMatrixPosition(n.matrixWorld), E.direction.transformDirection(y), E.direction.normalize(), E.skyColor.copy(n.color).multiplyScalar(v), E.groundColor.copy(n.groundColor).multiplyScalar(v), aa.hemi[I++] = E);
                aa.ambient[0] = w;
                aa.ambient[1] = l;
                aa.ambient[2] = x;
                aa.directional.length =
                D;
                aa.spot.length = F;
                aa.point.length = H;
                aa.hemi.length = I;
                aa.hash = D + "," + H + "," + F + "," + I + "," + aa.shadows.length;
                pa && ba.endShadows();
                ma.calls = 0;
                ma.vertices = 0;
                ma.faces = 0;
                ma.points = 0;
                void 0 === d && (d = null);
                this.setRenderTarget(d);
                f = a.background;
                null === f ? b(Da.r, Da.g, Da.b, Ra) : f && f.isColor && (b(f.r, f.g, f.b, 1), e = !0);
                (this.autoClear || e) && this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil);
                f && f.isCubeTexture ? (wa.projectionMatrix.copy(c.projectionMatrix), wa.matrixWorld.extractRotation(c.matrixWorld),
                wa.matrixWorldInverse.getInverse(wa.matrixWorld), xa.material.uniforms.tCube.value = f, xa.modelViewMatrix.multiplyMatrices(wa.matrixWorldInverse, xa.matrixWorld), qa.update(xa), S.renderBufferDirect(wa, null, xa.geometry, xa.material, xa, null)) : f && f.isTexture && (Ba.material.map = f, qa.update(Ba), S.renderBufferDirect(Ia, null, Ba.geometry, Ba.material, Ba, null));
                a.overrideMaterial ? (e = a.overrideMaterial, r(B, a, c, e), r(z, a, c, e)) : (Y.setBlending(0), r(B, a, c), r(z, a, c));
                Na.render(a, c);
                Oa.render(a, c, $a);
                d && ua.updateRenderTargetMipmap(d);
                Y.setDepthTest(!0);
                Y.setDepthWrite(!0);
                Y.setColorWrite(!0)
            }
        };
        this.setFaceCulling = function(a, b) {
            Y.setCullFace(a);
            Y.setFlipSided(0 === b)
        };
        this.allocTextureUnit = function() {
            var a = da;
            a >= ia.maxTextures && console.warn("WebGLRenderer: trying to use " + a + " texture units while this GPU supports only " + ia.maxTextures);
            da += 1;
            return a
        };
        this.setTexture2D = function() {
            var a = !1;
            return function(b, c) {
                b && b.isWebGLRenderTarget && (a || (console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),
                a = !0), b = b.texture);
                ua.setTexture2D(b, c)
            }
        }();
        this.setTexture = function() {
            var a = !1;
            return function(b, c) {
                a || (console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."), a = !0);
                ua.setTexture2D(b, c)
            }
        }();
        this.setTextureCube = function() {
            var a = !1;
            return function(b, c) {
                b && b.isWebGLRenderTargetCube && (a || (console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."), a = !0), b = b.texture);
                b && b.isCubeTexture || Array.isArray(b.image) &&
                6 === b.image.length ? ua.setTextureCube(b, c) : ua.setTextureCubeDynamic(b, c)
            }
        }();
        this.getCurrentRenderTarget = function() {
            return V
        };
        this.setRenderTarget = function(a) {
            (V = a) && void 0 === ea.get(a).__webglFramebuffer && ua.setupRenderTarget(a);
            var b = a && a.isWebGLRenderTargetCube,
                c;
            a ? (c = ea.get(a), c = b ? c.__webglFramebuffer[a.activeCubeFace] : c.__webglFramebuffer, X.copy(a.scissor), fb = a.scissorTest, $a.copy(a.viewport)) : (c = null, X.copy(ha).multiplyScalar(Qa), fb = la, $a.copy(fa).multiplyScalar(Qa));
            T !== c && (A.bindFramebuffer(A.FRAMEBUFFER,
            c), T = c);
            Y.scissor(X);
            Y.setScissorTest(fb);
            Y.viewport($a);
            b && (b = ea.get(a.texture), A.framebufferTexture2D(A.FRAMEBUFFER, A.COLOR_ATTACHMENT0, A.TEXTURE_CUBE_MAP_POSITIVE_X + a.activeCubeFace, b.__webglTexture, a.activeMipMapLevel))
        };
        this.readRenderTargetPixels = function(a, b, c, d, e, f) {
            if (!1 === (a && a.isWebGLRenderTarget))
                console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
            else {
                var g = ea.get(a).__webglFramebuffer;
                if (g) {
                    var h = !1;
                    g !== T && (A.bindFramebuffer(A.FRAMEBUFFER,
                    g), h = !0);
                    try {
                        var k = a.texture,
                            m = k.format,
                            n = k.type;
                        1023 !== m && u(m) !== A.getParameter(A.IMPLEMENTATION_COLOR_READ_FORMAT) ? console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.") : 1009 === n || u(n) === A.getParameter(A.IMPLEMENTATION_COLOR_READ_TYPE) || 1015 === n && (ka.get("OES_texture_float") || ka.get("WEBGL_color_buffer_float")) || 1016 === n && ka.get("EXT_color_buffer_half_float") ? A.checkFramebufferStatus(A.FRAMEBUFFER) === A.FRAMEBUFFER_COMPLETE ? 0 <= b &&
                        b <= a.width - d && 0 <= c && c <= a.height - e && A.readPixels(b, c, d, e, u(m), u(n), f) : console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.") : console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")
                    } finally {
                        h && A.bindFramebuffer(A.FRAMEBUFFER, T)
                    }
                }
            }
        }
    }
    function Ib(a, b) {
        this.name = "";
        this.color = new O(a);
        this.density = void 0 !== b ? b : 2.5E-4
    }
    function Jb(a, b, c) {
        this.name = "";
        this.color =
        new O(a);
        this.near = void 0 !== b ? b : 1;
        this.far = void 0 !== c ? c : 1E3
    }
    function jb() {
        z.call(this);
        this.type = "Scene";
        this.overrideMaterial = this.fog = this.background = null;
        this.autoUpdate = !0
    }
    function Ed(a, b, c, d, e) {
        z.call(this);
        this.lensFlares = [];
        this.positionScreen = new q;
        this.customUpdateCallback = void 0;
        void 0 !== a && this.add(a, b, c, d, e)
    }
    function kb(a) {
        U.call(this);
        this.type = "SpriteMaterial";
        this.color = new O(16777215);
        this.map = null;
        this.rotation = 0;
        this.lights = this.fog = !1;
        this.setValues(a)
    }
    function qc(a) {
        z.call(this);
        this.type = "Sprite";
        this.material = void 0 !== a ? a : new kb
    }
    function rc() {
        z.call(this);
        this.type = "LOD";
        Object.defineProperties(this, {
            levels: {
                enumerable: !0,
                value: []
            }
        })
    }
    function lb(a, b, c, d, e, f, g, h, k, m, w, n) {
        da.call(this, null, f, g, h, k, m, d, e, w, n);
        this.image = {
            data: a,
            width: b,
            height: c
        };
        this.magFilter = void 0 !== k ? k : 1003;
        this.minFilter = void 0 !== m ? m : 1003;
        this.flipY = this.generateMipmaps = !1;
        this.unpackAlignment = 1
    }
    function bd(a, b, c) {
        this.useVertexTexture = void 0 !== c ? c : !0;
        this.identityMatrix = new J;
        a = a || [];
        this.bones = a.slice(0);
        this.useVertexTexture ? (a = Math.sqrt(4 * this.bones.length), a = T.nextPowerOfTwo(Math.ceil(a)), this.boneTextureHeight = this.boneTextureWidth = a = Math.max(a, 4), this.boneMatrices = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4), this.boneTexture = new lb(this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, 1023, 1015)) : this.boneMatrices = new Float32Array(16 * this.bones.length);
        if (void 0 === b)
            this.calculateInverses();
        else if (this.bones.length === b.length)
            this.boneInverses = b.slice(0);
        else
            for (console.warn("THREE.Skeleton bonInverses is the wrong length."),
            this.boneInverses = [], b = 0, a = this.bones.length; b < a; b++)
                this.boneInverses.push(new J)
    }
    function cd(a) {
        z.call(this);
        this.type = "Bone";
        this.skin = a
    }
    function dd(a, b, c) {
        ya.call(this, a, b);
        this.type = "SkinnedMesh";
        this.bindMode = "attached";
        this.bindMatrix = new J;
        this.bindMatrixInverse = new J;
        a = [];
        if (this.geometry && void 0 !== this.geometry.bones) {
            for (var d, e = 0, f = this.geometry.bones.length; e < f; ++e)
                d = this.geometry.bones[e], b = new cd(this), a.push(b), b.name = d.name, b.position.fromArray(d.pos), b.quaternion.fromArray(d.rotq),
                void 0 !== d.scl && b.scale.fromArray(d.scl);
            e = 0;
            for (f = this.geometry.bones.length; e < f; ++e)
                d = this.geometry.bones[e], -1 !== d.parent && null !== d.parent && void 0 !== a[d.parent] ? a[d.parent].add(a[e]) : this.add(a[e])
        }
        this.normalizeSkinWeights();
        this.updateMatrixWorld(!0);
        this.bind(new bd(a, void 0, c), this.matrixWorld)
    }
    function oa(a) {
        U.call(this);
        this.type = "LineBasicMaterial";
        this.color = new O(16777215);
        this.linewidth = 1;
        this.linejoin = this.linecap = "round";
        this.lights = !1;
        this.setValues(a)
    }
    function Ta(a, b, c) {
        if (1 === c)
            return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),
            new la(a, b);
        z.call(this);
        this.type = "Line";
        this.geometry = void 0 !== a ? a : new G;
        this.material = void 0 !== b ? b : new oa({
            color: 16777215 * Math.random()
        })
    }
    function la(a, b) {
        Ta.call(this, a, b);
        this.type = "LineSegments"
    }
    function xa(a) {
        U.call(this);
        this.type = "PointsMaterial";
        this.color = new O(16777215);
        this.map = null;
        this.size = 1;
        this.sizeAttenuation = !0;
        this.lights = !1;
        this.setValues(a)
    }
    function Kb(a, b) {
        z.call(this);
        this.type = "Points";
        this.geometry = void 0 !== a ? a : new G;
        this.material = void 0 !== b ? b : new xa({
            color: 16777215 * Math.random()
        })
    }
    function sc() {
        z.call(this);
        this.type = "Group"
    }
    function ed(a, b, c, d, e, f, g, h, k) {
        function m() {
            requestAnimationFrame(m);
            a.readyState >= a.HAVE_CURRENT_DATA && (w.needsUpdate = !0)
        }
        da.call(this, a, b, c, d, e, f, g, h, k);
        this.generateMipmaps = !1;
        var w = this;
        m()
    }
    function Lb(a, b, c, d, e, f, g, h, k, m, w, n) {
        da.call(this, null, f, g, h, k, m, d, e, w, n);
        this.image = {
            width: b,
            height: c
        };
        this.mipmaps = a;
        this.generateMipmaps = this.flipY = !1
    }
    function fd(a, b, c, d, e, f, g, h, k) {
        da.call(this, a, b, c, d, e, f, g, h, k);
        this.needsUpdate = !0
    }
    function tc(a, b, c, d, e, f, g,
    h, k, m) {
        m = void 0 !== m ? m : 1026;
        if (1026 !== m && 1027 !== m)
            throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
        da.call(this, null, d, e, f, g, h, m, c, k);
        this.image = {
            width: a,
            height: b
        };
        this.type = void 0 !== c ? c : 1012;
        this.magFilter = void 0 !== g ? g : 1003;
        this.minFilter = void 0 !== h ? h : 1003;
        this.generateMipmaps = this.flipY = !1
    }
    function Mb(a) {
        function b(a, b) {
            return a - b
        }
        G.call(this);
        var c = [0, 0],
            d = {},
            e = ["a", "b", "c"];
        if (a && a.isGeometry) {
            var f = a.vertices,
                g = a.faces,
                h = 0,
                k = new Uint32Array(6 * g.length);
            a = 0;
            for (var m = g.length; a < m; a++)
                for (var w = g[a], n = 0; 3 > n; n++) {
                    c[0] = w[e[n]];
                    c[1] = w[e[(n + 1) % 3]];
                    c.sort(b);
                    var p = c.toString();
                    void 0 === d[p] && (k[2 * h] = c[0], k[2 * h + 1] = c[1], d[p] = !0, h++)
                }
            c = new Float32Array(6 * h);
            a = 0;
            for (m = h; a < m; a++)
                for (n = 0; 2 > n; n++)
                    d = f[k[2 * a + n]], h = 6 * a + 3 * n, c[h + 0] = d.x, c[h + 1] = d.y, c[h + 2] = d.z;
            this.addAttribute("position", new C(c, 3))
        } else if (a && a.isBufferGeometry) {
            if (null !== a.index) {
                m = a.index.array;
                f = a.attributes.position;
                e = a.groups;
                h = 0;
                0 === e.length && a.addGroup(0, m.length);
                k = new Uint32Array(2 * m.length);
                g = 0;
                for (w = e.length; g < w; ++g) {
                    a = e[g];
                    n = a.start;
                    p = a.count;
                    a = n;
                    for (var r = n + p; a < r; a += 3)
                        for (n = 0; 3 > n; n++)
                            c[0] = m[a + n], c[1] = m[a + (n + 1) % 3], c.sort(b), p = c.toString(), void 0 === d[p] && (k[2 * h] = c[0], k[2 * h + 1] = c[1], d[p] = !0, h++)
                }
                c = new Float32Array(6 * h);
                a = 0;
                for (m = h; a < m; a++)
                    for (n = 0; 2 > n; n++)
                        h = 6 * a + 3 * n, d = k[2 * a + n], c[h + 0] = f.getX(d), c[h + 1] = f.getY(d), c[h + 2] = f.getZ(d)
            } else
                for (f = a.attributes.position.array, h = f.length / 3, k = h / 3, c = new Float32Array(6 * h), a = 0, m = k; a < m; a++)
                    for (n = 0; 3 > n; n++)
                        h = 18 * a + 6 * n, k = 9 * a + 3 * n, c[h + 0] = f[k], c[h + 1] = f[k + 1],
                        c[h + 2] = f[k + 2], d = 9 * a + (n + 1) % 3 * 3, c[h + 3] = f[d], c[h + 4] = f[d + 1], c[h + 5] = f[d + 2];
            this.addAttribute("position", new C(c, 3))
        }
    }
    function Nb(a, b, c) {
        G.call(this);
        this.type = "ParametricBufferGeometry";
        this.parameters = {
            func: a,
            slices: b,
            stacks: c
        };
        var d = [],
            e = [],
            f,
            g,
            h,
            k,
            m,
            w = b + 1;
        for (f = 0; f <= c; f++)
            for (m = f / c, g = 0; g <= b; g++)
                k = g / b, h = a(k, m), d.push(h.x, h.y, h.z), e.push(k, m);
        a = [];
        var n;
        for (f = 0; f < c; f++)
            for (g = 0; g < b; g++)
                h = f * w + g, k = f * w + g + 1, m = (f + 1) * w + g + 1, n = (f + 1) * w + g, a.push(h, k, n), a.push(k, m, n);
        this.setIndex((65535 < a.length ? $c : Zc)(a, 1));
        this.addAttribute("position",
        ha(d, 3));
        this.addAttribute("uv", ha(e, 2));
        this.computeVertexNormals()
    }
    function uc(a, b, c) {
        Q.call(this);
        this.type = "ParametricGeometry";
        this.parameters = {
            func: a,
            slices: b,
            stacks: c
        };
        this.fromBufferGeometry(new Nb(a, b, c));
        this.mergeVertices()
    }
    function ua(a, b, c, d) {
        function e(a) {
            h.push(a.x, a.y, a.z)
        }
        function f(b, c) {
            var d = 3 * b;
            c.x = a[d + 0];
            c.y = a[d + 1];
            c.z = a[d + 2]
        }
        function g(a, b, c, d) {
            0 > d && 1 === a.x && (k[b] = a.x - 1);
            0 === c.x && 0 === c.z && (k[b] = d / 2 / Math.PI + .5)
        }
        G.call(this);
        this.type = "PolyhedronBufferGeometry";
        this.parameters =
        {
            vertices: a,
            indices: b,
            radius: c,
            detail: d
        };
        c = c || 1;
        var h = [],
            k = [];
        (function(a) {
            for (var c = new q, d = new q, g = new q, h = 0; h < b.length; h += 3) {
                f(b[h + 0], c);
                f(b[h + 1], d);
                f(b[h + 2], g);
                var k = c,
                    l = d,
                    D = g,
                    u = Math.pow(2, a),
                    v = [],
                    I,
                    y;
                for (I = 0; I <= u; I++) {
                    v[I] = [];
                    var E = k.clone().lerp(D, I / u),
                        H = l.clone().lerp(D, I / u),
                        F = u - I;
                    for (y = 0; y <= F; y++)
                        v[I][y] = 0 === y && I === u ? E : E.clone().lerp(H, y / F)
                }
                for (I = 0; I < u; I++)
                    for (y = 0; y < 2 * (u - I) - 1; y++)
                        k = Math.floor(y / 2), 0 === y % 2 ? (e(v[I][k + 1]), e(v[I + 1][k]), e(v[I][k])) : (e(v[I][k + 1]), e(v[I + 1][k + 1]), e(v[I + 1][k]))
            }
        })(d ||
        0);
        (function(a) {
            for (var b = new q, c = 0; c < h.length; c += 3)
                b.x = h[c + 0], b.y = h[c + 1], b.z = h[c + 2], b.normalize().multiplyScalar(a), h[c + 0] = b.x, h[c + 1] = b.y, h[c + 2] = b.z
        })(c);
        (function() {
            for (var a = new q, b = 0; b < h.length; b += 3)
                a.x = h[b + 0], a.y = h[b + 1], a.z = h[b + 2], k.push(Math.atan2(a.z, -a.x) / 2 / Math.PI + .5, 1 - (Math.atan2(-a.y, Math.sqrt(a.x * a.x + a.z * a.z)) / Math.PI + .5));
            for (var a = new q, b = new q, c = new q, d = new q, e = new B, f = new B, l = new B, D = 0, u = 0; D < h.length; D += 9, u += 6) {
                a.set(h[D + 0], h[D + 1], h[D + 2]);
                b.set(h[D + 3], h[D + 4], h[D + 5]);
                c.set(h[D + 6], h[D +
                7], h[D + 8]);
                e.set(k[u + 0], k[u + 1]);
                f.set(k[u + 2], k[u + 3]);
                l.set(k[u + 4], k[u + 5]);
                d.copy(a).add(b).add(c).divideScalar(3);
                var v = Math.atan2(d.z, -d.x);
                g(e, u + 0, a, v);
                g(f, u + 2, b, v);
                g(l, u + 4, c, v)
            }
            for (a = 0; a < k.length; a += 6)
                b = k[a + 0], c = k[a + 2], d = k[a + 4], e = Math.min(b, c, d), .9 < Math.max(b, c, d) && .1 > e && (.2 > b && (k[a + 0] += 1), .2 > c && (k[a + 2] += 1), .2 > d && (k[a + 4] += 1))
        })();
        this.addAttribute("position", ha(h, 3));
        this.addAttribute("normal", ha(h.slice(), 3));
        this.addAttribute("uv", ha(k, 2));
        this.normalizeNormals();
        this.boundingSphere = new Ca(new q,
        c)
    }
    function Ob(a, b) {
        ua.call(this, [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1], [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1], a, b);
        this.type = "TetrahedronBufferGeometry";
        this.parameters = {
            radius: a,
            detail: b
        }
    }
    function vc(a, b) {
        Q.call(this);
        this.type = "TetrahedronGeometry";
        this.parameters = {
            radius: a,
            detail: b
        };
        this.fromBufferGeometry(new Ob(a, b));
        this.mergeVertices()
    }
    function Pb(a, b) {
        ua.call(this, [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1], [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2], a, b);
        this.type = "OctahedronBufferGeometry";
        this.parameters =
        {
            radius: a,
            detail: b
        }
    }
    function wc(a, b) {
        Q.call(this);
        this.type = "OctahedronGeometry";
        this.parameters = {
            radius: a,
            detail: b
        };
        this.fromBufferGeometry(new Pb(a, b));
        this.mergeVertices()
    }
    function Qb(a, b) {
        var c = (1 + Math.sqrt(5)) / 2;
        ua.call(this, [-1, c, 0, 1, c, 0, -1, -c, 0, 1, -c, 0, 0, -1, c, 0, 1, c, 0, -1, -c, 0, 1, -c, c, 0, -1, c, 0, 1, -c, 0, -1, -c, 0, 1], [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1], a, b);
        this.type = "IcosahedronBufferGeometry";
        this.parameters =
        {
            radius: a,
            detail: b
        }
    }
    function xc(a, b) {
        Q.call(this);
        this.type = "IcosahedronGeometry";
        this.parameters = {
            radius: a,
            detail: b
        };
        this.fromBufferGeometry(new Qb(a, b));
        this.mergeVertices()
    }
    function Rb(a, b) {
        var c = (1 + Math.sqrt(5)) / 2,
            d = 1 / c;
        ua.call(this, [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -d, -c, 0, -d, c, 0, d, -c, 0, d, c, -d, -c, 0, -d, c, 0, d, -c, 0, d, c, 0, -c, 0, -d, c, 0, -d, -c, 0, d, c, 0, d], [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2,
        6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9], a, b);
        this.type = "DodecahedronBufferGeometry";
        this.parameters = {
            radius: a,
            detail: b
        }
    }
    function yc(a, b) {
        Q.call(this);
        this.type = "DodecahedronGeometry";
        this.parameters = {
            radius: a,
            detail: b
        };
        this.fromBufferGeometry(new Rb(a, b));
        this.mergeVertices()
    }
    function zc(a, b, c, d) {
        Q.call(this);
        this.type = "PolyhedronGeometry";
        this.parameters = {
            vertices: a,
            indices: b,
            radius: c,
            detail: d
        };
        this.fromBufferGeometry(new ua(a, b, c, d));
        this.mergeVertices()
    }
    function Sb(a, b, c, d, e) {
        function f(e) {
            var f = a.getPointAt(e / b),
                m = g.normals[e];
            e = g.binormals[e];
            for (n = 0; n <= d; n++) {
                var w = n / d * Math.PI * 2,
                    l = Math.sin(w),
                    w = -Math.cos(w);
                k.x = w * m.x + l * e.x;
                k.y = w * m.y + l * e.y;
                k.z = w * m.z + l * e.z;
                k.normalize();
                r.push(k.x, k.y, k.z);
                h.x = f.x + c * k.x;
                h.y = f.y + c * k.y;
                h.z = f.z + c * k.z;
                p.push(h.x, h.y, h.z)
            }
        }
        G.call(this);
        this.type = "TubeBufferGeometry";
        this.parameters = {
            path: a,
            tubularSegments: b,
            radius: c,
            radialSegments: d,
            closed: e
        };
        b = b || 64;
        c = c ||
        1;
        d = d || 8;
        e = e || !1;
        var g = a.computeFrenetFrames(b, e);
        this.tangents = g.tangents;
        this.normals = g.normals;
        this.binormals = g.binormals;
        var h = new q,
            k = new q,
            m = new B,
            w,
            n,
            p = [],
            r = [],
            l = [],
            t = [];
        for (w = 0; w < b; w++)
            f(w);
        f(!1 === e ? b : 0);
        for (w = 0; w <= b; w++)
            for (n = 0; n <= d; n++)
                m.x = w / b, m.y = n / d, l.push(m.x, m.y);
        (function() {
            for (n = 1; n <= b; n++)
                for (w = 1; w <= d; w++) {
                    var a = (d + 1) * n + (w - 1),
                        c = (d + 1) * n + w,
                        e = (d + 1) * (n - 1) + w;
                    t.push((d + 1) * (n - 1) + (w - 1), a, e);
                    t.push(a, c, e)
                }
        })();
        this.setIndex((65535 < t.length ? $c : Zc)(t, 1));
        this.addAttribute("position", ha(p, 3));
        this.addAttribute("normal", ha(r, 3));
        this.addAttribute("uv", ha(l, 2))
    }
    function Ac(a, b, c, d, e, f) {
        Q.call(this);
        this.type = "TubeGeometry";
        this.parameters = {
            path: a,
            tubularSegments: b,
            radius: c,
            radialSegments: d,
            closed: e
        };
        void 0 !== f && console.warn("THREE.TubeGeometry: taper has been removed.");
        a = new Sb(a, b, c, d, e);
        this.tangents = a.tangents;
        this.normals = a.normals;
        this.binormals = a.binormals;
        this.fromBufferGeometry(a);
        this.mergeVertices()
    }
    function Tb(a, b, c, d, e, f) {
        function g(a, b, c, d, e) {
            var f = Math.sin(a);
            b = c / b * a;
            c = Math.cos(b);
            e.x = d * (2 + c) * .5 * Math.cos(a);
            e.y = d * (2 + c) * f * .5;
            e.z = d * Math.sin(b) * .5
        }
        G.call(this);
        this.type = "TorusKnotBufferGeometry";
        this.parameters = {
            radius: a,
            tube: b,
            tubularSegments: c,
            radialSegments: d,
            p: e,
            q: f
        };
        a = a || 100;
        b = b || 40;
        c = Math.floor(c) || 64;
        d = Math.floor(d) || 8;
        e = e || 2;
        f = f || 3;
        var h = (d + 1) * (c + 1),
            k = d * c * 6,
            k = new C(new (65535 < k ? Uint32Array : Uint16Array)(k), 1),
            m = new C(new Float32Array(3 * h), 3),
            w = new C(new Float32Array(3 * h), 3),
            h = new C(new Float32Array(2 * h), 2),
            n,
            p,
            r = 0,
            l = 0,
            t = new q,
            D = new q,
            u = new B,
            v = new q,
            I = new q,
            y = new q,
            E = new q,
            H = new q;
        for (n = 0; n <= c; ++n)
            for (p = n / c * e * Math.PI * 2, g(p, e, f, a, v), g(p + .01, e, f, a, I), E.subVectors(I, v), H.addVectors(I, v), y.crossVectors(E, H), H.crossVectors(y, E), y.normalize(), H.normalize(), p = 0; p <= d; ++p) {
                var F = p / d * Math.PI * 2,
                    M = -b * Math.cos(F),
                    F = b * Math.sin(F);
                t.x = v.x + (M * H.x + F * y.x);
                t.y = v.y + (M * H.y + F * y.y);
                t.z = v.z + (M * H.z + F * y.z);
                m.setXYZ(r, t.x, t.y, t.z);
                D.subVectors(t, v).normalize();
                w.setXYZ(r, D.x, D.y, D.z);
                u.x = n / c;
                u.y = p / d;
                h.setXY(r, u.x, u.y);
                r++
            }
        for (p = 1; p <= c; p++)
            for (n = 1; n <= d; n++)
                a = (d + 1) * p + (n - 1), b = (d + 1) * p + n, e = (d + 1) *
                (p - 1) + n, k.setX(l, (d + 1) * (p - 1) + (n - 1)), l++, k.setX(l, a), l++, k.setX(l, e), l++, k.setX(l, a), l++, k.setX(l, b), l++, k.setX(l, e), l++;
        this.setIndex(k);
        this.addAttribute("position", m);
        this.addAttribute("normal", w);
        this.addAttribute("uv", h)
    }
    function Bc(a, b, c, d, e, f, g) {
        Q.call(this);
        this.type = "TorusKnotGeometry";
        this.parameters = {
            radius: a,
            tube: b,
            tubularSegments: c,
            radialSegments: d,
            p: e,
            q: f
        };
        void 0 !== g && console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");
        this.fromBufferGeometry(new Tb(a,
        b, c, d, e, f));
        this.mergeVertices()
    }
    function Ub(a, b, c, d, e) {
        G.call(this);
        this.type = "TorusBufferGeometry";
        this.parameters = {
            radius: a,
            tube: b,
            radialSegments: c,
            tubularSegments: d,
            arc: e
        };
        a = a || 100;
        b = b || 40;
        c = Math.floor(c) || 8;
        d = Math.floor(d) || 6;
        e = e || 2 * Math.PI;
        var f = (c + 1) * (d + 1),
            g = c * d * 6,
            g = new (65535 < g ? Uint32Array : Uint16Array)(g),
            h = new Float32Array(3 * f),
            k = new Float32Array(3 * f),
            f = new Float32Array(2 * f),
            m = 0,
            w = 0,
            n = 0,
            p = new q,
            r = new q,
            l = new q,
            t,
            D;
        for (t = 0; t <= c; t++)
            for (D = 0; D <= d; D++) {
                var u = D / d * e,
                    v = t / c * Math.PI * 2;
                r.x = (a + b * Math.cos(v)) *
                Math.cos(u);
                r.y = (a + b * Math.cos(v)) * Math.sin(u);
                r.z = b * Math.sin(v);
                h[m] = r.x;
                h[m + 1] = r.y;
                h[m + 2] = r.z;
                p.x = a * Math.cos(u);
                p.y = a * Math.sin(u);
                l.subVectors(r, p).normalize();
                k[m] = l.x;
                k[m + 1] = l.y;
                k[m + 2] = l.z;
                f[w] = D / d;
                f[w + 1] = t / c;
                m += 3;
                w += 2
            }
        for (t = 1; t <= c; t++)
            for (D = 1; D <= d; D++)
                a = (d + 1) * (t - 1) + D - 1, b = (d + 1) * (t - 1) + D, e = (d + 1) * t + D, g[n] = (d + 1) * t + D - 1, g[n + 1] = a, g[n + 2] = e, g[n + 3] = a, g[n + 4] = b, g[n + 5] = e, n += 6;
        this.setIndex(new C(g, 1));
        this.addAttribute("position", new C(h, 3));
        this.addAttribute("normal", new C(k, 3));
        this.addAttribute("uv", new C(f,
        2))
    }
    function Cc(a, b, c, d, e) {
        Q.call(this);
        this.type = "TorusGeometry";
        this.parameters = {
            radius: a,
            tube: b,
            radialSegments: c,
            tubularSegments: d,
            arc: e
        };
        this.fromBufferGeometry(new Ub(a, b, c, d, e))
    }
    function za(a, b) {
        "undefined" !== typeof a && (Q.call(this), this.type = "ExtrudeGeometry", a = Array.isArray(a) ? a : [a], this.addShapeList(a, b), this.computeFaceNormals())
    }
    function Dc(a, b) {
        b = b || {};
        var c = b.font;
        if (!1 === (c && c.isFont))
            return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."), new Q;
        c = c.generateShapes(a, b.size, b.curveSegments);
        b.amount = void 0 !== b.height ? b.height : 50;
        void 0 === b.bevelThickness && (b.bevelThickness = 10);
        void 0 === b.bevelSize && (b.bevelSize = 8);
        void 0 === b.bevelEnabled && (b.bevelEnabled = !1);
        za.call(this, c, b);
        this.type = "TextGeometry"
    }
    function mb(a, b, c, d, e, f, g) {
        G.call(this);
        this.type = "SphereBufferGeometry";
        this.parameters = {
            radius: a,
            widthSegments: b,
            heightSegments: c,
            phiStart: d,
            phiLength: e,
            thetaStart: f,
            thetaLength: g
        };
        a = a || 50;
        b = Math.max(3, Math.floor(b) || 8);
        c = Math.max(2, Math.floor(c) ||
        6);
        d = void 0 !== d ? d : 0;
        e = void 0 !== e ? e : 2 * Math.PI;
        f = void 0 !== f ? f : 0;
        g = void 0 !== g ? g : Math.PI;
        for (var h = f + g, k = (b + 1) * (c + 1), m = new C(new Float32Array(3 * k), 3), w = new C(new Float32Array(3 * k), 3), k = new C(new Float32Array(2 * k), 2), n = 0, p = [], l = new q, x = 0; x <= c; x++) {
            for (var t = [], D = x / c, u = 0; u <= b; u++) {
                var v = u / b,
                    I = -a * Math.cos(d + v * e) * Math.sin(f + D * g),
                    y = a * Math.cos(f + D * g),
                    E = a * Math.sin(d + v * e) * Math.sin(f + D * g);
                l.set(I, y, E).normalize();
                m.setXYZ(n, I, y, E);
                w.setXYZ(n, l.x, l.y, l.z);
                k.setXY(n, v, 1 - D);
                t.push(n);
                n++
            }
            p.push(t)
        }
        d = [];
        for (x = 0; x <
        c; x++)
            for (u = 0; u < b; u++)
                e = p[x][u + 1], g = p[x][u], n = p[x + 1][u], l = p[x + 1][u + 1], (0 !== x || 0 < f) && d.push(e, g, l), (x !== c - 1 || h < Math.PI) && d.push(g, n, l);
        this.setIndex(new (65535 < m.count ? $c : Zc)(d, 1));
        this.addAttribute("position", m);
        this.addAttribute("normal", w);
        this.addAttribute("uv", k);
        this.boundingSphere = new Ca(new q, a)
    }
    function Vb(a, b, c, d, e, f, g) {
        Q.call(this);
        this.type = "SphereGeometry";
        this.parameters = {
            radius: a,
            widthSegments: b,
            heightSegments: c,
            phiStart: d,
            phiLength: e,
            thetaStart: f,
            thetaLength: g
        };
        this.fromBufferGeometry(new mb(a,
        b, c, d, e, f, g))
    }
    function Wb(a, b, c, d, e, f) {
        G.call(this);
        this.type = "RingBufferGeometry";
        this.parameters = {
            innerRadius: a,
            outerRadius: b,
            thetaSegments: c,
            phiSegments: d,
            thetaStart: e,
            thetaLength: f
        };
        a = a || 20;
        b = b || 50;
        e = void 0 !== e ? e : 0;
        f = void 0 !== f ? f : 2 * Math.PI;
        c = void 0 !== c ? Math.max(3, c) : 8;
        d = void 0 !== d ? Math.max(1, d) : 1;
        var g = (c + 1) * (d + 1),
            h = c * d * 6,
            h = new C(new (65535 < h ? Uint32Array : Uint16Array)(h), 1),
            k = new C(new Float32Array(3 * g), 3),
            m = new C(new Float32Array(3 * g), 3),
            g = new C(new Float32Array(2 * g), 2),
            w = 0,
            n = 0,
            p,
            l = a,
            x = (b - a) /
            d,
            t = new q,
            D = new B,
            u;
        for (a = 0; a <= d; a++) {
            for (u = 0; u <= c; u++)
                p = e + u / c * f, t.x = l * Math.cos(p), t.y = l * Math.sin(p), k.setXYZ(w, t.x, t.y, t.z), m.setXYZ(w, 0, 0, 1), D.x = (t.x / b + 1) / 2, D.y = (t.y / b + 1) / 2, g.setXY(w, D.x, D.y), w++;
            l += x
        }
        for (a = 0; a < d; a++)
            for (b = a * (c + 1), u = 0; u < c; u++)
                e = p = u + b, f = p + c + 1, w = p + c + 2, p += 1, h.setX(n, e), n++, h.setX(n, f), n++, h.setX(n, w), n++, h.setX(n, e), n++, h.setX(n, w), n++, h.setX(n, p), n++;
        this.setIndex(h);
        this.addAttribute("position", k);
        this.addAttribute("normal", m);
        this.addAttribute("uv", g)
    }
    function Ec(a, b, c, d, e, f) {
        Q.call(this);
        this.type = "RingGeometry";
        this.parameters = {
            innerRadius: a,
            outerRadius: b,
            thetaSegments: c,
            phiSegments: d,
            thetaStart: e,
            thetaLength: f
        };
        this.fromBufferGeometry(new Wb(a, b, c, d, e, f))
    }
    function Fc(a, b, c, d) {
        Q.call(this);
        this.type = "PlaneGeometry";
        this.parameters = {
            width: a,
            height: b,
            widthSegments: c,
            heightSegments: d
        };
        this.fromBufferGeometry(new ib(a, b, c, d))
    }
    function Xb(a, b, c, d) {
        G.call(this);
        this.type = "LatheBufferGeometry";
        this.parameters = {
            points: a,
            segments: b,
            phiStart: c,
            phiLength: d
        };
        b = Math.floor(b) || 12;
        c = c || 0;
        d = d ||
        2 * Math.PI;
        d = T.clamp(d, 0, 2 * Math.PI);
        for (var e = (b + 1) * a.length, f = b * a.length * 6, g = new C(new (65535 < f ? Uint32Array : Uint16Array)(f), 1), h = new C(new Float32Array(3 * e), 3), k = new C(new Float32Array(2 * e), 2), m = 0, w = 0, n = 1 / b, p = new q, l = new B, e = 0; e <= b; e++)
            for (var f = c + e * n * d, x = Math.sin(f), t = Math.cos(f), f = 0; f <= a.length - 1; f++)
                p.x = a[f].x * x, p.y = a[f].y, p.z = a[f].x * t, h.setXYZ(m, p.x, p.y, p.z), l.x = e / b, l.y = f / (a.length - 1), k.setXY(m, l.x, l.y), m++;
        for (e = 0; e < b; e++)
            for (f = 0; f < a.length - 1; f++)
                c = f + e * a.length, m = c + a.length, n = c + a.length + 1, p =
                c + 1, g.setX(w, c), w++, g.setX(w, m), w++, g.setX(w, p), w++, g.setX(w, m), w++, g.setX(w, n), w++, g.setX(w, p), w++;
        this.setIndex(g);
        this.addAttribute("position", h);
        this.addAttribute("uv", k);
        this.computeVertexNormals();
        if (d === 2 * Math.PI)
            for (d = this.attributes.normal.array, g = new q, h = new q, k = new q, c = b * a.length * 3, f = e = 0; e < a.length; e++, f += 3)
                g.x = d[f + 0], g.y = d[f + 1], g.z = d[f + 2], h.x = d[c + f + 0], h.y = d[c + f + 1], h.z = d[c + f + 2], k.addVectors(g, h).normalize(), d[f + 0] = d[c + f + 0] = k.x, d[f + 1] = d[c + f + 1] = k.y, d[f + 2] = d[c + f + 2] = k.z
    }
    function Gc(a, b, c, d) {
        Q.call(this);
        this.type = "LatheGeometry";
        this.parameters = {
            points: a,
            segments: b,
            phiStart: c,
            phiLength: d
        };
        this.fromBufferGeometry(new Xb(a, b, c, d));
        this.mergeVertices()
    }
    function cb(a, b) {
        Q.call(this);
        this.type = "ShapeGeometry";
        !1 === Array.isArray(a) && (a = [a]);
        this.addShapeList(a, b);
        this.computeFaceNormals()
    }
    function Yb(a, b) {
        function c(a, b) {
            return a - b
        }
        G.call(this);
        var d = Math.cos(T.DEG2RAD * (void 0 !== b ? b : 1)),
            e = [0, 0],
            f = {},
            g = ["a", "b", "c"],
            h;
        a && a.isBufferGeometry ? (h = new Q, h.fromBufferGeometry(a)) : h = a.clone();
        h.mergeVertices();
        h.computeFaceNormals();
        var k = h.vertices;
        h = h.faces;
        for (var m = 0, w = h.length; m < w; m++)
            for (var n = h[m], p = 0; 3 > p; p++) {
                e[0] = n[g[p]];
                e[1] = n[g[(p + 1) % 3]];
                e.sort(c);
                var l = e.toString();
                void 0 === f[l] ? f[l] = {
                    vert1: e[0],
                    vert2: e[1],
                    face1: m,
                    face2: void 0
                } : f[l].face2 = m
            }
        e = [];
        for (l in f)
            if (g = f[l], void 0 === g.face2 || h[g.face1].normal.dot(h[g.face2].normal) <= d)
                m = k[g.vert1], e.push(m.x), e.push(m.y), e.push(m.z), m = k[g.vert2], e.push(m.x), e.push(m.y), e.push(m.z);
        this.addAttribute("position", new C(new Float32Array(e), 3))
    }
    function Ua(a,
    b, c, d, e, f, g, h) {
        function k(c) {
            var e,
                f,
                k,
                n = new B,
                p = new q,
                l = 0,
                w = !0 === c ? a : b,
                I = !0 === c ? 1 : -1;
            f = u;
            for (e = 1; e <= d; e++)
                x.setXYZ(u, 0, y * I, 0), t.setXYZ(u, 0, I, 0), n.x = .5, n.y = .5, D.setXY(u, n.x, n.y), u++;
            k = u;
            for (e = 0; e <= d; e++) {
                var z = e / d * h + g,
                    C = Math.cos(z),
                    z = Math.sin(z);
                p.x = w * z;
                p.y = y * I;
                p.z = w * C;
                x.setXYZ(u, p.x, p.y, p.z);
                t.setXYZ(u, 0, I, 0);
                n.x = .5 * C + .5;
                n.y = .5 * z * I + .5;
                D.setXY(u, n.x, n.y);
                u++
            }
            for (e = 0; e < d; e++)
                n = f + e, p = k + e, !0 === c ? (r.setX(v, p), v++, r.setX(v, p + 1)) : (r.setX(v, p + 1), v++, r.setX(v, p)), v++, r.setX(v, n), v++, l += 3;
            m.addGroup(E, l, !0 ===
            c ? 1 : 2);
            E += l
        }
        G.call(this);
        this.type = "CylinderBufferGeometry";
        this.parameters = {
            radiusTop: a,
            radiusBottom: b,
            height: c,
            radialSegments: d,
            heightSegments: e,
            openEnded: f,
            thetaStart: g,
            thetaLength: h
        };
        var m = this;
        a = void 0 !== a ? a : 20;
        b = void 0 !== b ? b : 20;
        c = void 0 !== c ? c : 100;
        d = Math.floor(d) || 8;
        e = Math.floor(e) || 1;
        f = void 0 !== f ? f : !1;
        g = void 0 !== g ? g : 0;
        h = void 0 !== h ? h : 2 * Math.PI;
        var l = 0;
        !1 === f && (0 < a && l++, 0 < b && l++);
        var n = function() {
                var a = (d + 1) * (e + 1);
                !1 === f && (a += (d + 1) * l + d * l);
                return a
            }(),
            p = function() {
                var a = d * e * 6;
                !1 === f && (a += d * l * 3);
                return a
            }(),
            r = new C(new (65535 < p ? Uint32Array : Uint16Array)(p), 1),
            x = new C(new Float32Array(3 * n), 3),
            t = new C(new Float32Array(3 * n), 3),
            D = new C(new Float32Array(2 * n), 2),
            u = 0,
            v = 0,
            I = [],
            y = c / 2,
            E = 0;
        (function() {
            var f,
                k,
                n = new q,
                p = new q,
                l = 0,
                w = (b - a) / c;
            for (k = 0; k <= e; k++) {
                var B = [],
                    z = k / e,
                    C = z * (b - a) + a;
                for (f = 0; f <= d; f++) {
                    var N = f / d,
                        P = N * h + g,
                        R = Math.sin(P),
                        P = Math.cos(P);
                    p.x = C * R;
                    p.y = -z * c + y;
                    p.z = C * P;
                    x.setXYZ(u, p.x, p.y, p.z);
                    n.set(R, w, P).normalize();
                    t.setXYZ(u, n.x, n.y, n.z);
                    D.setXY(u, N, 1 - z);
                    B.push(u);
                    u++
                }
                I.push(B)
            }
            for (f = 0; f < d; f++)
                for (k =
                0; k < e; k++)
                    n = I[k + 1][f], p = I[k + 1][f + 1], w = I[k][f + 1], r.setX(v, I[k][f]), v++, r.setX(v, n), v++, r.setX(v, w), v++, r.setX(v, n), v++, r.setX(v, p), v++, r.setX(v, w), v++, l += 6;
            m.addGroup(E, l, 0);
            E += l
        })();
        !1 === f && (0 < a && k(!0), 0 < b && k(!1));
        this.setIndex(r);
        this.addAttribute("position", x);
        this.addAttribute("normal", t);
        this.addAttribute("uv", D)
    }
    function nb(a, b, c, d, e, f, g, h) {
        Q.call(this);
        this.type = "CylinderGeometry";
        this.parameters = {
            radiusTop: a,
            radiusBottom: b,
            height: c,
            radialSegments: d,
            heightSegments: e,
            openEnded: f,
            thetaStart: g,
            thetaLength: h
        };
        this.fromBufferGeometry(new Ua(a, b, c, d, e, f, g, h));
        this.mergeVertices()
    }
    function Hc(a, b, c, d, e, f, g) {
        nb.call(this, 0, a, b, c, d, e, f, g);
        this.type = "ConeGeometry";
        this.parameters = {
            radius: a,
            height: b,
            radialSegments: c,
            heightSegments: d,
            openEnded: e,
            thetaStart: f,
            thetaLength: g
        }
    }
    function Ic(a, b, c, d, e, f, g) {
        Ua.call(this, 0, a, b, c, d, e, f, g);
        this.type = "ConeBufferGeometry";
        this.parameters = {
            radius: a,
            height: b,
            radialSegments: c,
            heightSegments: d,
            openEnded: e,
            thetaStart: f,
            thetaLength: g
        }
    }
    function Zb(a, b, c, d) {
        G.call(this);
        this.type = "CircleBufferGeometry";
        this.parameters = {
            radius: a,
            segments: b,
            thetaStart: c,
            thetaLength: d
        };
        a = a || 50;
        b = void 0 !== b ? Math.max(3, b) : 8;
        c = void 0 !== c ? c : 0;
        d = void 0 !== d ? d : 2 * Math.PI;
        var e = b + 2,
            f = new Float32Array(3 * e),
            g = new Float32Array(3 * e),
            e = new Float32Array(2 * e);
        g[2] = 1;
        e[0] = .5;
        e[1] = .5;
        for (var h = 0, k = 3, m = 2; h <= b; h++, k += 3, m += 2) {
            var l = c + h / b * d;
            f[k] = a * Math.cos(l);
            f[k + 1] = a * Math.sin(l);
            g[k + 2] = 1;
            e[m] = (f[k] / a + 1) / 2;
            e[m + 1] = (f[k + 1] / a + 1) / 2
        }
        c = [];
        for (k = 1; k <= b; k++)
            c.push(k, k + 1, 0);
        this.setIndex(new C(new Uint16Array(c),
        1));
        this.addAttribute("position", new C(f, 3));
        this.addAttribute("normal", new C(g, 3));
        this.addAttribute("uv", new C(e, 2));
        this.boundingSphere = new Ca(new q, a)
    }
    function Jc(a, b, c, d) {
        Q.call(this);
        this.type = "CircleGeometry";
        this.parameters = {
            radius: a,
            segments: b,
            thetaStart: c,
            thetaLength: d
        };
        this.fromBufferGeometry(new Zb(a, b, c, d))
    }
    function ob(a, b, c, d, e, f) {
        Q.call(this);
        this.type = "BoxGeometry";
        this.parameters = {
            width: a,
            height: b,
            depth: c,
            widthSegments: d,
            heightSegments: e,
            depthSegments: f
        };
        this.fromBufferGeometry(new hb(a,
        b, c, d, e, f));
        this.mergeVertices()
    }
    function $b() {
        Fa.call(this, {
            uniforms: La.merge([W.lights, {
                opacity: {
                    value: 1
                }
            }]),
            vertexShader: X.shadow_vert,
            fragmentShader: X.shadow_frag
        });
        this.transparent = this.lights = !0;
        Object.defineProperties(this, {
            opacity: {
                enumerable: !0,
                get: function() {
                    return this.uniforms.opacity.value
                },
                set: function(a) {
                    this.uniforms.opacity.value = a
                }
            }
        })
    }
    function ac(a) {
        Fa.call(this, a);
        this.type = "RawShaderMaterial"
    }
    function Kc(a) {
        this.uuid = T.generateUUID();
        this.type = "MultiMaterial";
        this.materials = a instanceof
        Array ? a : [];
        this.visible = !0
    }
    function Oa(a) {
        U.call(this);
        this.defines = {
            STANDARD: ""
        };
        this.type = "MeshStandardMaterial";
        this.color = new O(16777215);
        this.metalness = this.roughness = .5;
        this.lightMap = this.map = null;
        this.lightMapIntensity = 1;
        this.aoMap = null;
        this.aoMapIntensity = 1;
        this.emissive = new O(0);
        this.emissiveIntensity = 1;
        this.bumpMap = this.emissiveMap = null;
        this.bumpScale = 1;
        this.normalMap = null;
        this.normalScale = new B(1, 1);
        this.displacementMap = null;
        this.displacementScale = 1;
        this.displacementBias = 0;
        this.envMap =
        this.alphaMap = this.metalnessMap = this.roughnessMap = null;
        this.envMapIntensity = 1;
        this.refractionRatio = .98;
        this.wireframe = !1;
        this.wireframeLinewidth = 1;
        this.wireframeLinejoin = this.wireframeLinecap = "round";
        this.morphNormals = this.morphTargets = this.skinning = !1;
        this.setValues(a)
    }
    function pb(a) {
        Oa.call(this);
        this.defines = {
            PHYSICAL: ""
        };
        this.type = "MeshPhysicalMaterial";
        this.reflectivity = .5;
        this.clearCoatRoughness = this.clearCoat = 0;
        this.setValues(a)
    }
    function db(a) {
        U.call(this);
        this.type = "MeshPhongMaterial";
        this.color =
        new O(16777215);
        this.specular = new O(1118481);
        this.shininess = 30;
        this.lightMap = this.map = null;
        this.lightMapIntensity = 1;
        this.aoMap = null;
        this.aoMapIntensity = 1;
        this.emissive = new O(0);
        this.emissiveIntensity = 1;
        this.bumpMap = this.emissiveMap = null;
        this.bumpScale = 1;
        this.normalMap = null;
        this.normalScale = new B(1, 1);
        this.displacementMap = null;
        this.displacementScale = 1;
        this.displacementBias = 0;
        this.envMap = this.alphaMap = this.specularMap = null;
        this.combine = 0;
        this.reflectivity = 1;
        this.refractionRatio = .98;
        this.wireframe = !1;
        this.wireframeLinewidth = 1;
        this.wireframeLinejoin = this.wireframeLinecap = "round";
        this.morphNormals = this.morphTargets = this.skinning = !1;
        this.setValues(a)
    }
    function qb(a) {
        U.call(this, a);
        this.type = "MeshNormalMaterial";
        this.wireframe = !1;
        this.wireframeLinewidth = 1;
        this.morphTargets = this.lights = this.fog = !1;
        this.setValues(a)
    }
    function rb(a) {
        U.call(this);
        this.type = "MeshLambertMaterial";
        this.color = new O(16777215);
        this.lightMap = this.map = null;
        this.lightMapIntensity = 1;
        this.aoMap = null;
        this.aoMapIntensity = 1;
        this.emissive =
        new O(0);
        this.emissiveIntensity = 1;
        this.envMap = this.alphaMap = this.specularMap = this.emissiveMap = null;
        this.combine = 0;
        this.reflectivity = 1;
        this.refractionRatio = .98;
        this.wireframe = !1;
        this.wireframeLinewidth = 1;
        this.wireframeLinejoin = this.wireframeLinecap = "round";
        this.morphNormals = this.morphTargets = this.skinning = !1;
        this.setValues(a)
    }
    function sb(a) {
        U.call(this);
        this.type = "LineDashedMaterial";
        this.color = new O(16777215);
        this.scale = this.linewidth = 1;
        this.dashSize = 3;
        this.gapSize = 1;
        this.lights = !1;
        this.setValues(a)
    }
    function Fd(a, b, c) {
        var d = this,
            e = !1,
            f = 0,
            g = 0;
        this.onStart = void 0;
        this.onLoad = a;
        this.onProgress = b;
        this.onError = c;
        this.itemStart = function(a) {
            g++;
            if (!1 === e && void 0 !== d.onStart)
                d.onStart(a, f, g);
            e = !0
        };
        this.itemEnd = function(a) {
            f++;
            if (void 0 !== d.onProgress)
                d.onProgress(a, f, g);
            if (f === g && (e = !1, void 0 !== d.onLoad))
                d.onLoad()
        };
        this.itemError = function(a) {
            if (void 0 !== d.onError)
                d.onError(a)
        }
    }
    function Ja(a) {
        this.manager = void 0 !== a ? a : Ga
    }
    function we(a) {
        this.manager = void 0 !== a ? a : Ga;
        this._parser = null
    }
    function Gd(a) {
        this.manager =
        void 0 !== a ? a : Ga;
        this._parser = null
    }
    function Lc(a) {
        this.manager = void 0 !== a ? a : Ga
    }
    function Hd(a) {
        this.manager = void 0 !== a ? a : Ga
    }
    function gd(a) {
        this.manager = void 0 !== a ? a : Ga
    }
    function pa(a, b) {
        z.call(this);
        this.type = "Light";
        this.color = new O(a);
        this.intensity = void 0 !== b ? b : 1;
        this.receiveShadow = void 0
    }
    function hd(a, b, c) {
        pa.call(this, a, c);
        this.type = "HemisphereLight";
        this.castShadow = void 0;
        this.position.copy(z.DefaultUp);
        this.updateMatrix();
        this.groundColor = new O(b)
    }
    function tb(a) {
        this.camera = a;
        this.bias = 0;
        this.radius =
        1;
        this.mapSize = new B(512, 512);
        this.map = null;
        this.matrix = new J
    }
    function id() {
        tb.call(this, new Ea(50, 1, .5, 500))
    }
    function jd(a, b, c, d, e, f) {
        pa.call(this, a, b);
        this.type = "SpotLight";
        this.position.copy(z.DefaultUp);
        this.updateMatrix();
        this.target = new z;
        Object.defineProperty(this, "power", {
            get: function() {
                return this.intensity * Math.PI
            },
            set: function(a) {
                this.intensity = a / Math.PI
            }
        });
        this.distance = void 0 !== c ? c : 0;
        this.angle = void 0 !== d ? d : Math.PI / 3;
        this.penumbra = void 0 !== e ? e : 0;
        this.decay = void 0 !== f ? f : 1;
        this.shadow =
        new id
    }
    function kd(a, b, c, d) {
        pa.call(this, a, b);
        this.type = "PointLight";
        Object.defineProperty(this, "power", {
            get: function() {
                return 4 * this.intensity * Math.PI
            },
            set: function(a) {
                this.intensity = a / (4 * Math.PI)
            }
        });
        this.distance = void 0 !== c ? c : 0;
        this.decay = void 0 !== d ? d : 1;
        this.shadow = new tb(new Ea(90, 1, .5, 500))
    }
    function ld(a) {
        tb.call(this, new Hb(-5, 5, 5, -5, .5, 500))
    }
    function md(a, b) {
        pa.call(this, a, b);
        this.type = "DirectionalLight";
        this.position.copy(z.DefaultUp);
        this.updateMatrix();
        this.target = new z;
        this.shadow = new ld
    }
    function nd(a, b) {
        pa.call(this, a, b);
        this.type = "AmbientLight";
        this.castShadow = void 0
    }
    function qa(a, b, c, d) {
        this.parameterPositions = a;
        this._cachedIndex = 0;
        this.resultBuffer = void 0 !== d ? d : new b.constructor(c);
        this.sampleValues = b;
        this.valueSize = c
    }
    function od(a, b, c, d) {
        qa.call(this, a, b, c, d);
        this._offsetNext = this._weightNext = this._offsetPrev = this._weightPrev = -0
    }
    function Mc(a, b, c, d) {
        qa.call(this, a, b, c, d)
    }
    function pd(a, b, c, d) {
        qa.call(this, a, b, c, d)
    }
    function ub(a, b, c, d) {
        if (void 0 === a)
            throw Error("track name is undefined");
        if (void 0 === b || 0 === b.length)
            throw Error("no keyframes in track named " + a);
        this.name = a;
        this.times = ma.convertArray(b, this.TimeBufferType);
        this.values = ma.convertArray(c, this.ValueBufferType);
        this.setInterpolation(d || this.DefaultInterpolation);
        this.validate();
        this.optimize()
    }
    function bc(a, b, c, d) {
        ub.call(this, a, b, c, d)
    }
    function qd(a, b, c, d) {
        qa.call(this, a, b, c, d)
    }
    function Nc(a, b, c, d) {
        ub.call(this, a, b, c, d)
    }
    function cc(a, b, c, d) {
        ub.call(this, a, b, c, d)
    }
    function rd(a, b, c, d) {
        ub.call(this, a, b, c, d)
    }
    function sd(a,
    b, c) {
        ub.call(this, a, b, c)
    }
    function td(a, b, c, d) {
        ub.call(this, a, b, c, d)
    }
    function vb(a, b, c, d) {
        ub.apply(this, arguments)
    }
    function Ha(a, b, c) {
        this.name = a;
        this.tracks = c;
        this.duration = void 0 !== b ? b : -1;
        this.uuid = T.generateUUID();
        0 > this.duration && this.resetDuration();
        this.optimize()
    }
    function ud(a) {
        this.manager = void 0 !== a ? a : Ga;
        this.textures = {}
    }
    function Id(a) {
        this.manager = void 0 !== a ? a : Ga
    }
    function wb() {
        this.onLoadStart = function() {};
        this.onLoadProgress = function() {};
        this.onLoadComplete = function() {}
    }
    function Jd(a) {
        "boolean" ===
        typeof a && (console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."), a = void 0);
        this.manager = void 0 !== a ? a : Ga;
        this.withCredentials = !1
    }
    function xe(a) {
        this.manager = void 0 !== a ? a : Ga;
        this.texturePath = ""
    }
    function ia() {}
    function Sa(a, b) {
        this.v1 = a;
        this.v2 = b
    }
    function Oc() {
        this.curves = [];
        this.autoClose = !1
    }
    function Va(a, b, c, d, e, f, g, h) {
        this.aX = a;
        this.aY = b;
        this.xRadius = c;
        this.yRadius = d;
        this.aStartAngle = e;
        this.aEndAngle = f;
        this.aClockwise = g;
        this.aRotation = h || 0
    }
    function xb(a) {
        this.points =
        void 0 === a ? [] : a
    }
    function yb(a, b, c, d) {
        this.v0 = a;
        this.v1 = b;
        this.v2 = c;
        this.v3 = d
    }
    function zb(a, b, c) {
        this.v0 = a;
        this.v1 = b;
        this.v2 = c
    }
    function Ab() {
        Pc.apply(this, arguments);
        this.holes = []
    }
    function Pc(a) {
        Oc.call(this);
        this.currentPoint = new B;
        a && this.fromPoints(a)
    }
    function Kd() {
        this.subPaths = [];
        this.currentPath = null
    }
    function Ld(a) {
        this.data = a
    }
    function ye(a) {
        this.manager = void 0 !== a ? a : Ga
    }
    function Md() {
        void 0 === Nd && (Nd = new (window.AudioContext || window.webkitAudioContext));
        return Nd
    }
    function Od(a) {
        this.manager =
        void 0 !== a ? a : Ga
    }
    function ze() {
        this.type = "StereoCamera";
        this.aspect = 1;
        this.eyeSep = .064;
        this.cameraL = new Ea;
        this.cameraL.layers.enable(1);
        this.cameraL.matrixAutoUpdate = !1;
        this.cameraR = new Ea;
        this.cameraR.layers.enable(2);
        this.cameraR.matrixAutoUpdate = !1
    }
    function vd(a, b, c) {
        z.call(this);
        this.type = "CubeCamera";
        var d = new Ea(90, 1, a, b);
        d.up.set(0, -1, 0);
        d.lookAt(new q(1, 0, 0));
        this.add(d);
        var e = new Ea(90, 1, a, b);
        e.up.set(0, -1, 0);
        e.lookAt(new q(-1, 0, 0));
        this.add(e);
        var f = new Ea(90, 1, a, b);
        f.up.set(0, 0, 1);
        f.lookAt(new q(0,
        1, 0));
        this.add(f);
        var g = new Ea(90, 1, a, b);
        g.up.set(0, 0, -1);
        g.lookAt(new q(0, -1, 0));
        this.add(g);
        var h = new Ea(90, 1, a, b);
        h.up.set(0, -1, 0);
        h.lookAt(new q(0, 0, 1));
        this.add(h);
        var k = new Ea(90, 1, a, b);
        k.up.set(0, -1, 0);
        k.lookAt(new q(0, 0, -1));
        this.add(k);
        this.renderTarget = new Eb(c, c, {
            format: 1022,
            magFilter: 1006,
            minFilter: 1006
        });
        this.updateCubeMap = function(a, b) {
            null === this.parent && this.updateMatrixWorld();
            var c = this.renderTarget,
                p = c.texture.generateMipmaps;
            c.texture.generateMipmaps = !1;
            c.activeCubeFace = 0;
            a.render(b,
            d, c);
            c.activeCubeFace = 1;
            a.render(b, e, c);
            c.activeCubeFace = 2;
            a.render(b, f, c);
            c.activeCubeFace = 3;
            a.render(b, g, c);
            c.activeCubeFace = 4;
            a.render(b, h, c);
            c.texture.generateMipmaps = p;
            c.activeCubeFace = 5;
            a.render(b, k, c);
            a.setRenderTarget(null)
        }
    }
    function Pd() {
        z.call(this);
        this.type = "AudioListener";
        this.context = Md();
        this.gain = this.context.createGain();
        this.gain.connect(this.context.destination);
        this.filter = null
    }
    function dc(a) {
        z.call(this);
        this.type = "Audio";
        this.context = a.context;
        this.source = this.context.createBufferSource();
        this.source.onended = this.onEnded.bind(this);
        this.gain = this.context.createGain();
        this.gain.connect(a.getInput());
        this.autoplay = !1;
        this.startTime = 0;
        this.playbackRate = 1;
        this.isPlaying = !1;
        this.hasPlaybackControl = !0;
        this.sourceType = "empty";
        this.filters = []
    }
    function Qd(a) {
        dc.call(this, a);
        this.panner = this.context.createPanner();
        this.panner.connect(this.gain)
    }
    function Rd(a, b) {
        this.analyser = a.context.createAnalyser();
        this.analyser.fftSize = void 0 !== b ? b : 2048;
        this.data = new Uint8Array(this.analyser.frequencyBinCount);
        a.getOutput().connect(this.analyser)
    }
    function wd(a, b, c) {
        this.binding = a;
        this.valueSize = c;
        a = Float64Array;
        switch (b) {
        case "quaternion":
            b = this._slerp;
            break;
        case "string":
        case "bool":
            a = Array;
            b = this._select;
            break;
        default:
            b = this._lerp
        }
        this.buffer = new a(4 * c);
        this._mixBufferRegion = b;
        this.referenceCount = this.useCount = this.cumulativeWeight = 0
    }
    function fa(a, b, c) {
        this.path = b;
        this.parsedPath = c || fa.parseTrackName(b);
        this.node = fa.findNode(a, this.parsedPath.nodeName) || a;
        this.rootNode = a
    }
    function Sd(a) {
        this.uuid = T.generateUUID();
        this._objects = Array.prototype.slice.call(arguments);
        this.nCachedObjects_ = 0;
        var b = {};
        this._indicesByUUID = b;
        for (var c = 0, d = arguments.length; c !== d; ++c)
            b[arguments[c].uuid] = c;
        this._paths = [];
        this._parsedPaths = [];
        this._bindings = [];
        this._bindingsIndicesByPath = {};
        var e = this;
        this.stats = {
            objects: {
                get total() {
                    return e._objects.length
                },
                get inUse() {
                    return this.total - e.nCachedObjects_
                }
            },
            get bindingsPerObject() {
                return e._bindings.length
            }
        }
    }
    function Td(a, b, c) {
        this._mixer = a;
        this._clip = b;
        this._localRoot = c || null;
        a = b.tracks;
        b = a.length;
        c = Array(b);
        for (var d = {
                endingStart: 2400,
                endingEnd: 2400
            }, e = 0; e !== b; ++e) {
            var f = a[e].createInterpolant(null);
            c[e] = f;
            f.settings = d
        }
        this._interpolantSettings = d;
        this._interpolants = c;
        this._propertyBindings = Array(b);
        this._weightInterpolant = this._timeScaleInterpolant = this._byClipCacheIndex = this._cacheIndex = null;
        this.loop = 2201;
        this._loopCount = -1;
        this._startTime = null;
        this.time = 0;
        this._effectiveWeight = this.weight = this._effectiveTimeScale = this.timeScale = 1;
        this.repetitions = Infinity;
        this.paused = !1;
        this.enabled =
        !0;
        this.clampWhenFinished = !1;
        this.zeroSlopeAtEnd = this.zeroSlopeAtStart = !0
    }
    function Ud(a) {
        this._root = a;
        this._initMemoryManager();
        this.time = this._accuIndex = 0;
        this.timeScale = 1
    }
    function Ae(a, b) {
        "string" === typeof a && (console.warn("THREE.Uniform: Type parameter is no longer needed."), a = b);
        this.value = a
    }
    function Bb() {
        G.call(this);
        this.type = "InstancedBufferGeometry";
        this.maxInstancedCount = void 0
    }
    function Vd(a, b, c, d) {
        this.uuid = T.generateUUID();
        this.data = a;
        this.itemSize = b;
        this.offset = c;
        this.normalized = !0 ===
        d
    }
    function ec(a, b) {
        this.uuid = T.generateUUID();
        this.array = a;
        this.stride = b;
        this.count = void 0 !== a ? a.length / b : 0;
        this.dynamic = !1;
        this.updateRange = {
            offset: 0,
            count: -1
        };
        this.version = 0
    }
    function fc(a, b, c) {
        ec.call(this, a, b);
        this.meshPerAttribute = c || 1
    }
    function gc(a, b, c) {
        C.call(this, a, b);
        this.meshPerAttribute = c || 1
    }
    function Wd(a, b, c, d) {
        this.ray = new ab(a, b);
        this.near = c || 0;
        this.far = d || Infinity;
        this.params = {
            Mesh: {},
            Line: {},
            LOD: {},
            Points: {
                threshold: 1
            },
            Sprite: {}
        };
        Object.defineProperties(this.params, {
            PointCloud: {
                get: function() {
                    console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");
                    return this.Points
                }
            }
        })
    }
    function Be(a, b) {
        return a.distance - b.distance
    }
    function Xd(a, b, c, d) {
        if (!1 !== a.visible && (a.raycast(b, c), !0 === d)) {
            a = a.children;
            d = 0;
            for (var e = a.length; d < e; d++)
                Xd(a[d], b, c, !0)
        }
    }
    function Yd(a) {
        this.autoStart = void 0 !== a ? a : !0;
        this.elapsedTime = this.oldTime = this.startTime = 0;
        this.running = !1
    }
    function Zd(a, b, c) {
        this.radius = void 0 !== a ? a : 1;
        this.phi = void 0 !== b ? b : 0;
        this.theta = void 0 !== c ? c : 0;
        return this
    }
    function na(a, b) {
        ya.call(this, a, b);
        this.animationsMap = {};
        this.animationsList = [];
        var c = this.geometry.morphTargets.length;
        this.createAnimation("__default", 0, c - 1, c / 1);
        this.setAnimationWeight("__default", 1)
    }
    function Qc(a) {
        z.call(this);
        this.material = a;
        this.render = function(a) {}
    }
    function Rc(a, b, c, d) {
        this.object = a;
        this.size = void 0 !== b ? b : 1;
        a = void 0 !== c ? c : 16711680;
        d = void 0 !== d ? d : 1;
        b = 0;
        (c = this.object.geometry) && c.isGeometry ? b = 3 * c.faces.length : c && c.isBufferGeometry && (b = c.attributes.normal.count);
        c = new G;
        b = new ha(6 * b, 3);
        c.addAttribute("position", b);
        la.call(this, c, new oa({
            color: a,
            linewidth: d
        }));
        this.matrixAutoUpdate = !1;
        this.update()
    }
    function hc(a) {
        z.call(this);
        this.light = a;
        this.light.updateMatrixWorld();
        this.matrix = a.matrixWorld;
        this.matrixAutoUpdate = !1;
        a = new G;
        for (var b = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1], c = 0, d = 1; 32 > c; c++, d++) {
            var e = c / 32 * Math.PI * 2,
                f = d / 32 * Math.PI * 2;
            b.push(Math.cos(e), Math.sin(e), 1, Math.cos(f), Math.sin(f), 1)
        }
        a.addAttribute("position", new ha(b, 3));
        b = new oa({
            fog: !1
        });
        this.cone = new la(a, b);
        this.add(this.cone);
        this.update()
    }
    function ic(a) {
        this.bones = this.getBoneList(a);
        for (var b = new Q,
            c = 0; c < this.bones.length; c++) {
            var d = this.bones[c];
            d.parent && d.parent.isBone && (b.vertices.push(new q), b.vertices.push(new q), b.colors.push(new O(0, 0, 1)), b.colors.push(new O(0, 1, 0)))
        }
        b.dynamic = !0;
        c = new oa({
            vertexColors: 2,
            depthTest: !1,
            depthWrite: !1,
            transparent: !0
        });
        la.call(this, b, c);
        this.root = a;
        this.matrix = a.matrixWorld;
        this.matrixAutoUpdate = !1;
        this.update()
    }
    function jc(a, b) {
        this.light = a;
        this.light.updateMatrixWorld();
        var c = new mb(b, 4, 2),
            d = new Ma({
                wireframe: !0,
                fog: !1
            });
        d.color.copy(this.light.color).multiplyScalar(this.light.intensity);
        ya.call(this, c, d);
        this.matrix = this.light.matrixWorld;
        this.matrixAutoUpdate = !1
    }
    function kc(a, b) {
        z.call(this);
        this.light = a;
        this.light.updateMatrixWorld();
        this.matrix = a.matrixWorld;
        this.matrixAutoUpdate = !1;
        this.colors = [new O, new O];
        var c = new Vb(b, 4, 2);
        c.rotateX(-Math.PI / 2);
        for (var d = 0; 8 > d; d++)
            c.faces[d].color = this.colors[4 > d ? 0 : 1];
        d = new Ma({
            vertexColors: 1,
            wireframe: !0
        });
        this.lightSphere = new ya(c, d);
        this.add(this.lightSphere);
        this.update()
    }
    function Sc(a, b, c, d) {
        b = b || 1;
        c = new O(void 0 !== c ? c : 4473924);
        d = new O(void 0 !==
        d ? d : 8947848);
        for (var e = b / 2, f = 2 * a / b, g = [], h = [], k = 0, m = 0, l = -a; k <= b; k++, l += f) {
            g.push(-a, 0, l, a, 0, l);
            g.push(l, 0, -a, l, 0, a);
            var n = k === e ? c : d;
            n.toArray(h, m);
            m += 3;
            n.toArray(h, m);
            m += 3;
            n.toArray(h, m);
            m += 3;
            n.toArray(h, m);
            m += 3
        }
        a = new G;
        a.addAttribute("position", new ha(g, 3));
        a.addAttribute("color", new ha(h, 3));
        g = new oa({
            vertexColors: 2
        });
        la.call(this, a, g)
    }
    function Tc(a, b, c, d) {
        this.object = a;
        this.size = void 0 !== b ? b : 1;
        a = void 0 !== c ? c : 16776960;
        d = void 0 !== d ? d : 1;
        b = 0;
        (c = this.object.geometry) && c.isGeometry ? b = c.faces.length : console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");
        c = new G;
        b = new ha(6 * b, 3);
        c.addAttribute("position", b);
        la.call(this, c, new oa({
            color: a,
            linewidth: d
        }));
        this.matrixAutoUpdate = !1;
        this.update()
    }
    function lc(a, b) {
        z.call(this);
        this.light = a;
        this.light.updateMatrixWorld();
        this.matrix = a.matrixWorld;
        this.matrixAutoUpdate = !1;
        void 0 === b && (b = 1);
        var c = new G;
        c.addAttribute("position", new ha([-b, b, 0, b, b, 0, b, -b, 0, -b, -b, 0, -b, b, 0], 3));
        var d = new oa({
            fog: !1
        });
        this.add(new Ta(c, d));
        c = new G;
        c.addAttribute("position", new ha([0, 0, 0, 0, 0, 1], 3));
        this.add(new Ta(c, d));
        this.update()
    }
    function Uc(a) {
        function b(a, b, d) {
            c(a, d);
            c(b, d)
        }
        function c(a, b) {
            d.vertices.push(new q);
            d.colors.push(new O(b));
            void 0 === f[a] && (f[a] = []);
            f[a].push(d.vertices.length - 1)
        }
        var d = new Q,
            e = new oa({
                color: 16777215,
                vertexColors: 1
            }),
            f = {};
        b("n1", "n2", 16755200);
        b("n2", "n4", 16755200);
        b("n4", "n3", 16755200);
        b("n3", "n1", 16755200);
        b("f1", "f2", 16755200);
        b("f2", "f4", 16755200);
        b("f4", "f3", 16755200);
        b("f3", "f1", 16755200);
        b("n1", "f1", 16755200);
        b("n2", "f2", 16755200);
        b("n3", "f3", 16755200);
        b("n4", "f4", 16755200);
        b("p", "n1", 16711680);
        b("p", "n2", 16711680);
        b("p", "n3", 16711680);
        b("p", "n4", 16711680);
        b("u1", "u2", 43775);
        b("u2", "u3", 43775);
        b("u3", "u1", 43775);
        b("c", "t", 16777215);
        b("p", "c", 3355443);
        b("cn1", "cn2", 3355443);
        b("cn3", "cn4", 3355443);
        b("cf1", "cf2", 3355443);
        b("cf3", "cf4", 3355443);
        la.call(this, d, e);
        this.camera = a;
        this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix();
        this.matrix = a.matrixWorld;
        this.matrixAutoUpdate = !1;
        this.pointMap = f;
        this.update()
    }
    function Vc(a, b) {
        var c = void 0 !== b ? b : 8947848;
        this.object = a;
        this.box =
        new Ba;
        ya.call(this, new ob(1, 1, 1), new Ma({
            color: c,
            wireframe: !0
        }))
    }
    function Wc(a, b) {
        void 0 === b && (b = 16776960);
        var c = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
            d = new Float32Array(24),
            e = new G;
        e.setIndex(new C(c, 1));
        e.addAttribute("position", new C(d, 3));
        la.call(this, e, new oa({
            color: b
        }));
        void 0 !== a && this.update(a)
    }
    function Cb(a, b, c, d, e, f) {
        z.call(this);
        void 0 === d && (d = 16776960);
        void 0 === c && (c = 1);
        void 0 === e && (e = .2 * c);
        void 0 === f && (f = .2 * e);
        this.position.copy(b);
        this.line = new Ta(Ce, new oa({
            color: d
        }));
        this.line.matrixAutoUpdate = !1;
        this.add(this.line);
        this.cone = new ya(De, new Ma({
            color: d
        }));
        this.cone.matrixAutoUpdate = !1;
        this.add(this.cone);
        this.setDirection(a);
        this.setLength(c, e, f)
    }
    function xd(a) {
        a = a || 1;
        var b = new Float32Array([0, 0, 0, a, 0, 0, 0, 0, 0, 0, a, 0, 0, 0, 0, 0, 0, a]),
            c = new Float32Array([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1]);
        a = new G;
        a.addAttribute("position", new C(b, 3));
        a.addAttribute("color", new C(c, 3));
        b = new oa({
            vertexColors: 2
        });
        la.call(this, a, b)
    }
    function Ee(a) {
        console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.");
        $d.call(this, a);
        this.type = "catmullrom";
        this.closed = !0
    }
    function yd(a, b, c, d, e, f) {
        Va.call(this, a, b, c, c, d, e, f)
    }
    void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52));
    void 0 === Math.sign && (Math.sign = function(a) {
        return 0 > a ? -1 : 0 < a ? 1 : +a
    });
    void 0 === Function.prototype.name && Object.defineProperty(Function.prototype, "name", {
        get: function() {
            return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]
        }
    });
    void 0 === Object.assign && function() {
        Object.assign = function(a) {
            if (void 0 === a || null === a)
                throw new TypeError("Cannot convert undefined or null to object");
            for (var b = Object(a), c = 1; c < arguments.length; c++) {
                var d = arguments[c];
                if (void 0 !== d && null !== d)
                    for (var e in d)
                        Object.prototype.hasOwnProperty.call(d, e) && (b[e] = d[e])
            }
            return b
        }
    }();
    Object.assign(sa.prototype, {
        addEventListener: function(a, b) {
            void 0 === this._listeners && (this._listeners = {});
            var c = this._listeners;
            void 0 === c[a] && (c[a] = []);
            -1 === c[a].indexOf(b) && c[a].push(b)
        },
        hasEventListener: function(a, b) {
            if (void 0 === this._listeners)
                return !1;
            var c = this._listeners;
            return void 0 !== c[a] && -1 !== c[a].indexOf(b) ? !0 : !1
        },
        removeEventListener: function(a, b) {
            if (void 0 !== this._listeners) {
                var c = this._listeners[a];
                if (void 0 !== c) {
                    var d = c.indexOf(b);
                    -1 !== d && c.splice(d, 1)
                }
            }
        },
        dispatchEvent: function(a) {
            if (void 0 !== this._listeners) {
                var b = this._listeners[a.type];
                if (void 0 !== b) {
                    a.target = this;
                    var c = [],
                        d,
                        e = b.length;
                    for (d = 0; d < e; d++)
                        c[d] = b[d];
                    for (d = 0; d < e; d++)
                        c[d].call(this, a)
                }
            }
        }
    });
    var Fe = {
            NoBlending: 0,
            NormalBlending: 1,
            AdditiveBlending: 2,
            SubtractiveBlending: 3,
            MultiplyBlending: 4,
            CustomBlending: 5
        },
        Ge = {
            UVMapping: 300,
            CubeReflectionMapping: 301,
            CubeRefractionMapping: 302,
            EquirectangularReflectionMapping: 303,
            EquirectangularRefractionMapping: 304,
            SphericalReflectionMapping: 305,
            CubeUVReflectionMapping: 306,
            CubeUVRefractionMapping: 307
        },
        ae = {
            RepeatWrapping: 1E3,
            ClampToEdgeWrapping: 1001,
            MirroredRepeatWrapping: 1002
        },
        be = {
            NearestFilter: 1003,
            NearestMipMapNearestFilter: 1004,
            NearestMipMapLinearFilter: 1005,
            LinearFilter: 1006,
            LinearMipMapNearestFilter: 1007,
            LinearMipMapLinearFilter: 1008
        },
        T = {
            DEG2RAD: Math.PI / 180,
            RAD2DEG: 180 / Math.PI,
            generateUUID: function() {
                var a =
                    "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
                    b = Array(36),
                    c = 0,
                    d;
                return function() {
                    for (var e = 0; 36 > e; e++)
                        8 === e || 13 === e || 18 === e || 23 === e ? b[e] = "-" : 14 === e ? b[e] = "4" : (2 >= c && (c = 33554432 + 16777216 * Math.random() | 0), d = c & 15, c >>= 4, b[e] = a[19 === e ? d & 3 | 8 : d]);
                    return b.join("")
                }
            }(),
            clamp: function(a, b, c) {
                return Math.max(b, Math.min(c, a))
            },
            euclideanModulo: function(a, b) {
                return (a % b + b) % b
            },
            mapLinear: function(a, b, c, d, e) {
                return d + (a - b) * (e - d) / (c - b)
            },
            lerp: function(a, b, c) {
                return (1 - c) * a + c * b
            },
            smoothstep: function(a,
            b, c) {
                if (a <= b)
                    return 0;
                if (a >= c)
                    return 1;
                a = (a - b) / (c - b);
                return a * a * (3 - 2 * a)
            },
            smootherstep: function(a, b, c) {
                if (a <= b)
                    return 0;
                if (a >= c)
                    return 1;
                a = (a - b) / (c - b);
                return a * a * a * (a * (6 * a - 15) + 10)
            },
            random16: function() {
                console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");
                return Math.random()
            },
            randInt: function(a, b) {
                return a + Math.floor(Math.random() * (b - a + 1))
            },
            randFloat: function(a, b) {
                return a + Math.random() * (b - a)
            },
            randFloatSpread: function(a) {
                return a * (.5 - Math.random())
            },
            degToRad: function(a) {
                return a *
                T.DEG2RAD
            },
            radToDeg: function(a) {
                return a * T.RAD2DEG
            },
            isPowerOfTwo: function(a) {
                return 0 === (a & a - 1) && 0 !== a
            },
            nearestPowerOfTwo: function(a) {
                return Math.pow(2, Math.round(Math.log(a) / Math.LN2))
            },
            nextPowerOfTwo: function(a) {
                a--;
                a |= a >> 1;
                a |= a >> 2;
                a |= a >> 4;
                a |= a >> 8;
                a |= a >> 16;
                a++;
                return a
            }
        };
    B.prototype = {
        constructor: B,
        isVector2: !0,
        get width() {
            return this.x
        },
        set width(a) {
            this.x = a
        },
        get height() {
            return this.y
        },
        set height(a) {
            this.y = a
        },
        set: function(a, b) {
            this.x = a;
            this.y = b;
            return this
        },
        setScalar: function(a) {
            this.y = this.x =
            a;
            return this
        },
        setX: function(a) {
            this.x = a;
            return this
        },
        setY: function(a) {
            this.y = a;
            return this
        },
        setComponent: function(a, b) {
            switch (a) {
            case 0:
                this.x = b;
                break;
            case 1:
                this.y = b;
                break;
            default:
                throw Error("index is out of range: " + a);
            }
            return this
        },
        getComponent: function(a) {
            switch (a) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            default:
                throw Error("index is out of range: " + a);
            }
        },
        clone: function() {
            return new this.constructor(this.x, this.y)
        },
        copy: function(a) {
            this.x = a.x;
            this.y = a.y;
            return this
        },
        add: function(a, b) {
            if (void 0 !==
            b)
                return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(a, b);
            this.x += a.x;
            this.y += a.y;
            return this
        },
        addScalar: function(a) {
            this.x += a;
            this.y += a;
            return this
        },
        addVectors: function(a, b) {
            this.x = a.x + b.x;
            this.y = a.y + b.y;
            return this
        },
        addScaledVector: function(a, b) {
            this.x += a.x * b;
            this.y += a.y * b;
            return this
        },
        sub: function(a, b) {
            if (void 0 !== b)
                return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
                this.subVectors(a, b);
            this.x -= a.x;
            this.y -= a.y;
            return this
        },
        subScalar: function(a) {
            this.x -= a;
            this.y -= a;
            return this
        },
        subVectors: function(a, b) {
            this.x = a.x - b.x;
            this.y = a.y - b.y;
            return this
        },
        multiply: function(a) {
            this.x *= a.x;
            this.y *= a.y;
            return this
        },
        multiplyScalar: function(a) {
            isFinite(a) ? (this.x *= a, this.y *= a) : this.y = this.x = 0;
            return this
        },
        divide: function(a) {
            this.x /= a.x;
            this.y /= a.y;
            return this
        },
        divideScalar: function(a) {
            return this.multiplyScalar(1 / a)
        },
        min: function(a) {
            this.x = Math.min(this.x, a.x);
            this.y = Math.min(this.y,
            a.y);
            return this
        },
        max: function(a) {
            this.x = Math.max(this.x, a.x);
            this.y = Math.max(this.y, a.y);
            return this
        },
        clamp: function(a, b) {
            this.x = Math.max(a.x, Math.min(b.x, this.x));
            this.y = Math.max(a.y, Math.min(b.y, this.y));
            return this
        },
        clampScalar: function() {
            var a,
                b;
            return function(c, d) {
                void 0 === a && (a = new B, b = new B);
                a.set(c, c);
                b.set(d, d);
                return this.clamp(a, b)
            }
        }(),
        clampLength: function(a, b) {
            var c = this.length();
            return this.multiplyScalar(Math.max(a, Math.min(b, c)) / c)
        },
        floor: function() {
            this.x = Math.floor(this.x);
            this.y =
            Math.floor(this.y);
            return this
        },
        ceil: function() {
            this.x = Math.ceil(this.x);
            this.y = Math.ceil(this.y);
            return this
        },
        round: function() {
            this.x = Math.round(this.x);
            this.y = Math.round(this.y);
            return this
        },
        roundToZero: function() {
            this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x);
            this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y);
            return this
        },
        negate: function() {
            this.x = -this.x;
            this.y = -this.y;
            return this
        },
        dot: function(a) {
            return this.x * a.x + this.y * a.y
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y
        },
        length: function() {
            return Math.sqrt(this.x *
            this.x + this.y * this.y)
        },
        lengthManhattan: function() {
            return Math.abs(this.x) + Math.abs(this.y)
        },
        normalize: function() {
            return this.divideScalar(this.length())
        },
        angle: function() {
            var a = Math.atan2(this.y, this.x);
            0 > a && (a += 2 * Math.PI);
            return a
        },
        distanceTo: function(a) {
            return Math.sqrt(this.distanceToSquared(a))
        },
        distanceToSquared: function(a) {
            var b = this.x - a.x;
            a = this.y - a.y;
            return b * b + a * a
        },
        distanceToManhattan: function(a) {
            return Math.abs(this.x - a.x) + Math.abs(this.y - a.y)
        },
        setLength: function(a) {
            return this.multiplyScalar(a /
            this.length())
        },
        lerp: function(a, b) {
            this.x += (a.x - this.x) * b;
            this.y += (a.y - this.y) * b;
            return this
        },
        lerpVectors: function(a, b, c) {
            return this.subVectors(b, a).multiplyScalar(c).add(a)
        },
        equals: function(a) {
            return a.x === this.x && a.y === this.y
        },
        fromArray: function(a, b) {
            void 0 === b && (b = 0);
            this.x = a[b];
            this.y = a[b + 1];
            return this
        },
        toArray: function(a, b) {
            void 0 === a && (a = []);
            void 0 === b && (b = 0);
            a[b] = this.x;
            a[b + 1] = this.y;
            return a
        },
        fromAttribute: function(a, b, c) {
            void 0 === c && (c = 0);
            b = b * a.itemSize + c;
            this.x = a.array[b];
            this.y = a.array[b +
            1];
            return this
        },
        rotateAround: function(a, b) {
            var c = Math.cos(b),
                d = Math.sin(b),
                e = this.x - a.x,
                f = this.y - a.y;
            this.x = e * c - f * d + a.x;
            this.y = e * d + f * c + a.y;
            return this
        }
    };
    da.DEFAULT_IMAGE = void 0;
    da.DEFAULT_MAPPING = 300;
    da.prototype = {
        constructor: da,
        isTexture: !0,
        set needsUpdate(a) {
            !0 === a && this.version++
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.image = a.image;
            this.mipmaps = a.mipmaps.slice(0);
            this.mapping = a.mapping;
            this.wrapS = a.wrapS;
            this.wrapT = a.wrapT;
            this.magFilter = a.magFilter;
            this.minFilter =
            a.minFilter;
            this.anisotropy = a.anisotropy;
            this.format = a.format;
            this.type = a.type;
            this.offset.copy(a.offset);
            this.repeat.copy(a.repeat);
            this.generateMipmaps = a.generateMipmaps;
            this.premultiplyAlpha = a.premultiplyAlpha;
            this.flipY = a.flipY;
            this.unpackAlignment = a.unpackAlignment;
            this.encoding = a.encoding;
            return this
        },
        toJSON: function(a) {
            if (void 0 !== a.textures[this.uuid])
                return a.textures[this.uuid];
            var b = {
                metadata: {
                    version: 4.4,
                    type: "Texture",
                    generator: "Texture.toJSON"
                },
                uuid: this.uuid,
                name: this.name,
                mapping: this.mapping,
                repeat: [this.repeat.x, this.repeat.y],
                offset: [this.offset.x, this.offset.y],
                wrap: [this.wrapS, this.wrapT],
                minFilter: this.minFilter,
                magFilter: this.magFilter,
                anisotropy: this.anisotropy,
                flipY: this.flipY
            };
            if (void 0 !== this.image) {
                var c = this.image;
                void 0 === c.uuid && (c.uuid = T.generateUUID());
                if (void 0 === a.images[c.uuid]) {
                    var d = a.images,
                        e = c.uuid,
                        f = c.uuid,
                        g;
                    void 0 !== c.toDataURL ? g = c : (g = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas"), g.width = c.width, g.height = c.height, g.getContext("2d").drawImage(c,
                    0, 0, c.width, c.height));
                    g = 2048 < g.width || 2048 < g.height ? g.toDataURL("image/jpeg", .6) : g.toDataURL("image/png");
                    d[e] = {
                        uuid: f,
                        url: g
                    }
                }
                b.image = c.uuid
            }
            return a.textures[this.uuid] = b
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        },
        transformUv: function(a) {
            if (300 === this.mapping) {
                a.multiply(this.repeat);
                a.add(this.offset);
                if (0 > a.x || 1 < a.x)
                    switch (this.wrapS) {
                    case 1E3:
                        a.x -= Math.floor(a.x);
                        break;
                    case 1001:
                        a.x = 0 > a.x ? 0 : 1;
                        break;
                    case 1002:
                        a.x = 1 === Math.abs(Math.floor(a.x) % 2) ? Math.ceil(a.x) - a.x : a.x - Math.floor(a.x)
                    }
                if (0 >
                a.y || 1 < a.y)
                    switch (this.wrapT) {
                    case 1E3:
                        a.y -= Math.floor(a.y);
                        break;
                    case 1001:
                        a.y = 0 > a.y ? 0 : 1;
                        break;
                    case 1002:
                        a.y = 1 === Math.abs(Math.floor(a.y) % 2) ? Math.ceil(a.y) - a.y : a.y - Math.floor(a.y)
                    }
                this.flipY && (a.y = 1 - a.y)
            }
        }
    };
    Object.assign(da.prototype, sa.prototype);
    var ee = 0;
    ga.prototype = {
        constructor: ga,
        isVector4: !0,
        set: function(a, b, c, d) {
            this.x = a;
            this.y = b;
            this.z = c;
            this.w = d;
            return this
        },
        setScalar: function(a) {
            this.w = this.z = this.y = this.x = a;
            return this
        },
        setX: function(a) {
            this.x = a;
            return this
        },
        setY: function(a) {
            this.y = a;
            return this
        },
        setZ: function(a) {
            this.z = a;
            return this
        },
        setW: function(a) {
            this.w = a;
            return this
        },
        setComponent: function(a, b) {
            switch (a) {
            case 0:
                this.x = b;
                break;
            case 1:
                this.y = b;
                break;
            case 2:
                this.z = b;
                break;
            case 3:
                this.w = b;
                break;
            default:
                throw Error("index is out of range: " + a);
            }
            return this
        },
        getComponent: function(a) {
            switch (a) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            case 3:
                return this.w;
            default:
                throw Error("index is out of range: " + a);
            }
        },
        clone: function() {
            return new this.constructor(this.x,
            this.y, this.z, this.w)
        },
        copy: function(a) {
            this.x = a.x;
            this.y = a.y;
            this.z = a.z;
            this.w = void 0 !== a.w ? a.w : 1;
            return this
        },
        add: function(a, b) {
            if (void 0 !== b)
                return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(a, b);
            this.x += a.x;
            this.y += a.y;
            this.z += a.z;
            this.w += a.w;
            return this
        },
        addScalar: function(a) {
            this.x += a;
            this.y += a;
            this.z += a;
            this.w += a;
            return this
        },
        addVectors: function(a, b) {
            this.x = a.x + b.x;
            this.y = a.y + b.y;
            this.z = a.z + b.z;
            this.w = a.w + b.w;
            return this
        },
        addScaledVector: function(a, b) {
            this.x += a.x * b;
            this.y += a.y * b;
            this.z += a.z * b;
            this.w += a.w * b;
            return this
        },
        sub: function(a, b) {
            if (void 0 !== b)
                return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(a, b);
            this.x -= a.x;
            this.y -= a.y;
            this.z -= a.z;
            this.w -= a.w;
            return this
        },
        subScalar: function(a) {
            this.x -= a;
            this.y -= a;
            this.z -= a;
            this.w -= a;
            return this
        },
        subVectors: function(a, b) {
            this.x = a.x - b.x;
            this.y = a.y - b.y;
            this.z = a.z - b.z;
            this.w = a.w - b.w;
            return this
        },
        multiplyScalar: function(a) {
            isFinite(a) ?
            (this.x *= a, this.y *= a, this.z *= a, this.w *= a) : this.w = this.z = this.y = this.x = 0;
            return this
        },
        applyMatrix4: function(a) {
            var b = this.x,
                c = this.y,
                d = this.z,
                e = this.w;
            a = a.elements;
            this.x = a[0] * b + a[4] * c + a[8] * d + a[12] * e;
            this.y = a[1] * b + a[5] * c + a[9] * d + a[13] * e;
            this.z = a[2] * b + a[6] * c + a[10] * d + a[14] * e;
            this.w = a[3] * b + a[7] * c + a[11] * d + a[15] * e;
            return this
        },
        divideScalar: function(a) {
            return this.multiplyScalar(1 / a)
        },
        setAxisAngleFromQuaternion: function(a) {
            this.w = 2 * Math.acos(a.w);
            var b = Math.sqrt(1 - a.w * a.w);
            1E-4 > b ? (this.x = 1, this.z = this.y =
            0) : (this.x = a.x / b, this.y = a.y / b, this.z = a.z / b);
            return this
        },
        setAxisAngleFromRotationMatrix: function(a) {
            var b,
                c,
                d;
            a = a.elements;
            var e = a[0];
            d = a[4];
            var f = a[8],
                g = a[1],
                h = a[5],
                k = a[9];
            c = a[2];
            b = a[6];
            var m = a[10];
            if (.01 > Math.abs(d - g) && .01 > Math.abs(f - c) && .01 > Math.abs(k - b)) {
                if (.1 > Math.abs(d + g) && .1 > Math.abs(f + c) && .1 > Math.abs(k + b) && .1 > Math.abs(e + h + m - 3))
                    return this.set(1, 0, 0, 0), this;
                a = Math.PI;
                e = (e + 1) / 2;
                h = (h + 1) / 2;
                m = (m + 1) / 2;
                d = (d + g) / 4;
                f = (f + c) / 4;
                k = (k + b) / 4;
                e > h && e > m ? .01 > e ? (b = 0, d = c = .707106781) : (b = Math.sqrt(e), c = d / b, d = f / b) :
                h > m ? .01 > h ? (b = .707106781, c = 0, d = .707106781) : (c = Math.sqrt(h), b = d / c, d = k / c) : .01 > m ? (c = b = .707106781, d = 0) : (d = Math.sqrt(m), b = f / d, c = k / d);
                this.set(b, c, d, a);
                return this
            }
            a = Math.sqrt((b - k) * (b - k) + (f - c) * (f - c) + (g - d) * (g - d));
            .001 > Math.abs(a) && (a = 1);
            this.x = (b - k) / a;
            this.y = (f - c) / a;
            this.z = (g - d) / a;
            this.w = Math.acos((e + h + m - 1) / 2);
            return this
        },
        min: function(a) {
            this.x = Math.min(this.x, a.x);
            this.y = Math.min(this.y, a.y);
            this.z = Math.min(this.z, a.z);
            this.w = Math.min(this.w, a.w);
            return this
        },
        max: function(a) {
            this.x = Math.max(this.x, a.x);
            this.y = Math.max(this.y, a.y);
            this.z = Math.max(this.z, a.z);
            this.w = Math.max(this.w, a.w);
            return this
        },
        clamp: function(a, b) {
            this.x = Math.max(a.x, Math.min(b.x, this.x));
            this.y = Math.max(a.y, Math.min(b.y, this.y));
            this.z = Math.max(a.z, Math.min(b.z, this.z));
            this.w = Math.max(a.w, Math.min(b.w, this.w));
            return this
        },
        clampScalar: function() {
            var a,
                b;
            return function(c, d) {
                void 0 === a && (a = new ga, b = new ga);
                a.set(c, c, c, c);
                b.set(d, d, d, d);
                return this.clamp(a, b)
            }
        }(),
        floor: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y);
            this.z = Math.floor(this.z);
            this.w = Math.floor(this.w);
            return this
        },
        ceil: function() {
            this.x = Math.ceil(this.x);
            this.y = Math.ceil(this.y);
            this.z = Math.ceil(this.z);
            this.w = Math.ceil(this.w);
            return this
        },
        round: function() {
            this.x = Math.round(this.x);
            this.y = Math.round(this.y);
            this.z = Math.round(this.z);
            this.w = Math.round(this.w);
            return this
        },
        roundToZero: function() {
            this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x);
            this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y);
            this.z = 0 > this.z ? Math.ceil(this.z) : Math.floor(this.z);
            this.w = 0 > this.w ? Math.ceil(this.w) : Math.floor(this.w);
            return this
        },
        negate: function() {
            this.x = -this.x;
            this.y = -this.y;
            this.z = -this.z;
            this.w = -this.w;
            return this
        },
        dot: function(a) {
            return this.x * a.x + this.y * a.y + this.z * a.z + this.w * a.w
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)
        },
        lengthManhattan: function() {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w)
        },
        normalize: function() {
            return this.divideScalar(this.length())
        },
        setLength: function(a) {
            return this.multiplyScalar(a / this.length())
        },
        lerp: function(a, b) {
            this.x += (a.x - this.x) * b;
            this.y += (a.y - this.y) * b;
            this.z += (a.z - this.z) * b;
            this.w += (a.w - this.w) * b;
            return this
        },
        lerpVectors: function(a, b, c) {
            return this.subVectors(b, a).multiplyScalar(c).add(a)
        },
        equals: function(a) {
            return a.x === this.x && a.y === this.y && a.z === this.z && a.w === this.w
        },
        fromArray: function(a, b) {
            void 0 === b && (b = 0);
            this.x = a[b];
            this.y = a[b + 1];
            this.z = a[b + 2];
            this.w =
            a[b + 3];
            return this
        },
        toArray: function(a, b) {
            void 0 === a && (a = []);
            void 0 === b && (b = 0);
            a[b] = this.x;
            a[b + 1] = this.y;
            a[b + 2] = this.z;
            a[b + 3] = this.w;
            return a
        },
        fromAttribute: function(a, b, c) {
            void 0 === c && (c = 0);
            b = b * a.itemSize + c;
            this.x = a.array[b];
            this.y = a.array[b + 1];
            this.z = a.array[b + 2];
            this.w = a.array[b + 3];
            return this
        }
    };
    Object.assign(Db.prototype, sa.prototype, {
        isWebGLRenderTarget: !0,
        setSize: function(a, b) {
            if (this.width !== a || this.height !== b)
                this.width = a, this.height = b, this.dispose();
            this.viewport.set(0, 0, a, b);
            this.scissor.set(0,
            0, a, b)
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.width = a.width;
            this.height = a.height;
            this.viewport.copy(a.viewport);
            this.texture = a.texture.clone();
            this.depthBuffer = a.depthBuffer;
            this.stencilBuffer = a.stencilBuffer;
            this.depthTexture = a.depthTexture;
            return this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    });
    Eb.prototype = Object.create(Db.prototype);
    Eb.prototype.constructor = Eb;
    Eb.prototype.isWebGLRenderTargetCube = !0;
    ba.prototype = {
        constructor: ba,
        get x() {
            return this._x
        },
        set x(a) {
            this._x = a;
            this.onChangeCallback()
        },
        get y() {
            return this._y
        },
        set y(a) {
            this._y = a;
            this.onChangeCallback()
        },
        get z() {
            return this._z
        },
        set z(a) {
            this._z = a;
            this.onChangeCallback()
        },
        get w() {
            return this._w
        },
        set w(a) {
            this._w = a;
            this.onChangeCallback()
        },
        set: function(a, b, c, d) {
            this._x = a;
            this._y = b;
            this._z = c;
            this._w = d;
            this.onChangeCallback();
            return this
        },
        clone: function() {
            return new this.constructor(this._x, this._y, this._z, this._w)
        },
        copy: function(a) {
            this._x = a.x;
            this._y = a.y;
            this._z = a.z;
            this._w = a.w;
            this.onChangeCallback();
            return this
        },
        setFromEuler: function(a, b) {
            if (!1 === (a && a.isEuler))
                throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");
            var c = Math.cos(a._x / 2),
                d = Math.cos(a._y / 2),
                e = Math.cos(a._z / 2),
                f = Math.sin(a._x / 2),
                g = Math.sin(a._y / 2),
                h = Math.sin(a._z / 2),
                k = a.order;
            "XYZ" === k ? (this._x = f * d * e + c * g * h, this._y = c * g * e - f * d * h, this._z = c * d * h + f * g * e, this._w = c * d * e - f * g * h) : "YXZ" === k ? (this._x = f * d * e + c * g * h, this._y = c * g * e - f * d * h, this._z = c * d * h - f * g * e, this._w = c * d * e + f * g * h) : "ZXY" === k ? (this._x =
            f * d * e - c * g * h, this._y = c * g * e + f * d * h, this._z = c * d * h + f * g * e, this._w = c * d * e - f * g * h) : "ZYX" === k ? (this._x = f * d * e - c * g * h, this._y = c * g * e + f * d * h, this._z = c * d * h - f * g * e, this._w = c * d * e + f * g * h) : "YZX" === k ? (this._x = f * d * e + c * g * h, this._y = c * g * e + f * d * h, this._z = c * d * h - f * g * e, this._w = c * d * e - f * g * h) : "XZY" === k && (this._x = f * d * e - c * g * h, this._y = c * g * e - f * d * h, this._z = c * d * h + f * g * e, this._w = c * d * e + f * g * h);
            if (!1 !== b)
                this.onChangeCallback();
            return this
        },
        setFromAxisAngle: function(a, b) {
            var c = b / 2,
                d = Math.sin(c);
            this._x = a.x * d;
            this._y = a.y * d;
            this._z = a.z * d;
            this._w =
            Math.cos(c);
            this.onChangeCallback();
            return this
        },
        setFromRotationMatrix: function(a) {
            var b = a.elements,
                c = b[0];
            a = b[4];
            var d = b[8],
                e = b[1],
                f = b[5],
                g = b[9],
                h = b[2],
                k = b[6],
                b = b[10],
                m = c + f + b;
            0 < m ? (c = .5 / Math.sqrt(m + 1), this._w = .25 / c, this._x = (k - g) * c, this._y = (d - h) * c, this._z = (e - a) * c) : c > f && c > b ? (c = 2 * Math.sqrt(1 + c - f - b), this._w = (k - g) / c, this._x = .25 * c, this._y = (a + e) / c, this._z = (d + h) / c) : f > b ? (c = 2 * Math.sqrt(1 + f - c - b), this._w = (d - h) / c, this._x = (a + e) / c, this._y = .25 * c, this._z = (g + k) / c) : (c = 2 * Math.sqrt(1 + b - c - f), this._w = (e - a) / c, this._x = (d +
            h) / c, this._y = (g + k) / c, this._z = .25 * c);
            this.onChangeCallback();
            return this
        },
        setFromUnitVectors: function() {
            var a,
                b;
            return function(c, d) {
                void 0 === a && (a = new q);
                b = c.dot(d) + 1;
                1E-6 > b ? (b = 0, Math.abs(c.x) > Math.abs(c.z) ? a.set(-c.y, c.x, 0) : a.set(0, -c.z, c.y)) : a.crossVectors(c, d);
                this._x = a.x;
                this._y = a.y;
                this._z = a.z;
                this._w = b;
                return this.normalize()
            }
        }(),
        inverse: function() {
            return this.conjugate().normalize()
        },
        conjugate: function() {
            this._x *= -1;
            this._y *= -1;
            this._z *= -1;
            this.onChangeCallback();
            return this
        },
        dot: function(a) {
            return this._x *
            a._x + this._y * a._y + this._z * a._z + this._w * a._w
        },
        lengthSq: function() {
            return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w
        },
        length: function() {
            return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w)
        },
        normalize: function() {
            var a = this.length();
            0 === a ? (this._z = this._y = this._x = 0, this._w = 1) : (a = 1 / a, this._x *= a, this._y *= a, this._z *= a, this._w *= a);
            this.onChangeCallback();
            return this
        },
        multiply: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
            this.multiplyQuaternions(a, b)) : this.multiplyQuaternions(this, a)
        },
        premultiply: function(a) {
            return this.multiplyQuaternions(a, this)
        },
        multiplyQuaternions: function(a, b) {
            var c = a._x,
                d = a._y,
                e = a._z,
                f = a._w,
                g = b._x,
                h = b._y,
                k = b._z,
                m = b._w;
            this._x = c * m + f * g + d * k - e * h;
            this._y = d * m + f * h + e * g - c * k;
            this._z = e * m + f * k + c * h - d * g;
            this._w = f * m - c * g - d * h - e * k;
            this.onChangeCallback();
            return this
        },
        slerp: function(a, b) {
            if (0 === b)
                return this;
            if (1 === b)
                return this.copy(a);
            var c = this._x,
                d = this._y,
                e = this._z,
                f = this._w,
                g = f * a._w + c * a._x + d * a._y + e * a._z;
            0 > g ? (this._w = -a._w, this._x = -a._x, this._y = -a._y, this._z = -a._z, g = -g) : this.copy(a);
            if (1 <= g)
                return this._w = f, this._x = c, this._y = d, this._z = e, this;
            var h = Math.sqrt(1 - g * g);
            if (.001 > Math.abs(h))
                return this._w = .5 * (f + this._w), this._x = .5 * (c + this._x), this._y = .5 * (d + this._y), this._z = .5 * (e + this._z), this;
            var k = Math.atan2(h, g),
                g = Math.sin((1 - b) * k) / h,
                h = Math.sin(b * k) / h;
            this._w = f * g + this._w * h;
            this._x = c * g + this._x * h;
            this._y = d * g + this._y * h;
            this._z = e * g + this._z * h;
            this.onChangeCallback();
            return this
        },
        equals: function(a) {
            return a._x ===
                this._x && a._y === this._y && a._z === this._z && a._w === this._w
        },
        fromArray: function(a, b) {
            void 0 === b && (b = 0);
            this._x = a[b];
            this._y = a[b + 1];
            this._z = a[b + 2];
            this._w = a[b + 3];
            this.onChangeCallback();
            return this
        },
        toArray: function(a, b) {
            void 0 === a && (a = []);
            void 0 === b && (b = 0);
            a[b] = this._x;
            a[b + 1] = this._y;
            a[b + 2] = this._z;
            a[b + 3] = this._w;
            return a
        },
        onChange: function(a) {
            this.onChangeCallback = a;
            return this
        },
        onChangeCallback: function() {}
    };
    Object.assign(ba, {
        slerp: function(a, b, c, d) {
            return c.copy(a).slerp(b, d)
        },
        slerpFlat: function(a,
        b, c, d, e, f, g) {
            var h = c[d + 0],
                k = c[d + 1],
                m = c[d + 2];
            c = c[d + 3];
            d = e[f + 0];
            var l = e[f + 1],
                n = e[f + 2];
            e = e[f + 3];
            if (c !== e || h !== d || k !== l || m !== n) {
                f = 1 - g;
                var p = h * d + k * l + m * n + c * e,
                    r = 0 <= p ? 1 : -1,
                    x = 1 - p * p;
                x > Number.EPSILON && (x = Math.sqrt(x), p = Math.atan2(x, p * r), f = Math.sin(f * p) / x, g = Math.sin(g * p) / x);
                r *= g;
                h = h * f + d * r;
                k = k * f + l * r;
                m = m * f + n * r;
                c = c * f + e * r;
                f === 1 - g && (g = 1 / Math.sqrt(h * h + k * k + m * m + c * c), h *= g, k *= g, m *= g, c *= g)
            }
            a[b] = h;
            a[b + 1] = k;
            a[b + 2] = m;
            a[b + 3] = c
        }
    });
    q.prototype = {
        constructor: q,
        isVector3: !0,
        set: function(a, b, c) {
            this.x = a;
            this.y = b;
            this.z = c;
            return this
        },
        setScalar: function(a) {
            this.z = this.y = this.x = a;
            return this
        },
        setX: function(a) {
            this.x = a;
            return this
        },
        setY: function(a) {
            this.y = a;
            return this
        },
        setZ: function(a) {
            this.z = a;
            return this
        },
        setComponent: function(a, b) {
            switch (a) {
            case 0:
                this.x = b;
                break;
            case 1:
                this.y = b;
                break;
            case 2:
                this.z = b;
                break;
            default:
                throw Error("index is out of range: " + a);
            }
            return this
        },
        getComponent: function(a) {
            switch (a) {
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            default:
                throw Error("index is out of range: " + a);
            }
        },
        clone: function() {
            return new this.constructor(this.x,
            this.y, this.z)
        },
        copy: function(a) {
            this.x = a.x;
            this.y = a.y;
            this.z = a.z;
            return this
        },
        add: function(a, b) {
            if (void 0 !== b)
                return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."), this.addVectors(a, b);
            this.x += a.x;
            this.y += a.y;
            this.z += a.z;
            return this
        },
        addScalar: function(a) {
            this.x += a;
            this.y += a;
            this.z += a;
            return this
        },
        addVectors: function(a, b) {
            this.x = a.x + b.x;
            this.y = a.y + b.y;
            this.z = a.z + b.z;
            return this
        },
        addScaledVector: function(a, b) {
            this.x += a.x * b;
            this.y += a.y * b;
            this.z +=
            a.z * b;
            return this
        },
        sub: function(a, b) {
            if (void 0 !== b)
                return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."), this.subVectors(a, b);
            this.x -= a.x;
            this.y -= a.y;
            this.z -= a.z;
            return this
        },
        subScalar: function(a) {
            this.x -= a;
            this.y -= a;
            this.z -= a;
            return this
        },
        subVectors: function(a, b) {
            this.x = a.x - b.x;
            this.y = a.y - b.y;
            this.z = a.z - b.z;
            return this
        },
        multiply: function(a, b) {
            if (void 0 !== b)
                return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),
                this.multiplyVectors(a, b);
            this.x *= a.x;
            this.y *= a.y;
            this.z *= a.z;
            return this
        },
        multiplyScalar: function(a) {
            isFinite(a) ? (this.x *= a, this.y *= a, this.z *= a) : this.z = this.y = this.x = 0;
            return this
        },
        multiplyVectors: function(a, b) {
            this.x = a.x * b.x;
            this.y = a.y * b.y;
            this.z = a.z * b.z;
            return this
        },
        applyEuler: function() {
            var a;
            return function(b) {
                !1 === (b && b.isEuler) && console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");
                void 0 === a && (a = new ba);
                return this.applyQuaternion(a.setFromEuler(b))
            }
        }(),
        applyAxisAngle: function() {
            var a;
            return function(b, c) {
                void 0 === a && (a = new ba);
                return this.applyQuaternion(a.setFromAxisAngle(b, c))
            }
        }(),
        applyMatrix3: function(a) {
            var b = this.x,
                c = this.y,
                d = this.z;
            a = a.elements;
            this.x = a[0] * b + a[3] * c + a[6] * d;
            this.y = a[1] * b + a[4] * c + a[7] * d;
            this.z = a[2] * b + a[5] * c + a[8] * d;
            return this
        },
        applyMatrix4: function(a) {
            var b = this.x,
                c = this.y,
                d = this.z;
            a = a.elements;
            this.x = a[0] * b + a[4] * c + a[8] * d + a[12];
            this.y = a[1] * b + a[5] * c + a[9] * d + a[13];
            this.z = a[2] * b + a[6] * c + a[10] * d + a[14];
            return this
        },
        applyProjection: function(a) {
            var b =
                this.x,
                c = this.y,
                d = this.z;
            a = a.elements;
            var e = 1 / (a[3] * b + a[7] * c + a[11] * d + a[15]);
            this.x = (a[0] * b + a[4] * c + a[8] * d + a[12]) * e;
            this.y = (a[1] * b + a[5] * c + a[9] * d + a[13]) * e;
            this.z = (a[2] * b + a[6] * c + a[10] * d + a[14]) * e;
            return this
        },
        applyQuaternion: function(a) {
            var b = this.x,
                c = this.y,
                d = this.z,
                e = a.x,
                f = a.y,
                g = a.z;
            a = a.w;
            var h = a * b + f * d - g * c,
                k = a * c + g * b - e * d,
                m = a * d + e * c - f * b,
                b = -e * b - f * c - g * d;
            this.x = h * a + b * -e + k * -g - m * -f;
            this.y = k * a + b * -f + m * -e - h * -g;
            this.z = m * a + b * -g + h * -f - k * -e;
            return this
        },
        project: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new J);
                a.multiplyMatrices(b.projectionMatrix, a.getInverse(b.matrixWorld));
                return this.applyProjection(a)
            }
        }(),
        unproject: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new J);
                a.multiplyMatrices(b.matrixWorld, a.getInverse(b.projectionMatrix));
                return this.applyProjection(a)
            }
        }(),
        transformDirection: function(a) {
            var b = this.x,
                c = this.y,
                d = this.z;
            a = a.elements;
            this.x = a[0] * b + a[4] * c + a[8] * d;
            this.y = a[1] * b + a[5] * c + a[9] * d;
            this.z = a[2] * b + a[6] * c + a[10] * d;
            return this.normalize()
        },
        divide: function(a) {
            this.x /= a.x;
            this.y /= a.y;
            this.z /=
            a.z;
            return this
        },
        divideScalar: function(a) {
            return this.multiplyScalar(1 / a)
        },
        min: function(a) {
            this.x = Math.min(this.x, a.x);
            this.y = Math.min(this.y, a.y);
            this.z = Math.min(this.z, a.z);
            return this
        },
        max: function(a) {
            this.x = Math.max(this.x, a.x);
            this.y = Math.max(this.y, a.y);
            this.z = Math.max(this.z, a.z);
            return this
        },
        clamp: function(a, b) {
            this.x = Math.max(a.x, Math.min(b.x, this.x));
            this.y = Math.max(a.y, Math.min(b.y, this.y));
            this.z = Math.max(a.z, Math.min(b.z, this.z));
            return this
        },
        clampScalar: function() {
            var a,
                b;
            return function(c,
            d) {
                void 0 === a && (a = new q, b = new q);
                a.set(c, c, c);
                b.set(d, d, d);
                return this.clamp(a, b)
            }
        }(),
        clampLength: function(a, b) {
            var c = this.length();
            return this.multiplyScalar(Math.max(a, Math.min(b, c)) / c)
        },
        floor: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y);
            this.z = Math.floor(this.z);
            return this
        },
        ceil: function() {
            this.x = Math.ceil(this.x);
            this.y = Math.ceil(this.y);
            this.z = Math.ceil(this.z);
            return this
        },
        round: function() {
            this.x = Math.round(this.x);
            this.y = Math.round(this.y);
            this.z = Math.round(this.z);
            return this
        },
        roundToZero: function() {
            this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x);
            this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y);
            this.z = 0 > this.z ? Math.ceil(this.z) : Math.floor(this.z);
            return this
        },
        negate: function() {
            this.x = -this.x;
            this.y = -this.y;
            this.z = -this.z;
            return this
        },
        dot: function(a) {
            return this.x * a.x + this.y * a.y + this.z * a.z
        },
        lengthSq: function() {
            return this.x * this.x + this.y * this.y + this.z * this.z
        },
        length: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
        },
        lengthManhattan: function() {
            return Math.abs(this.x) +
            Math.abs(this.y) + Math.abs(this.z)
        },
        normalize: function() {
            return this.divideScalar(this.length())
        },
        setLength: function(a) {
            return this.multiplyScalar(a / this.length())
        },
        lerp: function(a, b) {
            this.x += (a.x - this.x) * b;
            this.y += (a.y - this.y) * b;
            this.z += (a.z - this.z) * b;
            return this
        },
        lerpVectors: function(a, b, c) {
            return this.subVectors(b, a).multiplyScalar(c).add(a)
        },
        cross: function(a, b) {
            if (void 0 !== b)
                return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."), this.crossVectors(a,
                b);
            var c = this.x,
                d = this.y,
                e = this.z;
            this.x = d * a.z - e * a.y;
            this.y = e * a.x - c * a.z;
            this.z = c * a.y - d * a.x;
            return this
        },
        crossVectors: function(a, b) {
            var c = a.x,
                d = a.y,
                e = a.z,
                f = b.x,
                g = b.y,
                h = b.z;
            this.x = d * h - e * g;
            this.y = e * f - c * h;
            this.z = c * g - d * f;
            return this
        },
        projectOnVector: function(a) {
            var b = a.dot(this) / a.lengthSq();
            return this.copy(a).multiplyScalar(b)
        },
        projectOnPlane: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new q);
                a.copy(this).projectOnVector(b);
                return this.sub(a)
            }
        }(),
        reflect: function() {
            var a;
            return function(b) {
                void 0 ===
                a && (a = new q);
                return this.sub(a.copy(b).multiplyScalar(2 * this.dot(b)))
            }
        }(),
        angleTo: function(a) {
            a = this.dot(a) / Math.sqrt(this.lengthSq() * a.lengthSq());
            return Math.acos(T.clamp(a, -1, 1))
        },
        distanceTo: function(a) {
            return Math.sqrt(this.distanceToSquared(a))
        },
        distanceToSquared: function(a) {
            var b = this.x - a.x,
                c = this.y - a.y;
            a = this.z - a.z;
            return b * b + c * c + a * a
        },
        distanceToManhattan: function(a) {
            return Math.abs(this.x - a.x) + Math.abs(this.y - a.y) + Math.abs(this.z - a.z)
        },
        setFromSpherical: function(a) {
            var b = Math.sin(a.phi) * a.radius;
            this.x = b * Math.sin(a.theta);
            this.y = Math.cos(a.phi) * a.radius;
            this.z = b * Math.cos(a.theta);
            return this
        },
        setFromMatrixPosition: function(a) {
            return this.setFromMatrixColumn(a, 3)
        },
        setFromMatrixScale: function(a) {
            var b = this.setFromMatrixColumn(a, 0).length(),
                c = this.setFromMatrixColumn(a, 1).length();
            a = this.setFromMatrixColumn(a, 2).length();
            this.x = b;
            this.y = c;
            this.z = a;
            return this
        },
        setFromMatrixColumn: function(a, b) {
            if ("number" === typeof a) {
                console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");
                var c = a;
                a = b;
                b = c
            }
            return this.fromArray(a.elements, 4 * b)
        },
        equals: function(a) {
            return a.x === this.x && a.y === this.y && a.z === this.z
        },
        fromArray: function(a, b) {
            void 0 === b && (b = 0);
            this.x = a[b];
            this.y = a[b + 1];
            this.z = a[b + 2];
            return this
        },
        toArray: function(a, b) {
            void 0 === a && (a = []);
            void 0 === b && (b = 0);
            a[b] = this.x;
            a[b + 1] = this.y;
            a[b + 2] = this.z;
            return a
        },
        fromAttribute: function(a, b, c) {
            void 0 === c && (c = 0);
            b = b * a.itemSize + c;
            this.x = a.array[b];
            this.y = a.array[b + 1];
            this.z = a.array[b + 2];
            return this
        }
    };
    J.prototype = {
        constructor: J,
        isMatrix4: !0,
        set: function(a, b, c, d, e, f, g, h, k, m, l, n, p, r, x, t) {
            var q = this.elements;
            q[0] = a;
            q[4] = b;
            q[8] = c;
            q[12] = d;
            q[1] = e;
            q[5] = f;
            q[9] = g;
            q[13] = h;
            q[2] = k;
            q[6] = m;
            q[10] = l;
            q[14] = n;
            q[3] = p;
            q[7] = r;
            q[11] = x;
            q[15] = t;
            return this
        },
        identity: function() {
            this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
            return this
        },
        clone: function() {
            return (new J).fromArray(this.elements)
        },
        copy: function(a) {
            this.elements.set(a.elements);
            return this
        },
        copyPosition: function(a) {
            var b = this.elements;
            a = a.elements;
            b[12] = a[12];
            b[13] = a[13];
            b[14] = a[14];
            return this
        },
        extractBasis: function(a,
        b, c) {
            a.setFromMatrixColumn(this, 0);
            b.setFromMatrixColumn(this, 1);
            c.setFromMatrixColumn(this, 2);
            return this
        },
        makeBasis: function(a, b, c) {
            this.set(a.x, b.x, c.x, 0, a.y, b.y, c.y, 0, a.z, b.z, c.z, 0, 0, 0, 0, 1);
            return this
        },
        extractRotation: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new q);
                var c = this.elements,
                    d = b.elements,
                    e = 1 / a.setFromMatrixColumn(b, 0).length(),
                    f = 1 / a.setFromMatrixColumn(b, 1).length();
                b = 1 / a.setFromMatrixColumn(b, 2).length();
                c[0] = d[0] * e;
                c[1] = d[1] * e;
                c[2] = d[2] * e;
                c[4] = d[4] * f;
                c[5] = d[5] * f;
                c[6] = d[6] *
                f;
                c[8] = d[8] * b;
                c[9] = d[9] * b;
                c[10] = d[10] * b;
                return this
            }
        }(),
        makeRotationFromEuler: function(a) {
            !1 === (a && a.isEuler) && console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
            var b = this.elements,
                c = a.x,
                d = a.y,
                e = a.z,
                f = Math.cos(c),
                c = Math.sin(c),
                g = Math.cos(d),
                d = Math.sin(d),
                h = Math.cos(e),
                e = Math.sin(e);
            if ("XYZ" === a.order) {
                a = f * h;
                var k = f * e,
                    m = c * h,
                    l = c * e;
                b[0] = g * h;
                b[4] = -g * e;
                b[8] = d;
                b[1] = k + m * d;
                b[5] = a - l * d;
                b[9] = -c * g;
                b[2] = l - a * d;
                b[6] = m + k * d;
                b[10] = f * g
            } else
                "YXZ" ===
                a.order ? (a = g * h, k = g * e, m = d * h, l = d * e, b[0] = a + l * c, b[4] = m * c - k, b[8] = f * d, b[1] = f * e, b[5] = f * h, b[9] = -c, b[2] = k * c - m, b[6] = l + a * c, b[10] = f * g) : "ZXY" === a.order ? (a = g * h, k = g * e, m = d * h, l = d * e, b[0] = a - l * c, b[4] = -f * e, b[8] = m + k * c, b[1] = k + m * c, b[5] = f * h, b[9] = l - a * c, b[2] = -f * d, b[6] = c, b[10] = f * g) : "ZYX" === a.order ? (a = f * h, k = f * e, m = c * h, l = c * e, b[0] = g * h, b[4] = m * d - k, b[8] = a * d + l, b[1] = g * e, b[5] = l * d + a, b[9] = k * d - m, b[2] = -d, b[6] = c * g, b[10] = f * g) : "YZX" === a.order ? (a = f * g, k = f * d, m = c * g, l = c * d, b[0] = g * h, b[4] = l - a * e, b[8] = m * e + k, b[1] = e, b[5] = f * h, b[9] = -c * h, b[2] = -d * h, b[6] = k *
                e + m, b[10] = a - l * e) : "XZY" === a.order && (a = f * g, k = f * d, m = c * g, l = c * d, b[0] = g * h, b[4] = -e, b[8] = d * h, b[1] = a * e + l, b[5] = f * h, b[9] = k * e - m, b[2] = m * e - k, b[6] = c * h, b[10] = l * e + a);
            b[3] = 0;
            b[7] = 0;
            b[11] = 0;
            b[12] = 0;
            b[13] = 0;
            b[14] = 0;
            b[15] = 1;
            return this
        },
        makeRotationFromQuaternion: function(a) {
            var b = this.elements,
                c = a.x,
                d = a.y,
                e = a.z,
                f = a.w,
                g = c + c,
                h = d + d,
                k = e + e;
            a = c * g;
            var m = c * h,
                c = c * k,
                l = d * h,
                d = d * k,
                e = e * k,
                g = f * g,
                h = f * h,
                f = f * k;
            b[0] = 1 - (l + e);
            b[4] = m - f;
            b[8] = c + h;
            b[1] = m + f;
            b[5] = 1 - (a + e);
            b[9] = d - g;
            b[2] = c - h;
            b[6] = d + g;
            b[10] = 1 - (a + l);
            b[3] = 0;
            b[7] = 0;
            b[11] = 0;
            b[12] = 0;
            b[13] =
            0;
            b[14] = 0;
            b[15] = 1;
            return this
        },
        lookAt: function() {
            var a,
                b,
                c;
            return function(d, e, f) {
                void 0 === a && (a = new q, b = new q, c = new q);
                var g = this.elements;
                c.subVectors(d, e).normalize();
                0 === c.lengthSq() && (c.z = 1);
                a.crossVectors(f, c).normalize();
                0 === a.lengthSq() && (c.z += 1E-4, a.crossVectors(f, c).normalize());
                b.crossVectors(c, a);
                g[0] = a.x;
                g[4] = b.x;
                g[8] = c.x;
                g[1] = a.y;
                g[5] = b.y;
                g[9] = c.y;
                g[2] = a.z;
                g[6] = b.z;
                g[10] = c.z;
                return this
            }
        }(),
        multiply: function(a, b) {
            return void 0 !== b ? (console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
            this.multiplyMatrices(a, b)) : this.multiplyMatrices(this, a)
        },
        premultiply: function(a) {
            return this.multiplyMatrices(a, this)
        },
        multiplyMatrices: function(a, b) {
            var c = a.elements,
                d = b.elements,
                e = this.elements,
                f = c[0],
                g = c[4],
                h = c[8],
                k = c[12],
                m = c[1],
                l = c[5],
                n = c[9],
                p = c[13],
                r = c[2],
                x = c[6],
                t = c[10],
                q = c[14],
                u = c[3],
                v = c[7],
                I = c[11],
                c = c[15],
                y = d[0],
                E = d[4],
                H = d[8],
                F = d[12],
                M = d[1],
                B = d[5],
                K = d[9],
                z = d[13],
                C = d[2],
                G = d[6],
                J = d[10],
                N = d[14],
                P = d[3],
                R = d[7],
                S = d[11],
                d = d[15];
            e[0] = f * y + g * M + h * C + k * P;
            e[4] = f * E + g * B + h * G + k * R;
            e[8] = f * H + g * K + h * J + k * S;
            e[12] =
            f * F + g * z + h * N + k * d;
            e[1] = m * y + l * M + n * C + p * P;
            e[5] = m * E + l * B + n * G + p * R;
            e[9] = m * H + l * K + n * J + p * S;
            e[13] = m * F + l * z + n * N + p * d;
            e[2] = r * y + x * M + t * C + q * P;
            e[6] = r * E + x * B + t * G + q * R;
            e[10] = r * H + x * K + t * J + q * S;
            e[14] = r * F + x * z + t * N + q * d;
            e[3] = u * y + v * M + I * C + c * P;
            e[7] = u * E + v * B + I * G + c * R;
            e[11] = u * H + v * K + I * J + c * S;
            e[15] = u * F + v * z + I * N + c * d;
            return this
        },
        multiplyToArray: function(a, b, c) {
            var d = this.elements;
            this.multiplyMatrices(a, b);
            c[0] = d[0];
            c[1] = d[1];
            c[2] = d[2];
            c[3] = d[3];
            c[4] = d[4];
            c[5] = d[5];
            c[6] = d[6];
            c[7] = d[7];
            c[8] = d[8];
            c[9] = d[9];
            c[10] = d[10];
            c[11] = d[11];
            c[12] = d[12];
            c[13] = d[13];
            c[14] = d[14];
            c[15] = d[15];
            return this
        },
        multiplyScalar: function(a) {
            var b = this.elements;
            b[0] *= a;
            b[4] *= a;
            b[8] *= a;
            b[12] *= a;
            b[1] *= a;
            b[5] *= a;
            b[9] *= a;
            b[13] *= a;
            b[2] *= a;
            b[6] *= a;
            b[10] *= a;
            b[14] *= a;
            b[3] *= a;
            b[7] *= a;
            b[11] *= a;
            b[15] *= a;
            return this
        },
        applyToVector3Array: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new q);
                void 0 === c && (c = 0);
                void 0 === d && (d = b.length);
                for (var e = 0; e < d; e += 3, c += 3)
                    a.fromArray(b, c), a.applyMatrix4(this), a.toArray(b, c);
                return b
            }
        }(),
        applyToBuffer: function() {
            var a;
            return function(b,
            c, d) {
                void 0 === a && (a = new q);
                void 0 === c && (c = 0);
                void 0 === d && (d = b.length / b.itemSize);
                for (var e = 0; e < d; e++, c++)
                    a.x = b.getX(c), a.y = b.getY(c), a.z = b.getZ(c), a.applyMatrix4(this), b.setXYZ(c, a.x, a.y, a.z);
                return b
            }
        }(),
        determinant: function() {
            var a = this.elements,
                b = a[0],
                c = a[4],
                d = a[8],
                e = a[12],
                f = a[1],
                g = a[5],
                h = a[9],
                k = a[13],
                m = a[2],
                l = a[6],
                n = a[10],
                p = a[14];
            return a[3] * (+e * h * l - d * k * l - e * g * n + c * k * n + d * g * p - c * h * p) + a[7] * (+b * h * p - b * k * n + e * f * n - d * f * p + d * k * m - e * h * m) + a[11] * (+b * k * l - b * g * p - e * f * l + c * f * p + e * g * m - c * k * m) + a[15] * (-d * g * m - b * h * l + b * g * n +
            d * f * l - c * f * n + c * h * m)
        },
        transpose: function() {
            var a = this.elements,
                b;
            b = a[1];
            a[1] = a[4];
            a[4] = b;
            b = a[2];
            a[2] = a[8];
            a[8] = b;
            b = a[6];
            a[6] = a[9];
            a[9] = b;
            b = a[3];
            a[3] = a[12];
            a[12] = b;
            b = a[7];
            a[7] = a[13];
            a[13] = b;
            b = a[11];
            a[11] = a[14];
            a[14] = b;
            return this
        },
        flattenToArrayOffset: function(a, b) {
            console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");
            return this.toArray(a, b)
        },
        getPosition: function() {
            var a;
            return function() {
                void 0 === a && (a = new q);
                console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");
                return a.setFromMatrixColumn(this, 3)
            }
        }(),
        setPosition: function(a) {
            var b = this.elements;
            b[12] = a.x;
            b[13] = a.y;
            b[14] = a.z;
            return this
        },
        getInverse: function(a, b) {
            var c = this.elements,
                d = a.elements,
                e = d[0],
                f = d[1],
                g = d[2],
                h = d[3],
                k = d[4],
                m = d[5],
                l = d[6],
                n = d[7],
                p = d[8],
                r = d[9],
                x = d[10],
                t = d[11],
                q = d[12],
                u = d[13],
                v = d[14],
                d = d[15],
                I = r * v * n - u * x * n + u * l * t - m * v * t - r * l * d + m * x * d,
                y = q * x * n - p * v * n - q * l * t + k * v * t + p * l * d - k * x * d,
                E = p * u * n - q * r * n + q * m * t - k * u * t - p * m * d + k * r * d,
                H = q * r * l - p * u * l - q * m * x + k * u * x + p * m * v - k * r * v,
                F = e * I + f * y + g * E + h * H;
            if (0 === F) {
                if (!0 === b)
                    throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");
                console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");
                return this.identity()
            }
            F = 1 / F;
            c[0] = I * F;
            c[1] = (u * x * h - r * v * h - u * g * t + f * v * t + r * g * d - f * x * d) * F;
            c[2] = (m * v * h - u * l * h + u * g * n - f * v * n - m * g * d + f * l * d) * F;
            c[3] = (r * l * h - m * x * h - r * g * n + f * x * n + m * g * t - f * l * t) * F;
            c[4] = y * F;
            c[5] = (p * v * h - q * x * h + q * g * t - e * v * t - p * g * d + e * x * d) * F;
            c[6] = (q * l * h - k * v * h - q * g * n + e * v * n + k * g * d - e * l * d) * F;
            c[7] = (k * x * h - p * l * h + p * g * n - e * x * n - k * g * t + e * l * t) * F;
            c[8] = E * F;
            c[9] = (q * r * h - p * u * h - q * f * t + e * u * t + p * f * d - e * r * d) * F;
            c[10] = (k * u * h - q * m * h + q * f * n - e * u * n - k * f * d + e * m * d) * F;
            c[11] =
            (p * m * h - k * r * h - p * f * n + e * r * n + k * f * t - e * m * t) * F;
            c[12] = H * F;
            c[13] = (p * u * g - q * r * g + q * f * x - e * u * x - p * f * v + e * r * v) * F;
            c[14] = (q * m * g - k * u * g - q * f * l + e * u * l + k * f * v - e * m * v) * F;
            c[15] = (k * r * g - p * m * g + p * f * l - e * r * l - k * f * x + e * m * x) * F;
            return this
        },
        scale: function(a) {
            var b = this.elements,
                c = a.x,
                d = a.y;
            a = a.z;
            b[0] *= c;
            b[4] *= d;
            b[8] *= a;
            b[1] *= c;
            b[5] *= d;
            b[9] *= a;
            b[2] *= c;
            b[6] *= d;
            b[10] *= a;
            b[3] *= c;
            b[7] *= d;
            b[11] *= a;
            return this
        },
        getMaxScaleOnAxis: function() {
            var a = this.elements;
            return Math.sqrt(Math.max(a[0] * a[0] + a[1] * a[1] + a[2] * a[2], a[4] * a[4] + a[5] * a[5] + a[6] * a[6],
            a[8] * a[8] + a[9] * a[9] + a[10] * a[10]))
        },
        makeTranslation: function(a, b, c) {
            this.set(1, 0, 0, a, 0, 1, 0, b, 0, 0, 1, c, 0, 0, 0, 1);
            return this
        },
        makeRotationX: function(a) {
            var b = Math.cos(a);
            a = Math.sin(a);
            this.set(1, 0, 0, 0, 0, b, -a, 0, 0, a, b, 0, 0, 0, 0, 1);
            return this
        },
        makeRotationY: function(a) {
            var b = Math.cos(a);
            a = Math.sin(a);
            this.set(b, 0, a, 0, 0, 1, 0, 0, -a, 0, b, 0, 0, 0, 0, 1);
            return this
        },
        makeRotationZ: function(a) {
            var b = Math.cos(a);
            a = Math.sin(a);
            this.set(b, -a, 0, 0, a, b, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
            return this
        },
        makeRotationAxis: function(a, b) {
            var c =
                Math.cos(b),
                d = Math.sin(b),
                e = 1 - c,
                f = a.x,
                g = a.y,
                h = a.z,
                k = e * f,
                m = e * g;
            this.set(k * f + c, k * g - d * h, k * h + d * g, 0, k * g + d * h, m * g + c, m * h - d * f, 0, k * h - d * g, m * h + d * f, e * h * h + c, 0, 0, 0, 0, 1);
            return this
        },
        makeScale: function(a, b, c) {
            this.set(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, 0, 0, 0, 1);
            return this
        },
        compose: function(a, b, c) {
            this.makeRotationFromQuaternion(b);
            this.scale(c);
            this.setPosition(a);
            return this
        },
        decompose: function() {
            var a,
                b;
            return function(c, d, e) {
                void 0 === a && (a = new q, b = new J);
                var f = this.elements,
                    g = a.set(f[0], f[1], f[2]).length(),
                    h = a.set(f[4],
                    f[5], f[6]).length(),
                    k = a.set(f[8], f[9], f[10]).length();
                0 > this.determinant() && (g = -g);
                c.x = f[12];
                c.y = f[13];
                c.z = f[14];
                b.elements.set(this.elements);
                c = 1 / g;
                var f = 1 / h,
                    m = 1 / k;
                b.elements[0] *= c;
                b.elements[1] *= c;
                b.elements[2] *= c;
                b.elements[4] *= f;
                b.elements[5] *= f;
                b.elements[6] *= f;
                b.elements[8] *= m;
                b.elements[9] *= m;
                b.elements[10] *= m;
                d.setFromRotationMatrix(b);
                e.x = g;
                e.y = h;
                e.z = k;
                return this
            }
        }(),
        makeFrustum: function(a, b, c, d, e, f) {
            var g = this.elements;
            g[0] = 2 * e / (b - a);
            g[4] = 0;
            g[8] = (b + a) / (b - a);
            g[12] = 0;
            g[1] = 0;
            g[5] = 2 * e / (d - c);
            g[9] = (d + c) / (d - c);
            g[13] = 0;
            g[2] = 0;
            g[6] = 0;
            g[10] = -(f + e) / (f - e);
            g[14] = -2 * f * e / (f - e);
            g[3] = 0;
            g[7] = 0;
            g[11] = -1;
            g[15] = 0;
            return this
        },
        makePerspective: function(a, b, c, d) {
            a = c * Math.tan(T.DEG2RAD * a * .5);
            var e = -a;
            return this.makeFrustum(e * b, a * b, e, a, c, d)
        },
        makeOrthographic: function(a, b, c, d, e, f) {
            var g = this.elements,
                h = 1 / (b - a),
                k = 1 / (c - d),
                m = 1 / (f - e);
            g[0] = 2 * h;
            g[4] = 0;
            g[8] = 0;
            g[12] = -((b + a) * h);
            g[1] = 0;
            g[5] = 2 * k;
            g[9] = 0;
            g[13] = -((c + d) * k);
            g[2] = 0;
            g[6] = 0;
            g[10] = -2 * m;
            g[14] = -((f + e) * m);
            g[3] = 0;
            g[7] = 0;
            g[11] = 0;
            g[15] = 1;
            return this
        },
        equals: function(a) {
            var b =
            this.elements;
            a = a.elements;
            for (var c = 0; 16 > c; c++)
                if (b[c] !== a[c])
                    return !1;
            return !0
        },
        fromArray: function(a, b) {
            void 0 === b && (b = 0);
            for (var c = 0; 16 > c; c++)
                this.elements[c] = a[c + b];
            return this
        },
        toArray: function(a, b) {
            void 0 === a && (a = []);
            void 0 === b && (b = 0);
            var c = this.elements;
            a[b] = c[0];
            a[b + 1] = c[1];
            a[b + 2] = c[2];
            a[b + 3] = c[3];
            a[b + 4] = c[4];
            a[b + 5] = c[5];
            a[b + 6] = c[6];
            a[b + 7] = c[7];
            a[b + 8] = c[8];
            a[b + 9] = c[9];
            a[b + 10] = c[10];
            a[b + 11] = c[11];
            a[b + 12] = c[12];
            a[b + 13] = c[13];
            a[b + 14] = c[14];
            a[b + 15] = c[15];
            return a
        }
    };
    Xa.prototype = Object.create(da.prototype);
    Xa.prototype.constructor = Xa;
    Xa.prototype.isCubeTexture = !0;
    Object.defineProperty(Xa.prototype, "images", {
        get: function() {
            return this.image
        },
        set: function(a) {
            this.image = a
        }
    });
    var ie = new da,
        je = new Xa,
        fe = [],
        he = [];
    ne.prototype.setValue = function(a, b) {
        for (var c = this.seq, d = 0, e = c.length; d !== e; ++d) {
            var f = c[d];
            f.setValue(a, b[f.id])
        }
    };
    var zd = /([\w\d_]+)(\])?(\[|\.)?/g;
    Ya.prototype.setValue = function(a, b, c) {
        b = this.map[b];
        void 0 !== b && b.setValue(a, c, this.renderer)
    };
    Ya.prototype.set = function(a, b, c) {
        var d = this.map[c];
        void 0 !== d && d.setValue(a, b[c], this.renderer)
    };
    Ya.prototype.setOptional = function(a, b, c) {
        b = b[c];
        void 0 !== b && this.setValue(a, c, b)
    };
    Ya.upload = function(a, b, c, d) {
        for (var e = 0, f = b.length; e !== f; ++e) {
            var g = b[e],
                h = c[g.id];
            !1 !== h.needsUpdate && g.setValue(a, h.value, d)
        }
    };
    Ya.seqWithValue = function(a, b) {
        for (var c = [], d = 0, e = a.length; d !== e; ++d) {
            var f = a[d];
            f.id in b && c.push(f)
        }
        return c
    };
    var La = {
            merge: function(a) {
                for (var b = {}, c = 0; c < a.length; c++) {
                    var d = this.clone(a[c]),
                        e;
                    for (e in d)
                        b[e] = d[e]
                }
                return b
            },
            clone: function(a) {
                var b =
                    {},
                    c;
                for (c in a) {
                    b[c] = {};
                    for (var d in a[c]) {
                        var e = a[c][d];
                        e && (e.isColor || e.isMatrix3 || e.isMatrix4 || e.isVector2 || e.isVector3 || e.isVector4 || e.isTexture) ? b[c][d] = e.clone() : Array.isArray(e) ? b[c][d] = e.slice() : b[c][d] = e
                    }
                }
                return b
            }
        },
        X = {
            alphamap_fragment: "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",
            alphamap_pars_fragment: "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",
            alphatest_fragment: "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",
            aomap_fragment: "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
            aomap_pars_fragment: "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
            begin_vertex: "\nvec3 transformed = vec3( position );\n",
            beginnormal_vertex: "\nvec3 objectNormal = vec3( normal );\n",
            bsdfs: "bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
            bumpmap_pars_fragment: "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
            clipping_planes_fragment: "#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",
            clipping_planes_pars_fragment: "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",
            clipping_planes_pars_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",
            clipping_planes_vertex: "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
            color_fragment: "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
            color_pars_fragment: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",
            color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
            color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
            common: "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n",
            cube_uv_reflection_fragment: "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
            defaultnormal_vertex: "#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",
            displacementmap_pars_vertex: "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",
            displacementmap_vertex: "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
            emissivemap_fragment: "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",
            emissivemap_pars_fragment: "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",
            encodings_fragment: "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",
            encodings_pars_fragment: "\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",
            envmap_fragment: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
            envmap_pars_fragment: "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
            envmap_pars_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",
            envmap_vertex: "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
            fog_fragment: "#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",
            fog_pars_fragment: "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",
            lightmap_fragment: "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
            lightmap_pars_fragment: "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
            lights_lambert_vertex: "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
            lights_pars: "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#include <normal_flip>\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#include <normal_flip>\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
            lights_phong_fragment: "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",
            lights_phong_pars_fragment: "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
            lights_physical_fragment: "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",
            lights_physical_pars_fragment: "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
            lights_template: "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
            logdepthbuf_fragment: "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",
            logdepthbuf_pars_fragment: "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",
            logdepthbuf_pars_vertex: "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",
            logdepthbuf_vertex: "#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",
            map_fragment: "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",
            map_pars_fragment: "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",
            map_particle_fragment: "#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",
            map_particle_pars_fragment: "#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",
            metalnessmap_fragment: "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",
            metalnessmap_pars_fragment: "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
            morphnormal_vertex: "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
            morphtarget_pars_vertex: "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
            morphtarget_vertex: "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
            normal_flip: "#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",
            normal_fragment: "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
            normalmap_pars_fragment: "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",
            packing: "vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
            premultiplied_alpha_fragment: "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",
            project_vertex: "#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",
            roughnessmap_fragment: "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",
            roughnessmap_pars_fragment: "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
            shadowmap_pars_fragment: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
            shadowmap_pars_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",
            shadowmap_vertex: "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",
            shadowmask_pars_fragment: "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
            skinbase_vertex: "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
            skinning_pars_vertex: "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
            skinning_vertex: "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",
            skinnormal_vertex: "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
            specularmap_fragment: "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
            specularmap_pars_fragment: "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
            tonemapping_fragment: "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",
            tonemapping_pars_fragment: "#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
            uv_pars_fragment: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",
            uv_pars_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",
            uv_vertex: "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",
            uv2_pars_fragment: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
            uv2_pars_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
            uv2_vertex: "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
            worldpos_vertex: "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",
            cube_frag: "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
            cube_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
            depth_frag: "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
            depth_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
            distanceRGBA_frag: "uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",
            distanceRGBA_vert: "varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",
            equirect_frag: "uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",
            equirect_vert: "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
            linedashed_frag: "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            linedashed_vert: "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
            meshbasic_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            meshbasic_vert: "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",
            meshlambert_frag: "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            meshlambert_vert: "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",
            meshphong_frag: "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            meshphong_vert: "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",
            meshphysical_frag: "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            meshphysical_vert: "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",
            normal_frag: "uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n",
            normal_vert: "varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
            points_frag: "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
            points_vert: "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",
            shadow_frag: "uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",
            shadow_vert: "#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"
        };
    O.prototype = {
        constructor: O,
        isColor: !0,
        r: 1,
        g: 1,
        b: 1,
        set: function(a) {
            a && a.isColor ? this.copy(a) : "number" === typeof a ? this.setHex(a) : "string" === typeof a && this.setStyle(a);
            return this
        },
        setScalar: function(a) {
            this.b = this.g = this.r = a;
            return this
        },
        setHex: function(a) {
            a = Math.floor(a);
            this.r = (a >> 16 & 255) / 255;
            this.g = (a >> 8 & 255) / 255;
            this.b = (a & 255) / 255;
            return this
        },
        setRGB: function(a, b, c) {
            this.r = a;
            this.g = b;
            this.b = c;
            return this
        },
        setHSL: function() {
            function a(a, c, d) {
                0 > d && (d += 1);
                1 < d && --d;
                return d < 1 / 6 ? a + 6 * (c - a) * d : .5 > d ? c : d < 2 / 3 ? a + 6 * (c - a) * (2 / 3 - d) : a
            }
            return function(b,
            c, d) {
                b = T.euclideanModulo(b, 1);
                c = T.clamp(c, 0, 1);
                d = T.clamp(d, 0, 1);
                0 === c ? this.r = this.g = this.b = d : (c = .5 >= d ? d * (1 + c) : d + c - d * c, d = 2 * d - c, this.r = a(d, c, b + 1 / 3), this.g = a(d, c, b), this.b = a(d, c, b - 1 / 3));
                return this
            }
        }(),
        setStyle: function(a) {
            function b(b) {
                void 0 !== b && 1 > parseFloat(b) && console.warn("THREE.Color: Alpha component of " + a + " will be ignored.")
            }
            var c;
            if (c = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)) {
                var d = c[2];
                switch (c[1]) {
                case "rgb":
                case "rgba":
                    if (c = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))
                        return this.r =
                        Math.min(255, parseInt(c[1], 10)) / 255, this.g = Math.min(255, parseInt(c[2], 10)) / 255, this.b = Math.min(255, parseInt(c[3], 10)) / 255, b(c[5]), this;
                    if (c = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))
                        return this.r = Math.min(100, parseInt(c[1], 10)) / 100, this.g = Math.min(100, parseInt(c[2], 10)) / 100, this.b = Math.min(100, parseInt(c[3], 10)) / 100, b(c[5]), this;
                    break;
                case "hsl":
                case "hsla":
                    if (c = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)) {
                        var d = parseFloat(c[1]) /
                            360,
                            e = parseInt(c[2], 10) / 100,
                            f = parseInt(c[3], 10) / 100;
                        b(c[5]);
                        return this.setHSL(d, e, f)
                    }
                }
            } else if (c = /^\#([A-Fa-f0-9]+)$/.exec(a)) {
                c = c[1];
                d = c.length;
                if (3 === d)
                    return this.r = parseInt(c.charAt(0) + c.charAt(0), 16) / 255, this.g = parseInt(c.charAt(1) + c.charAt(1), 16) / 255, this.b = parseInt(c.charAt(2) + c.charAt(2), 16) / 255, this;
                if (6 === d)
                    return this.r = parseInt(c.charAt(0) + c.charAt(1), 16) / 255, this.g = parseInt(c.charAt(2) + c.charAt(3), 16) / 255, this.b = parseInt(c.charAt(4) + c.charAt(5), 16) / 255, this
            }
            a && 0 < a.length && (c = He[a], void 0 !==
            c ? this.setHex(c) : console.warn("THREE.Color: Unknown color " + a));
            return this
        },
        clone: function() {
            return new this.constructor(this.r, this.g, this.b)
        },
        copy: function(a) {
            this.r = a.r;
            this.g = a.g;
            this.b = a.b;
            return this
        },
        copyGammaToLinear: function(a, b) {
            void 0 === b && (b = 2);
            this.r = Math.pow(a.r, b);
            this.g = Math.pow(a.g, b);
            this.b = Math.pow(a.b, b);
            return this
        },
        copyLinearToGamma: function(a, b) {
            void 0 === b && (b = 2);
            var c = 0 < b ? 1 / b : 1;
            this.r = Math.pow(a.r, c);
            this.g = Math.pow(a.g, c);
            this.b = Math.pow(a.b, c);
            return this
        },
        convertGammaToLinear: function() {
            var a =
                this.r,
                b = this.g,
                c = this.b;
            this.r = a * a;
            this.g = b * b;
            this.b = c * c;
            return this
        },
        convertLinearToGamma: function() {
            this.r = Math.sqrt(this.r);
            this.g = Math.sqrt(this.g);
            this.b = Math.sqrt(this.b);
            return this
        },
        getHex: function() {
            return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0
        },
        getHexString: function() {
            return ("000000" + this.getHex().toString(16)).slice(-6)
        },
        getHSL: function(a) {
            a = a || {
                h: 0,
                s: 0,
                l: 0
            };
            var b = this.r,
                c = this.g,
                d = this.b,
                e = Math.max(b, c, d),
                f = Math.min(b, c, d),
                g,
                h = (f + e) / 2;
            if (f === e)
                f = g = 0;
            else {
                var k = e - f,
                    f = .5 >= h ? k / (e + f) :
                    k / (2 - e - f);
                switch (e) {
                case b:
                    g = (c - d) / k + (c < d ? 6 : 0);
                    break;
                case c:
                    g = (d - b) / k + 2;
                    break;
                case d:
                    g = (b - c) / k + 4
                }
                g /= 6
            }
            a.h = g;
            a.s = f;
            a.l = h;
            return a
        },
        getStyle: function() {
            return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")"
        },
        offsetHSL: function(a, b, c) {
            var d = this.getHSL();
            d.h += a;
            d.s += b;
            d.l += c;
            this.setHSL(d.h, d.s, d.l);
            return this
        },
        add: function(a) {
            this.r += a.r;
            this.g += a.g;
            this.b += a.b;
            return this
        },
        addColors: function(a, b) {
            this.r = a.r + b.r;
            this.g = a.g + b.g;
            this.b = a.b + b.b;
            return this
        },
        addScalar: function(a) {
            this.r +=
            a;
            this.g += a;
            this.b += a;
            return this
        },
        sub: function(a) {
            this.r = Math.max(0, this.r - a.r);
            this.g = Math.max(0, this.g - a.g);
            this.b = Math.max(0, this.b - a.b);
            return this
        },
        multiply: function(a) {
            this.r *= a.r;
            this.g *= a.g;
            this.b *= a.b;
            return this
        },
        multiplyScalar: function(a) {
            this.r *= a;
            this.g *= a;
            this.b *= a;
            return this
        },
        lerp: function(a, b) {
            this.r += (a.r - this.r) * b;
            this.g += (a.g - this.g) * b;
            this.b += (a.b - this.b) * b;
            return this
        },
        equals: function(a) {
            return a.r === this.r && a.g === this.g && a.b === this.b
        },
        fromArray: function(a, b) {
            void 0 === b && (b =
            0);
            this.r = a[b];
            this.g = a[b + 1];
            this.b = a[b + 2];
            return this
        },
        toArray: function(a, b) {
            void 0 === a && (a = []);
            void 0 === b && (b = 0);
            a[b] = this.r;
            a[b + 1] = this.g;
            a[b + 2] = this.b;
            return a
        },
        toJSON: function() {
            return this.getHex()
        }
    };
    var He = {
            aliceblue: 15792383,
            antiquewhite: 16444375,
            aqua: 65535,
            aquamarine: 8388564,
            azure: 15794175,
            beige: 16119260,
            bisque: 16770244,
            black: 0,
            blanchedalmond: 16772045,
            blue: 255,
            blueviolet: 9055202,
            brown: 10824234,
            burlywood: 14596231,
            cadetblue: 6266528,
            chartreuse: 8388352,
            chocolate: 13789470,
            coral: 16744272,
            cornflowerblue: 6591981,
            cornsilk: 16775388,
            crimson: 14423100,
            cyan: 65535,
            darkblue: 139,
            darkcyan: 35723,
            darkgoldenrod: 12092939,
            darkgray: 11119017,
            darkgreen: 25600,
            darkgrey: 11119017,
            darkkhaki: 12433259,
            darkmagenta: 9109643,
            darkolivegreen: 5597999,
            darkorange: 16747520,
            darkorchid: 10040012,
            darkred: 9109504,
            darksalmon: 15308410,
            darkseagreen: 9419919,
            darkslateblue: 4734347,
            darkslategray: 3100495,
            darkslategrey: 3100495,
            darkturquoise: 52945,
            darkviolet: 9699539,
            deeppink: 16716947,
            deepskyblue: 49151,
            dimgray: 6908265,
            dimgrey: 6908265,
            dodgerblue: 2003199,
            firebrick: 11674146,
            floralwhite: 16775920,
            forestgreen: 2263842,
            fuchsia: 16711935,
            gainsboro: 14474460,
            ghostwhite: 16316671,
            gold: 16766720,
            goldenrod: 14329120,
            gray: 8421504,
            green: 32768,
            greenyellow: 11403055,
            grey: 8421504,
            honeydew: 15794160,
            hotpink: 16738740,
            indianred: 13458524,
            indigo: 4915330,
            ivory: 16777200,
            khaki: 15787660,
            lavender: 15132410,
            lavenderblush: 16773365,
            lawngreen: 8190976,
            lemonchiffon: 16775885,
            lightblue: 11393254,
            lightcoral: 15761536,
            lightcyan: 14745599,
            lightgoldenrodyellow: 16448210,
            lightgray: 13882323,
            lightgreen: 9498256,
            lightgrey: 13882323,
            lightpink: 16758465,
            lightsalmon: 16752762,
            lightseagreen: 2142890,
            lightskyblue: 8900346,
            lightslategray: 7833753,
            lightslategrey: 7833753,
            lightsteelblue: 11584734,
            lightyellow: 16777184,
            lime: 65280,
            limegreen: 3329330,
            linen: 16445670,
            magenta: 16711935,
            maroon: 8388608,
            mediumaquamarine: 6737322,
            mediumblue: 205,
            mediumorchid: 12211667,
            mediumpurple: 9662683,
            mediumseagreen: 3978097,
            mediumslateblue: 8087790,
            mediumspringgreen: 64154,
            mediumturquoise: 4772300,
            mediumvioletred: 13047173,
            midnightblue: 1644912,
            mintcream: 16121850,
            mistyrose: 16770273,
            moccasin: 16770229,
            navajowhite: 16768685,
            navy: 128,
            oldlace: 16643558,
            olive: 8421376,
            olivedrab: 7048739,
            orange: 16753920,
            orangered: 16729344,
            orchid: 14315734,
            palegoldenrod: 15657130,
            palegreen: 10025880,
            paleturquoise: 11529966,
            palevioletred: 14381203,
            papayawhip: 16773077,
            peachpuff: 16767673,
            peru: 13468991,
            pink: 16761035,
            plum: 14524637,
            powderblue: 11591910,
            purple: 8388736,
            red: 16711680,
            rosybrown: 12357519,
            royalblue: 4286945,
            saddlebrown: 9127187,
            salmon: 16416882,
            sandybrown: 16032864,
            seagreen: 3050327,
            seashell: 16774638,
            sienna: 10506797,
            silver: 12632256,
            skyblue: 8900331,
            slateblue: 6970061,
            slategray: 7372944,
            slategrey: 7372944,
            snow: 16775930,
            springgreen: 65407,
            steelblue: 4620980,
            tan: 13808780,
            teal: 32896,
            thistle: 14204888,
            tomato: 16737095,
            turquoise: 4251856,
            violet: 15631086,
            wheat: 16113331,
            white: 16777215,
            whitesmoke: 16119285,
            yellow: 16776960,
            yellowgreen: 10145074
        },
        W = {
            common: {
                diffuse: {
                    value: new O(15658734)
                },
                opacity: {
                    value: 1
                },
                map: {
                    value: null
                },
                offsetRepeat: {
                    value: new ga(0, 0, 1, 1)
                },
                specularMap: {
                    value: null
                },
                alphaMap: {
                    value: null
                },
                envMap: {
                    value: null
                },
                flipEnvMap: {
                    value: -1
                },
                reflectivity: {
                    value: 1
                },
                refractionRatio: {
                    value: .98
                }
            },
            aomap: {
                aoMap: {
                    value: null
                },
                aoMapIntensity: {
                    value: 1
                }
            },
            lightmap: {
                lightMap: {
                    value: null
                },
                lightMapIntensity: {
                    value: 1
                }
            },
            emissivemap: {
                emissiveMap: {
                    value: null
                }
            },
            bumpmap: {
                bumpMap: {
                    value: null
                },
                bumpScale: {
                    value: 1
                }
            },
            normalmap: {
                normalMap: {
                    value: null
                },
                normalScale: {
                    value: new B(1, 1)
                }
            },
            displacementmap: {
                displacementMap: {
                    value: null
                },
                displacementScale: {
                    value: 1
                },
                displacementBias: {
                    value: 0
                }
            },
            roughnessmap: {
                roughnessMap: {
                    value: null
                }
            },
            metalnessmap: {
                metalnessMap: {
                    value: null
                }
            },
            fog: {
                fogDensity: {
                    value: 2.5E-4
                },
                fogNear: {
                    value: 1
                },
                fogFar: {
                    value: 2E3
                },
                fogColor: {
                    value: new O(16777215)
                }
            },
            lights: {
                ambientLightColor: {
                    value: []
                },
                directionalLights: {
                    value: [],
                    properties: {
                        direction: {},
                        color: {},
                        shadow: {},
                        shadowBias: {},
                        shadowRadius: {},
                        shadowMapSize: {}
                    }
                },
                directionalShadowMap: {
                    value: []
                },
                directionalShadowMatrix: {
                    value: []
                },
                spotLights: {
                    value: [],
                    properties: {
                        color: {},
                        position: {},
                        direction: {},
                        distance: {},
                        coneCos: {},
                        penumbraCos: {},
                        decay: {},
                        shadow: {},
                        shadowBias: {},
                        shadowRadius: {},
                        shadowMapSize: {}
                    }
                },
                spotShadowMap: {
                    value: []
                },
                spotShadowMatrix: {
                    value: []
                },
                pointLights: {
                    value: [],
                    properties: {
                        color: {},
                        position: {},
                        decay: {},
                        distance: {},
                        shadow: {},
                        shadowBias: {},
                        shadowRadius: {},
                        shadowMapSize: {}
                    }
                },
                pointShadowMap: {
                    value: []
                },
                pointShadowMatrix: {
                    value: []
                },
                hemisphereLights: {
                    value: [],
                    properties: {
                        direction: {},
                        skyColor: {},
                        groundColor: {}
                    }
                }
            },
            points: {
                diffuse: {
                    value: new O(15658734)
                },
                opacity: {
                    value: 1
                },
                size: {
                    value: 1
                },
                scale: {
                    value: 1
                },
                map: {
                    value: null
                },
                offsetRepeat: {
                    value: new ga(0, 0, 1, 1)
                }
            }
        },
        Gb = {
            basic: {
                uniforms: La.merge([W.common, W.aomap, W.fog]),
                vertexShader: X.meshbasic_vert,
                fragmentShader: X.meshbasic_frag
            },
            lambert: {
                uniforms: La.merge([W.common, W.aomap, W.lightmap, W.emissivemap, W.fog, W.lights, {
                    emissive: {
                        value: new O(0)
                    }
                }]),
                vertexShader: X.meshlambert_vert,
                fragmentShader: X.meshlambert_frag
            },
            phong: {
                uniforms: La.merge([W.common, W.aomap, W.lightmap, W.emissivemap, W.bumpmap, W.normalmap, W.displacementmap, W.fog, W.lights, {
                    emissive: {
                        value: new O(0)
                    },
                    specular: {
                        value: new O(1118481)
                    },
                    shininess: {
                        value: 30
                    }
                }]),
                vertexShader: X.meshphong_vert,
                fragmentShader: X.meshphong_frag
            },
            standard: {
                uniforms: La.merge([W.common,
                W.aomap, W.lightmap, W.emissivemap, W.bumpmap, W.normalmap, W.displacementmap, W.roughnessmap, W.metalnessmap, W.fog, W.lights, {
                    emissive: {
                        value: new O(0)
                    },
                    roughness: {
                        value: .5
                    },
                    metalness: {
                        value: 0
                    },
                    envMapIntensity: {
                        value: 1
                    }
                }]),
                vertexShader: X.meshphysical_vert,
                fragmentShader: X.meshphysical_frag
            },
            points: {
                uniforms: La.merge([W.points, W.fog]),
                vertexShader: X.points_vert,
                fragmentShader: X.points_frag
            },
            dashed: {
                uniforms: La.merge([W.common, W.fog, {
                    scale: {
                        value: 1
                    },
                    dashSize: {
                        value: 1
                    },
                    totalSize: {
                        value: 2
                    }
                }]),
                vertexShader: X.linedashed_vert,
                fragmentShader: X.linedashed_frag
            },
            depth: {
                uniforms: La.merge([W.common, W.displacementmap]),
                vertexShader: X.depth_vert,
                fragmentShader: X.depth_frag
            },
            normal: {
                uniforms: {
                    opacity: {
                        value: 1
                    }
                },
                vertexShader: X.normal_vert,
                fragmentShader: X.normal_frag
            },
            cube: {
                uniforms: {
                    tCube: {
                        value: null
                    },
                    tFlip: {
                        value: -1
                    },
                    opacity: {
                        value: 1
                    }
                },
                vertexShader: X.cube_vert,
                fragmentShader: X.cube_frag
            },
            equirect: {
                uniforms: {
                    tEquirect: {
                        value: null
                    },
                    tFlip: {
                        value: -1
                    }
                },
                vertexShader: X.equirect_vert,
                fragmentShader: X.equirect_frag
            },
            distanceRGBA: {
                uniforms: {
                    lightPos: {
                        value: new q
                    }
                },
                vertexShader: X.distanceRGBA_vert,
                fragmentShader: X.distanceRGBA_frag
            }
        };
    Gb.physical = {
        uniforms: La.merge([Gb.standard.uniforms, {
            clearCoat: {
                value: 0
            },
            clearCoatRoughness: {
                value: 0
            }
        }]),
        vertexShader: X.meshphysical_vert,
        fragmentShader: X.meshphysical_frag
    };
    mc.prototype = {
        constructor: mc,
        set: function(a, b) {
            this.min.copy(a);
            this.max.copy(b);
            return this
        },
        setFromPoints: function(a) {
            this.makeEmpty();
            for (var b = 0, c = a.length; b < c; b++)
                this.expandByPoint(a[b]);
            return this
        },
        setFromCenterAndSize: function() {
            var a = new B;
            return function(b,
            c) {
                var d = a.copy(c).multiplyScalar(.5);
                this.min.copy(b).sub(d);
                this.max.copy(b).add(d);
                return this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.min.copy(a.min);
            this.max.copy(a.max);
            return this
        },
        makeEmpty: function() {
            this.min.x = this.min.y = Infinity;
            this.max.x = this.max.y = -Infinity;
            return this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y
        },
        getCenter: function(a) {
            a = a || new B;
            return this.isEmpty() ? a.set(0, 0) : a.addVectors(this.min, this.max).multiplyScalar(.5)
        },
        getSize: function(a) {
            a = a || new B;
            return this.isEmpty() ? a.set(0, 0) : a.subVectors(this.max, this.min)
        },
        expandByPoint: function(a) {
            this.min.min(a);
            this.max.max(a);
            return this
        },
        expandByVector: function(a) {
            this.min.sub(a);
            this.max.add(a);
            return this
        },
        expandByScalar: function(a) {
            this.min.addScalar(-a);
            this.max.addScalar(a);
            return this
        },
        containsPoint: function(a) {
            return a.x < this.min.x || a.x > this.max.x || a.y < this.min.y || a.y > this.max.y ? !1 : !0
        },
        containsBox: function(a) {
            return this.min.x <= a.min.x && a.max.x <= this.max.x &&
            this.min.y <= a.min.y && a.max.y <= this.max.y ? !0 : !1
        },
        getParameter: function(a, b) {
            return (b || new B).set((a.x - this.min.x) / (this.max.x - this.min.x), (a.y - this.min.y) / (this.max.y - this.min.y))
        },
        intersectsBox: function(a) {
            return a.max.x < this.min.x || a.min.x > this.max.x || a.max.y < this.min.y || a.min.y > this.max.y ? !1 : !0
        },
        clampPoint: function(a, b) {
            return (b || new B).copy(a).clamp(this.min, this.max)
        },
        distanceToPoint: function() {
            var a = new B;
            return function(b) {
                return a.copy(b).clamp(this.min, this.max).sub(b).length()
            }
        }(),
        intersect: function(a) {
            this.min.max(a.min);
            this.max.min(a.max);
            return this
        },
        union: function(a) {
            this.min.min(a.min);
            this.max.max(a.max);
            return this
        },
        translate: function(a) {
            this.min.add(a);
            this.max.add(a);
            return this
        },
        equals: function(a) {
            return a.min.equals(this.min) && a.max.equals(this.max)
        }
    };
    U.prototype = {
        constructor: U,
        isMaterial: !0,
        get needsUpdate() {
            return this._needsUpdate
        },
        set needsUpdate(a) {
            !0 === a && this.update();
            this._needsUpdate = a
        },
        setValues: function(a) {
            if (void 0 !== a)
                for (var b in a) {
                    var c = a[b];
                    if (void 0 === c)
                        console.warn("THREE.Material: '" +
                        b + "' parameter is undefined.");
                    else {
                        var d = this[b];
                        void 0 === d ? console.warn("THREE." + this.type + ": '" + b + "' is not a property of this material.") : d && d.isColor ? d.set(c) : d && d.isVector3 && c && c.isVector3 ? d.copy(c) : this[b] = "overdraw" === b ? Number(c) : c
                    }
                }
        },
        toJSON: function(a) {
            function b(a) {
                var b = [],
                    c;
                for (c in a) {
                    var d = a[c];
                    delete d.metadata;
                    b.push(d)
                }
                return b
            }
            var c = void 0 === a;
            c && (a = {
                textures: {},
                images: {}
            });
            var d = {
                metadata: {
                    version: 4.4,
                    type: "Material",
                    generator: "Material.toJSON"
                }
            };
            d.uuid = this.uuid;
            d.type = this.type;
            "" !== this.name && (d.name = this.name);
            this.color && this.color.isColor && (d.color = this.color.getHex());
            void 0 !== this.roughness && (d.roughness = this.roughness);
            void 0 !== this.metalness && (d.metalness = this.metalness);
            this.emissive && this.emissive.isColor && (d.emissive = this.emissive.getHex());
            this.specular && this.specular.isColor && (d.specular = this.specular.getHex());
            void 0 !== this.shininess && (d.shininess = this.shininess);
            this.map && this.map.isTexture && (d.map = this.map.toJSON(a).uuid);
            this.alphaMap && this.alphaMap.isTexture &&
            (d.alphaMap = this.alphaMap.toJSON(a).uuid);
            this.lightMap && this.lightMap.isTexture && (d.lightMap = this.lightMap.toJSON(a).uuid);
            this.bumpMap && this.bumpMap.isTexture && (d.bumpMap = this.bumpMap.toJSON(a).uuid, d.bumpScale = this.bumpScale);
            this.normalMap && this.normalMap.isTexture && (d.normalMap = this.normalMap.toJSON(a).uuid, d.normalScale = this.normalScale.toArray());
            this.displacementMap && this.displacementMap.isTexture && (d.displacementMap = this.displacementMap.toJSON(a).uuid, d.displacementScale = this.displacementScale,
            d.displacementBias = this.displacementBias);
            this.roughnessMap && this.roughnessMap.isTexture && (d.roughnessMap = this.roughnessMap.toJSON(a).uuid);
            this.metalnessMap && this.metalnessMap.isTexture && (d.metalnessMap = this.metalnessMap.toJSON(a).uuid);
            this.emissiveMap && this.emissiveMap.isTexture && (d.emissiveMap = this.emissiveMap.toJSON(a).uuid);
            this.specularMap && this.specularMap.isTexture && (d.specularMap = this.specularMap.toJSON(a).uuid);
            this.envMap && this.envMap.isTexture && (d.envMap = this.envMap.toJSON(a).uuid, d.reflectivity =
            this.reflectivity);
            void 0 !== this.size && (d.size = this.size);
            void 0 !== this.sizeAttenuation && (d.sizeAttenuation = this.sizeAttenuation);
            1 !== this.blending && (d.blending = this.blending);
            2 !== this.shading && (d.shading = this.shading);
            0 !== this.side && (d.side = this.side);
            0 !== this.vertexColors && (d.vertexColors = this.vertexColors);
            1 > this.opacity && (d.opacity = this.opacity);
            !0 === this.transparent && (d.transparent = this.transparent);
            d.depthFunc = this.depthFunc;
            d.depthTest = this.depthTest;
            d.depthWrite = this.depthWrite;
            0 < this.alphaTest &&
            (d.alphaTest = this.alphaTest);
            !0 === this.premultipliedAlpha && (d.premultipliedAlpha = this.premultipliedAlpha);
            !0 === this.wireframe && (d.wireframe = this.wireframe);
            1 < this.wireframeLinewidth && (d.wireframeLinewidth = this.wireframeLinewidth);
            "round" !== this.wireframeLinecap && (d.wireframeLinecap = this.wireframeLinecap);
            "round" !== this.wireframeLinejoin && (d.wireframeLinejoin = this.wireframeLinejoin);
            d.skinning = this.skinning;
            d.morphTargets = this.morphTargets;
            c && (c = b(a.textures), a = b(a.images), 0 < c.length && (d.textures =
            c), 0 < a.length && (d.images = a));
            return d
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.name = a.name;
            this.fog = a.fog;
            this.lights = a.lights;
            this.blending = a.blending;
            this.side = a.side;
            this.shading = a.shading;
            this.vertexColors = a.vertexColors;
            this.opacity = a.opacity;
            this.transparent = a.transparent;
            this.blendSrc = a.blendSrc;
            this.blendDst = a.blendDst;
            this.blendEquation = a.blendEquation;
            this.blendSrcAlpha = a.blendSrcAlpha;
            this.blendDstAlpha = a.blendDstAlpha;
            this.blendEquationAlpha = a.blendEquationAlpha;
            this.depthFunc = a.depthFunc;
            this.depthTest = a.depthTest;
            this.depthWrite = a.depthWrite;
            this.colorWrite = a.colorWrite;
            this.precision = a.precision;
            this.polygonOffset = a.polygonOffset;
            this.polygonOffsetFactor = a.polygonOffsetFactor;
            this.polygonOffsetUnits = a.polygonOffsetUnits;
            this.alphaTest = a.alphaTest;
            this.premultipliedAlpha = a.premultipliedAlpha;
            this.overdraw = a.overdraw;
            this.visible = a.visible;
            this.clipShadows = a.clipShadows;
            this.clipIntersection = a.clipIntersection;
            a = a.clippingPlanes;
            var b = null;
            if (null !== a)
                for (var c =
                    a.length, b = Array(c), d = 0; d !== c; ++d)
                    b[d] = a[d].clone();
            this.clippingPlanes = b;
            return this
        },
        update: function() {
            this.dispatchEvent({
                type: "update"
            })
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    };
    Object.assign(U.prototype, sa.prototype);
    var oe = 0;
    Fa.prototype = Object.create(U.prototype);
    Fa.prototype.constructor = Fa;
    Fa.prototype.isShaderMaterial = !0;
    Fa.prototype.copy = function(a) {
        U.prototype.copy.call(this, a);
        this.fragmentShader = a.fragmentShader;
        this.vertexShader = a.vertexShader;
        this.uniforms = La.clone(a.uniforms);
        this.defines = a.defines;
        this.wireframe = a.wireframe;
        this.wireframeLinewidth = a.wireframeLinewidth;
        this.lights = a.lights;
        this.clipping = a.clipping;
        this.skinning = a.skinning;
        this.morphTargets = a.morphTargets;
        this.morphNormals = a.morphNormals;
        this.extensions = a.extensions;
        return this
    };
    Fa.prototype.toJSON = function(a) {
        a = U.prototype.toJSON.call(this, a);
        a.uniforms = this.uniforms;
        a.vertexShader = this.vertexShader;
        a.fragmentShader = this.fragmentShader;
        return a
    };
    Za.prototype = Object.create(U.prototype);
    Za.prototype.constructor =
    Za;
    Za.prototype.isMeshDepthMaterial = !0;
    Za.prototype.copy = function(a) {
        U.prototype.copy.call(this, a);
        this.depthPacking = a.depthPacking;
        this.skinning = a.skinning;
        this.morphTargets = a.morphTargets;
        this.map = a.map;
        this.alphaMap = a.alphaMap;
        this.displacementMap = a.displacementMap;
        this.displacementScale = a.displacementScale;
        this.displacementBias = a.displacementBias;
        this.wireframe = a.wireframe;
        this.wireframeLinewidth = a.wireframeLinewidth;
        return this
    };
    Ba.prototype = {
        constructor: Ba,
        isBox3: !0,
        set: function(a, b) {
            this.min.copy(a);
            this.max.copy(b);
            return this
        },
        setFromArray: function(a) {
            for (var b = Infinity, c = Infinity, d = Infinity, e = -Infinity, f = -Infinity, g = -Infinity, h = 0, k = a.length; h < k; h += 3) {
                var m = a[h],
                    l = a[h + 1],
                    n = a[h + 2];
                m < b && (b = m);
                l < c && (c = l);
                n < d && (d = n);
                m > e && (e = m);
                l > f && (f = l);
                n > g && (g = n)
            }
            this.min.set(b, c, d);
            this.max.set(e, f, g)
        },
        setFromPoints: function(a) {
            this.makeEmpty();
            for (var b = 0, c = a.length; b < c; b++)
                this.expandByPoint(a[b]);
            return this
        },
        setFromCenterAndSize: function() {
            var a = new q;
            return function(b, c) {
                var d = a.copy(c).multiplyScalar(.5);
                this.min.copy(b).sub(d);
                this.max.copy(b).add(d);
                return this
            }
        }(),
        setFromObject: function() {
            var a = new q;
            return function(b) {
                var c = this;
                b.updateMatrixWorld(!0);
                this.makeEmpty();
                b.traverse(function(b) {
                    var e = b.geometry;
                    if (void 0 !== e)
                        if (e && e.isGeometry)
                            for (var e = e.vertices, f = 0, g = e.length; f < g; f++)
                                a.copy(e[f]), a.applyMatrix4(b.matrixWorld), c.expandByPoint(a);
                        else if (e && e.isBufferGeometry && (g = e.attributes.position, void 0 !== g)) {
                            var h;
                            g && g.isInterleavedBufferAttribute ? (e = g.data.array, f = g.offset, h = g.data.stride) :
                            (e = g.array, f = 0, h = 3);
                            for (g = e.length; f < g; f += h)
                                a.fromArray(e, f), a.applyMatrix4(b.matrixWorld), c.expandByPoint(a)
                        }
                });
                return this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.min.copy(a.min);
            this.max.copy(a.max);
            return this
        },
        makeEmpty: function() {
            this.min.x = this.min.y = this.min.z = Infinity;
            this.max.x = this.max.y = this.max.z = -Infinity;
            return this
        },
        isEmpty: function() {
            return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z
        },
        getCenter: function(a) {
            a = a || new q;
            return this.isEmpty() ? a.set(0, 0, 0) : a.addVectors(this.min, this.max).multiplyScalar(.5)
        },
        getSize: function(a) {
            a = a || new q;
            return this.isEmpty() ? a.set(0, 0, 0) : a.subVectors(this.max, this.min)
        },
        expandByPoint: function(a) {
            this.min.min(a);
            this.max.max(a);
            return this
        },
        expandByVector: function(a) {
            this.min.sub(a);
            this.max.add(a);
            return this
        },
        expandByScalar: function(a) {
            this.min.addScalar(-a);
            this.max.addScalar(a);
            return this
        },
        containsPoint: function(a) {
            return a.x < this.min.x || a.x > this.max.x || a.y < this.min.y || a.y > this.max.y ||
            a.z < this.min.z || a.z > this.max.z ? !1 : !0
        },
        containsBox: function(a) {
            return this.min.x <= a.min.x && a.max.x <= this.max.x && this.min.y <= a.min.y && a.max.y <= this.max.y && this.min.z <= a.min.z && a.max.z <= this.max.z ? !0 : !1
        },
        getParameter: function(a, b) {
            return (b || new q).set((a.x - this.min.x) / (this.max.x - this.min.x), (a.y - this.min.y) / (this.max.y - this.min.y), (a.z - this.min.z) / (this.max.z - this.min.z))
        },
        intersectsBox: function(a) {
            return a.max.x < this.min.x || a.min.x > this.max.x || a.max.y < this.min.y || a.min.y > this.max.y || a.max.z < this.min.z ||
            a.min.z > this.max.z ? !1 : !0
        },
        intersectsSphere: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new q);
                this.clampPoint(b.center, a);
                return a.distanceToSquared(b.center) <= b.radius * b.radius
            }
        }(),
        intersectsPlane: function(a) {
            var b,
                c;
            0 < a.normal.x ? (b = a.normal.x * this.min.x, c = a.normal.x * this.max.x) : (b = a.normal.x * this.max.x, c = a.normal.x * this.min.x);
            0 < a.normal.y ? (b += a.normal.y * this.min.y, c += a.normal.y * this.max.y) : (b += a.normal.y * this.max.y, c += a.normal.y * this.min.y);
            0 < a.normal.z ? (b += a.normal.z * this.min.z, c += a.normal.z *
            this.max.z) : (b += a.normal.z * this.max.z, c += a.normal.z * this.min.z);
            return b <= a.constant && c >= a.constant
        },
        clampPoint: function(a, b) {
            return (b || new q).copy(a).clamp(this.min, this.max)
        },
        distanceToPoint: function() {
            var a = new q;
            return function(b) {
                return a.copy(b).clamp(this.min, this.max).sub(b).length()
            }
        }(),
        getBoundingSphere: function() {
            var a = new q;
            return function(b) {
                b = b || new Ca;
                this.getCenter(b.center);
                b.radius = .5 * this.getSize(a).length();
                return b
            }
        }(),
        intersect: function(a) {
            this.min.max(a.min);
            this.max.min(a.max);
            this.isEmpty() && this.makeEmpty();
            return this
        },
        union: function(a) {
            this.min.min(a.min);
            this.max.max(a.max);
            return this
        },
        applyMatrix4: function() {
            var a = [new q, new q, new q, new q, new q, new q, new q, new q];
            return function(b) {
                if (this.isEmpty())
                    return this;
                a[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(b);
                a[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(b);
                a[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(b);
                a[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(b);
                a[4].set(this.max.x,
                this.min.y, this.min.z).applyMatrix4(b);
                a[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(b);
                a[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(b);
                a[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(b);
                this.setFromPoints(a);
                return this
            }
        }(),
        translate: function(a) {
            this.min.add(a);
            this.max.add(a);
            return this
        },
        equals: function(a) {
            return a.min.equals(this.min) && a.max.equals(this.max)
        }
    };
    Ca.prototype = {
        constructor: Ca,
        set: function(a, b) {
            this.center.copy(a);
            this.radius = b;
            return this
        },
        setFromPoints: function() {
            var a =
            new Ba;
            return function(b, c) {
                var d = this.center;
                void 0 !== c ? d.copy(c) : a.setFromPoints(b).getCenter(d);
                for (var e = 0, f = 0, g = b.length; f < g; f++)
                    e = Math.max(e, d.distanceToSquared(b[f]));
                this.radius = Math.sqrt(e);
                return this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.center.copy(a.center);
            this.radius = a.radius;
            return this
        },
        empty: function() {
            return 0 >= this.radius
        },
        containsPoint: function(a) {
            return a.distanceToSquared(this.center) <= this.radius * this.radius
        },
        distanceToPoint: function(a) {
            return a.distanceTo(this.center) -
            this.radius
        },
        intersectsSphere: function(a) {
            var b = this.radius + a.radius;
            return a.center.distanceToSquared(this.center) <= b * b
        },
        intersectsBox: function(a) {
            return a.intersectsSphere(this)
        },
        intersectsPlane: function(a) {
            return Math.abs(this.center.dot(a.normal) - a.constant) <= this.radius
        },
        clampPoint: function(a, b) {
            var c = this.center.distanceToSquared(a),
                d = b || new q;
            d.copy(a);
            c > this.radius * this.radius && (d.sub(this.center).normalize(), d.multiplyScalar(this.radius).add(this.center));
            return d
        },
        getBoundingBox: function(a) {
            a =
            a || new Ba;
            a.set(this.center, this.center);
            a.expandByScalar(this.radius);
            return a
        },
        applyMatrix4: function(a) {
            this.center.applyMatrix4(a);
            this.radius *= a.getMaxScaleOnAxis();
            return this
        },
        translate: function(a) {
            this.center.add(a);
            return this
        },
        equals: function(a) {
            return a.center.equals(this.center) && a.radius === this.radius
        }
    };
    Ia.prototype = {
        constructor: Ia,
        isMatrix3: !0,
        set: function(a, b, c, d, e, f, g, h, k) {
            var m = this.elements;
            m[0] = a;
            m[1] = d;
            m[2] = g;
            m[3] = b;
            m[4] = e;
            m[5] = h;
            m[6] = c;
            m[7] = f;
            m[8] = k;
            return this
        },
        identity: function() {
            this.set(1,
            0, 0, 0, 1, 0, 0, 0, 1);
            return this
        },
        clone: function() {
            return (new this.constructor).fromArray(this.elements)
        },
        copy: function(a) {
            a = a.elements;
            this.set(a[0], a[3], a[6], a[1], a[4], a[7], a[2], a[5], a[8]);
            return this
        },
        setFromMatrix4: function(a) {
            a = a.elements;
            this.set(a[0], a[4], a[8], a[1], a[5], a[9], a[2], a[6], a[10]);
            return this
        },
        applyToVector3Array: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new q);
                void 0 === c && (c = 0);
                void 0 === d && (d = b.length);
                for (var e = 0; e < d; e += 3, c += 3)
                    a.fromArray(b, c), a.applyMatrix3(this), a.toArray(b,
                    c);
                return b
            }
        }(),
        applyToBuffer: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new q);
                void 0 === c && (c = 0);
                void 0 === d && (d = b.length / b.itemSize);
                for (var e = 0; e < d; e++, c++)
                    a.x = b.getX(c), a.y = b.getY(c), a.z = b.getZ(c), a.applyMatrix3(this), b.setXYZ(c, a.x, a.y, a.z);
                return b
            }
        }(),
        multiplyScalar: function(a) {
            var b = this.elements;
            b[0] *= a;
            b[3] *= a;
            b[6] *= a;
            b[1] *= a;
            b[4] *= a;
            b[7] *= a;
            b[2] *= a;
            b[5] *= a;
            b[8] *= a;
            return this
        },
        determinant: function() {
            var a = this.elements,
                b = a[0],
                c = a[1],
                d = a[2],
                e = a[3],
                f = a[4],
                g = a[5],
                h = a[6],
                k = a[7],
                a = a[8];
            return b * f * a - b * g * k - c * e * a + c * g * h + d * e * k - d * f * h
        },
        getInverse: function(a, b) {
            a && a.isMatrix4 && console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");
            var c = a.elements,
                d = this.elements,
                e = c[0],
                f = c[1],
                g = c[2],
                h = c[3],
                k = c[4],
                m = c[5],
                l = c[6],
                n = c[7],
                c = c[8],
                p = c * k - m * n,
                r = m * l - c * h,
                q = n * h - k * l,
                t = e * p + f * r + g * q;
            if (0 === t) {
                if (!0 === b)
                    throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");
                console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");
                return this.identity()
            }
            t =
            1 / t;
            d[0] = p * t;
            d[1] = (g * n - c * f) * t;
            d[2] = (m * f - g * k) * t;
            d[3] = r * t;
            d[4] = (c * e - g * l) * t;
            d[5] = (g * h - m * e) * t;
            d[6] = q * t;
            d[7] = (f * l - n * e) * t;
            d[8] = (k * e - f * h) * t;
            return this
        },
        transpose: function() {
            var a,
                b = this.elements;
            a = b[1];
            b[1] = b[3];
            b[3] = a;
            a = b[2];
            b[2] = b[6];
            b[6] = a;
            a = b[5];
            b[5] = b[7];
            b[7] = a;
            return this
        },
        flattenToArrayOffset: function(a, b) {
            console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");
            return this.toArray(a, b)
        },
        getNormalMatrix: function(a) {
            return this.setFromMatrix4(a).getInverse(this).transpose()
        },
        transposeIntoArray: function(a) {
            var b = this.elements;
            a[0] = b[0];
            a[1] = b[3];
            a[2] = b[6];
            a[3] = b[1];
            a[4] = b[4];
            a[5] = b[7];
            a[6] = b[2];
            a[7] = b[5];
            a[8] = b[8];
            return this
        },
        fromArray: function(a, b) {
            void 0 === b && (b = 0);
            for (var c = 0; 9 > c; c++)
                this.elements[c] = a[c + b];
            return this
        },
        toArray: function(a, b) {
            void 0 === a && (a = []);
            void 0 === b && (b = 0);
            var c = this.elements;
            a[b] = c[0];
            a[b + 1] = c[1];
            a[b + 2] = c[2];
            a[b + 3] = c[3];
            a[b + 4] = c[4];
            a[b + 5] = c[5];
            a[b + 6] = c[6];
            a[b + 7] = c[7];
            a[b + 8] = c[8];
            return a
        }
    };
    va.prototype = {
        constructor: va,
        set: function(a, b) {
            this.normal.copy(a);
            this.constant = b;
            return this
        },
        setComponents: function(a, b, c, d) {
            this.normal.set(a, b, c);
            this.constant = d;
            return this
        },
        setFromNormalAndCoplanarPoint: function(a, b) {
            this.normal.copy(a);
            this.constant = -b.dot(this.normal);
            return this
        },
        setFromCoplanarPoints: function() {
            var a = new q,
                b = new q;
            return function(c, d, e) {
                d = a.subVectors(e, d).cross(b.subVectors(c, d)).normalize();
                this.setFromNormalAndCoplanarPoint(d, c);
                return this
            }
        }(),
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.normal.copy(a.normal);
            this.constant = a.constant;
            return this
        },
        normalize: function() {
            var a = 1 / this.normal.length();
            this.normal.multiplyScalar(a);
            this.constant *= a;
            return this
        },
        negate: function() {
            this.constant *= -1;
            this.normal.negate();
            return this
        },
        distanceToPoint: function(a) {
            return this.normal.dot(a) + this.constant
        },
        distanceToSphere: function(a) {
            return this.distanceToPoint(a.center) - a.radius
        },
        projectPoint: function(a, b) {
            return this.orthoPoint(a, b).sub(a).negate()
        },
        orthoPoint: function(a, b) {
            var c = this.distanceToPoint(a);
            return (b ||
            new q).copy(this.normal).multiplyScalar(c)
        },
        intersectLine: function() {
            var a = new q;
            return function(b, c) {
                var d = c || new q,
                    e = b.delta(a),
                    f = this.normal.dot(e);
                if (0 === f) {
                    if (0 === this.distanceToPoint(b.start))
                        return d.copy(b.start)
                } else
                    return f = -(b.start.dot(this.normal) + this.constant) / f, 0 > f || 1 < f ? void 0 : d.copy(e).multiplyScalar(f).add(b.start)
            }
        }(),
        intersectsLine: function(a) {
            var b = this.distanceToPoint(a.start);
            a = this.distanceToPoint(a.end);
            return 0 > b && 0 < a || 0 > a && 0 < b
        },
        intersectsBox: function(a) {
            return a.intersectsPlane(this)
        },
        intersectsSphere: function(a) {
            return a.intersectsPlane(this)
        },
        coplanarPoint: function(a) {
            return (a || new q).copy(this.normal).multiplyScalar(-this.constant)
        },
        applyMatrix4: function() {
            var a = new q,
                b = new Ia;
            return function(c, d) {
                var e = this.coplanarPoint(a).applyMatrix4(c),
                    f = d || b.getNormalMatrix(c),
                    f = this.normal.applyMatrix3(f).normalize();
                this.constant = -e.dot(f);
                return this
            }
        }(),
        translate: function(a) {
            this.constant -= a.dot(this.normal);
            return this
        },
        equals: function(a) {
            return a.normal.equals(this.normal) && a.constant ===
                this.constant
        }
    };
    nc.prototype = {
        constructor: nc,
        set: function(a, b, c, d, e, f) {
            var g = this.planes;
            g[0].copy(a);
            g[1].copy(b);
            g[2].copy(c);
            g[3].copy(d);
            g[4].copy(e);
            g[5].copy(f);
            return this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            for (var b = this.planes, c = 0; 6 > c; c++)
                b[c].copy(a.planes[c]);
            return this
        },
        setFromMatrix: function(a) {
            var b = this.planes,
                c = a.elements;
            a = c[0];
            var d = c[1],
                e = c[2],
                f = c[3],
                g = c[4],
                h = c[5],
                k = c[6],
                m = c[7],
                l = c[8],
                n = c[9],
                p = c[10],
                r = c[11],
                q = c[12],
                t = c[13],
                D = c[14],
                c = c[15];
            b[0].setComponents(f - a, m - g, r - l, c - q).normalize();
            b[1].setComponents(f + a, m + g, r + l, c + q).normalize();
            b[2].setComponents(f + d, m + h, r + n, c + t).normalize();
            b[3].setComponents(f - d, m - h, r - n, c - t).normalize();
            b[4].setComponents(f - e, m - k, r - p, c - D).normalize();
            b[5].setComponents(f + e, m + k, r + p, c + D).normalize();
            return this
        },
        intersectsObject: function() {
            var a = new Ca;
            return function(b) {
                var c = b.geometry;
                null === c.boundingSphere && c.computeBoundingSphere();
                a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);
                return this.intersectsSphere(a)
            }
        }(),
        intersectsSprite: function() {
            var a = new Ca;
            return function(b) {
                a.center.set(0, 0, 0);
                a.radius = .7071067811865476;
                a.applyMatrix4(b.matrixWorld);
                return this.intersectsSphere(a)
            }
        }(),
        intersectsSphere: function(a) {
            var b = this.planes,
                c = a.center;
            a = -a.radius;
            for (var d = 0; 6 > d; d++)
                if (b[d].distanceToPoint(c) < a)
                    return !1;
            return !0
        },
        intersectsBox: function() {
            var a = new q,
                b = new q;
            return function(c) {
                for (var d = this.planes, e = 0; 6 > e; e++) {
                    var f = d[e];
                    a.x = 0 < f.normal.x ? c.min.x : c.max.x;
                    b.x = 0 < f.normal.x ? c.max.x : c.min.x;
                    a.y = 0 < f.normal.y ?
                    c.min.y : c.max.y;
                    b.y = 0 < f.normal.y ? c.max.y : c.min.y;
                    a.z = 0 < f.normal.z ? c.min.z : c.max.z;
                    b.z = 0 < f.normal.z ? c.max.z : c.min.z;
                    var g = f.distanceToPoint(a),
                        f = f.distanceToPoint(b);
                    if (0 > g && 0 > f)
                        return !1
                }
                return !0
            }
        }(),
        containsPoint: function(a) {
            for (var b = this.planes, c = 0; 6 > c; c++)
                if (0 > b[c].distanceToPoint(a))
                    return !1;
            return !0
        }
    };
    ab.prototype = {
        constructor: ab,
        set: function(a, b) {
            this.origin.copy(a);
            this.direction.copy(b);
            return this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.origin.copy(a.origin);
            this.direction.copy(a.direction);
            return this
        },
        at: function(a, b) {
            return (b || new q).copy(this.direction).multiplyScalar(a).add(this.origin)
        },
        lookAt: function(a) {
            this.direction.copy(a).sub(this.origin).normalize();
            return this
        },
        recast: function() {
            var a = new q;
            return function(b) {
                this.origin.copy(this.at(b, a));
                return this
            }
        }(),
        closestPointToPoint: function(a, b) {
            var c = b || new q;
            c.subVectors(a, this.origin);
            var d = c.dot(this.direction);
            return 0 > d ? c.copy(this.origin) : c.copy(this.direction).multiplyScalar(d).add(this.origin)
        },
        distanceToPoint: function(a) {
            return Math.sqrt(this.distanceSqToPoint(a))
        },
        distanceSqToPoint: function() {
            var a = new q;
            return function(b) {
                var c = a.subVectors(b, this.origin).dot(this.direction);
                if (0 > c)
                    return this.origin.distanceToSquared(b);
                a.copy(this.direction).multiplyScalar(c).add(this.origin);
                return a.distanceToSquared(b)
            }
        }(),
        distanceSqToSegment: function() {
            var a = new q,
                b = new q,
                c = new q;
            return function(d, e, f, g) {
                a.copy(d).add(e).multiplyScalar(.5);
                b.copy(e).sub(d).normalize();
                c.copy(this.origin).sub(a);
                var h = .5 * d.distanceTo(e),
                    k = -this.direction.dot(b),
                    m = c.dot(this.direction),
                    l = -c.dot(b),
                    n = c.lengthSq(),
                    p = Math.abs(1 - k * k),
                    r;
                0 < p ? (d = k * l - m, e = k * m - l, r = h * p, 0 <= d ? e >= -r ? e <= r ? (h = 1 / p, d *= h, e *= h, k = d * (d + k * e + 2 * m) + e * (k * d + e + 2 * l) + n) : (e = h, d = Math.max(0, -(k * e + m)), k = -d * d + e * (e + 2 * l) + n) : (e = -h, d = Math.max(0, -(k * e + m)), k = -d * d + e * (e + 2 * l) + n) : e <= -r ? (d = Math.max(0, -(-k * h + m)), e = 0 < d ? -h : Math.min(Math.max(-h, -l), h), k = -d * d + e * (e + 2 * l) + n) : e <= r ? (d = 0, e = Math.min(Math.max(-h, -l), h), k = e * (e + 2 * l) + n) : (d = Math.max(0, -(k * h + m)), e = 0 < d ? h : Math.min(Math.max(-h,
                -l), h), k = -d * d + e * (e + 2 * l) + n)) : (e = 0 < k ? -h : h, d = Math.max(0, -(k * e + m)), k = -d * d + e * (e + 2 * l) + n);
                f && f.copy(this.direction).multiplyScalar(d).add(this.origin);
                g && g.copy(b).multiplyScalar(e).add(a);
                return k
            }
        }(),
        intersectSphere: function() {
            var a = new q;
            return function(b, c) {
                a.subVectors(b.center, this.origin);
                var d = a.dot(this.direction),
                    e = a.dot(a) - d * d,
                    f = b.radius * b.radius;
                if (e > f)
                    return null;
                f = Math.sqrt(f - e);
                e = d - f;
                d += f;
                return 0 > e && 0 > d ? null : 0 > e ? this.at(d, c) : this.at(e, c)
            }
        }(),
        intersectsSphere: function(a) {
            return this.distanceToPoint(a.center) <=
            a.radius
        },
        distanceToPlane: function(a) {
            var b = a.normal.dot(this.direction);
            if (0 === b)
                return 0 === a.distanceToPoint(this.origin) ? 0 : null;
            a = -(this.origin.dot(a.normal) + a.constant) / b;
            return 0 <= a ? a : null
        },
        intersectPlane: function(a, b) {
            var c = this.distanceToPlane(a);
            return null === c ? null : this.at(c, b)
        },
        intersectsPlane: function(a) {
            var b = a.distanceToPoint(this.origin);
            return 0 === b || 0 > a.normal.dot(this.direction) * b ? !0 : !1
        },
        intersectBox: function(a, b) {
            var c,
                d,
                e,
                f,
                g;
            d = 1 / this.direction.x;
            f = 1 / this.direction.y;
            g = 1 / this.direction.z;
            var h = this.origin;
            0 <= d ? (c = (a.min.x - h.x) * d, d *= a.max.x - h.x) : (c = (a.max.x - h.x) * d, d *= a.min.x - h.x);
            0 <= f ? (e = (a.min.y - h.y) * f, f *= a.max.y - h.y) : (e = (a.max.y - h.y) * f, f *= a.min.y - h.y);
            if (c > f || e > d)
                return null;
            if (e > c || c !== c)
                c = e;
            if (f < d || d !== d)
                d = f;
            0 <= g ? (e = (a.min.z - h.z) * g, g *= a.max.z - h.z) : (e = (a.max.z - h.z) * g, g *= a.min.z - h.z);
            if (c > g || e > d)
                return null;
            if (e > c || c !== c)
                c = e;
            if (g < d || d !== d)
                d = g;
            return 0 > d ? null : this.at(0 <= c ? c : d, b)
        },
        intersectsBox: function() {
            var a = new q;
            return function(b) {
                return null !== this.intersectBox(b, a)
            }
        }(),
        intersectTriangle: function() {
            var a =
                new q,
                b = new q,
                c = new q,
                d = new q;
            return function(e, f, g, h, k) {
                b.subVectors(f, e);
                c.subVectors(g, e);
                d.crossVectors(b, c);
                f = this.direction.dot(d);
                if (0 < f) {
                    if (h)
                        return null;
                    h = 1
                } else if (0 > f)
                    h = -1, f = -f;
                else
                    return null;
                a.subVectors(this.origin, e);
                e = h * this.direction.dot(c.crossVectors(a, c));
                if (0 > e)
                    return null;
                g = h * this.direction.dot(b.cross(a));
                if (0 > g || e + g > f)
                    return null;
                e = -h * a.dot(d);
                return 0 > e ? null : this.at(e / f, k)
            }
        }(),
        applyMatrix4: function(a) {
            this.direction.add(this.origin).applyMatrix4(a);
            this.origin.applyMatrix4(a);
            this.direction.sub(this.origin);
            this.direction.normalize();
            return this
        },
        equals: function(a) {
            return a.origin.equals(this.origin) && a.direction.equals(this.direction)
        }
    };
    bb.RotationOrders = "XYZ YZX ZXY XZY YXZ ZYX".split(" ");
    bb.DefaultOrder = "XYZ";
    bb.prototype = {
        constructor: bb,
        isEuler: !0,
        get x() {
            return this._x
        },
        set x(a) {
            this._x = a;
            this.onChangeCallback()
        },
        get y() {
            return this._y
        },
        set y(a) {
            this._y = a;
            this.onChangeCallback()
        },
        get z() {
            return this._z
        },
        set z(a) {
            this._z = a;
            this.onChangeCallback()
        },
        get order() {
            return this._order
        },
        set order(a) {
            this._order = a;
            this.onChangeCallback()
        },
        set: function(a, b, c, d) {
            this._x = a;
            this._y = b;
            this._z = c;
            this._order = d || this._order;
            this.onChangeCallback();
            return this
        },
        clone: function() {
            return new this.constructor(this._x, this._y, this._z, this._order)
        },
        copy: function(a) {
            this._x = a._x;
            this._y = a._y;
            this._z = a._z;
            this._order = a._order;
            this.onChangeCallback();
            return this
        },
        setFromRotationMatrix: function(a, b, c) {
            var d = T.clamp,
                e = a.elements;
            a = e[0];
            var f = e[4],
                g = e[8],
                h = e[1],
                k = e[5],
                m = e[9],
                l = e[2],
                n = e[6],
                e = e[10];
            b = b ||
            this._order;
            "XYZ" === b ? (this._y = Math.asin(d(g, -1, 1)), .99999 > Math.abs(g) ? (this._x = Math.atan2(-m, e), this._z = Math.atan2(-f, a)) : (this._x = Math.atan2(n, k), this._z = 0)) : "YXZ" === b ? (this._x = Math.asin(-d(m, -1, 1)), .99999 > Math.abs(m) ? (this._y = Math.atan2(g, e), this._z = Math.atan2(h, k)) : (this._y = Math.atan2(-l, a), this._z = 0)) : "ZXY" === b ? (this._x = Math.asin(d(n, -1, 1)), .99999 > Math.abs(n) ? (this._y = Math.atan2(-l, e), this._z = Math.atan2(-f, k)) : (this._y = 0, this._z = Math.atan2(h, a))) : "ZYX" === b ? (this._y = Math.asin(-d(l, -1, 1)), .99999 >
            Math.abs(l) ? (this._x = Math.atan2(n, e), this._z = Math.atan2(h, a)) : (this._x = 0, this._z = Math.atan2(-f, k))) : "YZX" === b ? (this._z = Math.asin(d(h, -1, 1)), .99999 > Math.abs(h) ? (this._x = Math.atan2(-m, k), this._y = Math.atan2(-l, a)) : (this._x = 0, this._y = Math.atan2(g, e))) : "XZY" === b ? (this._z = Math.asin(-d(f, -1, 1)), .99999 > Math.abs(f) ? (this._x = Math.atan2(n, k), this._y = Math.atan2(g, a)) : (this._x = Math.atan2(-m, e), this._y = 0)) : console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: " + b);
            this._order = b;
            if (!1 !== c)
                this.onChangeCallback();
            return this
        },
        setFromQuaternion: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new J);
                a.makeRotationFromQuaternion(b);
                return this.setFromRotationMatrix(a, c, d)
            }
        }(),
        setFromVector3: function(a, b) {
            return this.set(a.x, a.y, a.z, b || this._order)
        },
        reorder: function() {
            var a = new ba;
            return function(b) {
                a.setFromEuler(this);
                return this.setFromQuaternion(a, b)
            }
        }(),
        equals: function(a) {
            return a._x === this._x && a._y === this._y && a._z === this._z && a._order === this._order
        },
        fromArray: function(a) {
            this._x = a[0];
            this._y = a[1];
            this._z = a[2];
            void 0 !== a[3] && (this._order = a[3]);
            this.onChangeCallback();
            return this
        },
        toArray: function(a, b) {
            void 0 === a && (a = []);
            void 0 === b && (b = 0);
            a[b] = this._x;
            a[b + 1] = this._y;
            a[b + 2] = this._z;
            a[b + 3] = this._order;
            return a
        },
        toVector3: function(a) {
            return a ? a.set(this._x, this._y, this._z) : new q(this._x, this._y, this._z)
        },
        onChange: function(a) {
            this.onChangeCallback = a;
            return this
        },
        onChangeCallback: function() {}
    };
    Yc.prototype = {
        constructor: Yc,
        set: function(a) {
            this.mask = 1 << a
        },
        enable: function(a) {
            this.mask |= 1 << a
        },
        toggle: function(a) {
            this.mask ^=
            1 << a
        },
        disable: function(a) {
            this.mask &= ~(1 << a)
        },
        test: function(a) {
            return 0 !== (this.mask & a.mask)
        }
    };
    z.DefaultUp = new q(0, 1, 0);
    z.DefaultMatrixAutoUpdate = !0;
    Object.assign(z.prototype, sa.prototype, {
        isObject3D: !0,
        applyMatrix: function(a) {
            this.matrix.multiplyMatrices(a, this.matrix);
            this.matrix.decompose(this.position, this.quaternion, this.scale)
        },
        setRotationFromAxisAngle: function(a, b) {
            this.quaternion.setFromAxisAngle(a, b)
        },
        setRotationFromEuler: function(a) {
            this.quaternion.setFromEuler(a, !0)
        },
        setRotationFromMatrix: function(a) {
            this.quaternion.setFromRotationMatrix(a)
        },
        setRotationFromQuaternion: function(a) {
            this.quaternion.copy(a)
        },
        rotateOnAxis: function() {
            var a = new ba;
            return function(b, c) {
                a.setFromAxisAngle(b, c);
                this.quaternion.multiply(a);
                return this
            }
        }(),
        rotateX: function() {
            var a = new q(1, 0, 0);
            return function(b) {
                return this.rotateOnAxis(a, b)
            }
        }(),
        rotateY: function() {
            var a = new q(0, 1, 0);
            return function(b) {
                return this.rotateOnAxis(a, b)
            }
        }(),
        rotateZ: function() {
            var a = new q(0, 0, 1);
            return function(b) {
                return this.rotateOnAxis(a, b)
            }
        }(),
        translateOnAxis: function() {
            var a = new q;
            return function(b, c) {
                a.copy(b).applyQuaternion(this.quaternion);
                this.position.add(a.multiplyScalar(c));
                return this
            }
        }(),
        translateX: function() {
            var a = new q(1, 0, 0);
            return function(b) {
                return this.translateOnAxis(a, b)
            }
        }(),
        translateY: function() {
            var a = new q(0, 1, 0);
            return function(b) {
                return this.translateOnAxis(a, b)
            }
        }(),
        translateZ: function() {
            var a = new q(0, 0, 1);
            return function(b) {
                return this.translateOnAxis(a, b)
            }
        }(),
        localToWorld: function(a) {
            return a.applyMatrix4(this.matrixWorld)
        },
        worldToLocal: function() {
            var a =
            new J;
            return function(b) {
                return b.applyMatrix4(a.getInverse(this.matrixWorld))
            }
        }(),
        lookAt: function() {
            var a = new J;
            return function(b) {
                a.lookAt(b, this.position, this.up);
                this.quaternion.setFromRotationMatrix(a)
            }
        }(),
        add: function(a) {
            if (1 < arguments.length) {
                for (var b = 0; b < arguments.length; b++)
                    this.add(arguments[b]);
                return this
            }
            if (a === this)
                return console.error("THREE.Object3D.add: object can't be added as a child of itself.", a), this;
            a && a.isObject3D ? (null !== a.parent && a.parent.remove(a), a.parent = this, a.dispatchEvent({
                type: "added"
            }),
            this.children.push(a)) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", a);
            return this
        },
        remove: function(a) {
            if (1 < arguments.length)
                for (var b = 0; b < arguments.length; b++)
                    this.remove(arguments[b]);
            b = this.children.indexOf(a);
            -1 !== b && (a.parent = null, a.dispatchEvent({
                type: "removed"
            }), this.children.splice(b, 1))
        },
        getObjectById: function(a) {
            return this.getObjectByProperty("id", a)
        },
        getObjectByName: function(a) {
            return this.getObjectByProperty("name", a)
        },
        getObjectByProperty: function(a, b) {
            if (this[a] ===
            b)
                return this;
            for (var c = 0, d = this.children.length; c < d; c++) {
                var e = this.children[c].getObjectByProperty(a, b);
                if (void 0 !== e)
                    return e
            }
        },
        getWorldPosition: function(a) {
            a = a || new q;
            this.updateMatrixWorld(!0);
            return a.setFromMatrixPosition(this.matrixWorld)
        },
        getWorldQuaternion: function() {
            var a = new q,
                b = new q;
            return function(c) {
                c = c || new ba;
                this.updateMatrixWorld(!0);
                this.matrixWorld.decompose(a, c, b);
                return c
            }
        }(),
        getWorldRotation: function() {
            var a = new ba;
            return function(b) {
                b = b || new bb;
                this.getWorldQuaternion(a);
                return b.setFromQuaternion(a, this.rotation.order, !1)
            }
        }(),
        getWorldScale: function() {
            var a = new q,
                b = new ba;
            return function(c) {
                c = c || new q;
                this.updateMatrixWorld(!0);
                this.matrixWorld.decompose(a, b, c);
                return c
            }
        }(),
        getWorldDirection: function() {
            var a = new ba;
            return function(b) {
                b = b || new q;
                this.getWorldQuaternion(a);
                return b.set(0, 0, 1).applyQuaternion(a)
            }
        }(),
        raycast: function() {},
        traverse: function(a) {
            a(this);
            for (var b = this.children, c = 0, d = b.length; c < d; c++)
                b[c].traverse(a)
        },
        traverseVisible: function(a) {
            if (!1 !== this.visible) {
                a(this);
                for (var b = this.children, c = 0, d = b.length; c < d; c++)
                    b[c].traverseVisible(a)
            }
        },
        traverseAncestors: function(a) {
            var b = this.parent;
            null !== b && (a(b), b.traverseAncestors(a))
        },
        updateMatrix: function() {
            this.matrix.compose(this.position, this.quaternion, this.scale);
            this.matrixWorldNeedsUpdate = !0
        },
        updateMatrixWorld: function(a) {
            !0 === this.matrixAutoUpdate && this.updateMatrix();
            if (!0 === this.matrixWorldNeedsUpdate || !0 === a)
                null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,
                this.matrix), this.matrixWorldNeedsUpdate = !1, a = !0;
            for (var b = this.children, c = 0, d = b.length; c < d; c++)
                b[c].updateMatrixWorld(a)
        },
        toJSON: function(a) {
            function b(a) {
                var b = [],
                    c;
                for (c in a) {
                    var d = a[c];
                    delete d.metadata;
                    b.push(d)
                }
                return b
            }
            var c = void 0 === a || "" === a,
                d = {};
            c && (a = {
                geometries: {},
                materials: {},
                textures: {},
                images: {}
            }, d.metadata = {
                version: 4.4,
                type: "Object",
                generator: "Object3D.toJSON"
            });
            var e = {};
            e.uuid = this.uuid;
            e.type = this.type;
            "" !== this.name && (e.name = this.name);
            "{}" !== JSON.stringify(this.userData) && (e.userData =
            this.userData);
            !0 === this.castShadow && (e.castShadow = !0);
            !0 === this.receiveShadow && (e.receiveShadow = !0);
            !1 === this.visible && (e.visible = !1);
            e.matrix = this.matrix.toArray();
            void 0 !== this.geometry && (void 0 === a.geometries[this.geometry.uuid] && (a.geometries[this.geometry.uuid] = this.geometry.toJSON(a)), e.geometry = this.geometry.uuid);
            void 0 !== this.material && (void 0 === a.materials[this.material.uuid] && (a.materials[this.material.uuid] = this.material.toJSON(a)), e.material = this.material.uuid);
            if (0 < this.children.length) {
                e.children =
                [];
                for (var f = 0; f < this.children.length; f++)
                    e.children.push(this.children[f].toJSON(a).object)
            }
            if (c) {
                var c = b(a.geometries),
                    f = b(a.materials),
                    g = b(a.textures);
                a = b(a.images);
                0 < c.length && (d.geometries = c);
                0 < f.length && (d.materials = f);
                0 < g.length && (d.textures = g);
                0 < a.length && (d.images = a)
            }
            d.object = e;
            return d
        },
        clone: function(a) {
            return (new this.constructor).copy(this, a)
        },
        copy: function(a, b) {
            void 0 === b && (b = !0);
            this.name = a.name;
            this.up.copy(a.up);
            this.position.copy(a.position);
            this.quaternion.copy(a.quaternion);
            this.scale.copy(a.scale);
            this.matrix.copy(a.matrix);
            this.matrixWorld.copy(a.matrixWorld);
            this.matrixAutoUpdate = a.matrixAutoUpdate;
            this.matrixWorldNeedsUpdate = a.matrixWorldNeedsUpdate;
            this.visible = a.visible;
            this.castShadow = a.castShadow;
            this.receiveShadow = a.receiveShadow;
            this.frustumCulled = a.frustumCulled;
            this.renderOrder = a.renderOrder;
            this.userData = JSON.parse(JSON.stringify(a.userData));
            if (!0 === b)
                for (var c = 0; c < a.children.length; c++)
                    this.add(a.children[c].clone());
            return this
        }
    });
    var qe = 0;
    gb.prototype = {
        constructor: gb,
        set: function(a,
        b) {
            this.start.copy(a);
            this.end.copy(b);
            return this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.start.copy(a.start);
            this.end.copy(a.end);
            return this
        },
        getCenter: function(a) {
            return (a || new q).addVectors(this.start, this.end).multiplyScalar(.5)
        },
        delta: function(a) {
            return (a || new q).subVectors(this.end, this.start)
        },
        distanceSq: function() {
            return this.start.distanceToSquared(this.end)
        },
        distance: function() {
            return this.start.distanceTo(this.end)
        },
        at: function(a, b) {
            var c = b || new q;
            return this.delta(c).multiplyScalar(a).add(this.start)
        },
        closestPointToPointParameter: function() {
            var a = new q,
                b = new q;
            return function(c, d) {
                a.subVectors(c, this.start);
                b.subVectors(this.end, this.start);
                var e = b.dot(b),
                    e = b.dot(a) / e;
                d && (e = T.clamp(e, 0, 1));
                return e
            }
        }(),
        closestPointToPoint: function(a, b, c) {
            a = this.closestPointToPointParameter(a, b);
            c = c || new q;
            return this.delta(c).multiplyScalar(a).add(this.start)
        },
        applyMatrix4: function(a) {
            this.start.applyMatrix4(a);
            this.end.applyMatrix4(a);
            return this
        },
        equals: function(a) {
            return a.start.equals(this.start) &&
                a.end.equals(this.end)
        }
    };
    wa.normal = function() {
        var a = new q;
        return function(b, c, d, e) {
            e = e || new q;
            e.subVectors(d, c);
            a.subVectors(b, c);
            e.cross(a);
            b = e.lengthSq();
            return 0 < b ? e.multiplyScalar(1 / Math.sqrt(b)) : e.set(0, 0, 0)
        }
    }();
    wa.barycoordFromPoint = function() {
        var a = new q,
            b = new q,
            c = new q;
        return function(d, e, f, g, h) {
            a.subVectors(g, e);
            b.subVectors(f, e);
            c.subVectors(d, e);
            d = a.dot(a);
            e = a.dot(b);
            f = a.dot(c);
            var k = b.dot(b);
            g = b.dot(c);
            var m = d * k - e * e;
            h = h || new q;
            if (0 === m)
                return h.set(-2, -1, -1);
            m = 1 / m;
            k = (k * f - e * g) * m;
            d = (d * g -
            e * f) * m;
            return h.set(1 - k - d, d, k)
        }
    }();
    wa.containsPoint = function() {
        var a = new q;
        return function(b, c, d, e) {
            b = wa.barycoordFromPoint(b, c, d, e, a);
            return 0 <= b.x && 0 <= b.y && 1 >= b.x + b.y
        }
    }();
    wa.prototype = {
        constructor: wa,
        set: function(a, b, c) {
            this.a.copy(a);
            this.b.copy(b);
            this.c.copy(c);
            return this
        },
        setFromPointsAndIndices: function(a, b, c, d) {
            this.a.copy(a[b]);
            this.b.copy(a[c]);
            this.c.copy(a[d]);
            return this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.a.copy(a.a);
            this.b.copy(a.b);
            this.c.copy(a.c);
            return this
        },
        area: function() {
            var a = new q,
                b = new q;
            return function() {
                a.subVectors(this.c, this.b);
                b.subVectors(this.a, this.b);
                return .5 * a.cross(b).length()
            }
        }(),
        midpoint: function(a) {
            return (a || new q).addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3)
        },
        normal: function(a) {
            return wa.normal(this.a, this.b, this.c, a)
        },
        plane: function(a) {
            return (a || new va).setFromCoplanarPoints(this.a, this.b, this.c)
        },
        barycoordFromPoint: function(a, b) {
            return wa.barycoordFromPoint(a, this.a, this.b, this.c, b)
        },
        containsPoint: function(a) {
            return wa.containsPoint(a,
            this.a, this.b, this.c)
        },
        closestPointToPoint: function() {
            var a,
                b,
                c,
                d;
            return function(e, f) {
                void 0 === a && (a = new va, b = [new gb, new gb, new gb], c = new q, d = new q);
                var g = f || new q,
                    h = Infinity;
                a.setFromCoplanarPoints(this.a, this.b, this.c);
                a.projectPoint(e, c);
                if (!0 === this.containsPoint(c))
                    g.copy(c);
                else {
                    b[0].set(this.a, this.b);
                    b[1].set(this.b, this.c);
                    b[2].set(this.c, this.a);
                    for (var k = 0; k < b.length; k++) {
                        b[k].closestPointToPoint(c, !0, d);
                        var m = c.distanceToSquared(d);
                        m < h && (h = m, g.copy(d))
                    }
                }
                return g
            }
        }(),
        equals: function(a) {
            return a.a.equals(this.a) &&
                a.b.equals(this.b) && a.c.equals(this.c)
        }
    };
    ea.prototype = {
        constructor: ea,
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.a = a.a;
            this.b = a.b;
            this.c = a.c;
            this.normal.copy(a.normal);
            this.color.copy(a.color);
            this.materialIndex = a.materialIndex;
            for (var b = 0, c = a.vertexNormals.length; b < c; b++)
                this.vertexNormals[b] = a.vertexNormals[b].clone();
            b = 0;
            for (c = a.vertexColors.length; b < c; b++)
                this.vertexColors[b] = a.vertexColors[b].clone();
            return this
        }
    };
    Ma.prototype = Object.create(U.prototype);
    Ma.prototype.constructor =
    Ma;
    Ma.prototype.isMeshBasicMaterial = !0;
    Ma.prototype.copy = function(a) {
        U.prototype.copy.call(this, a);
        this.color.copy(a.color);
        this.map = a.map;
        this.aoMap = a.aoMap;
        this.aoMapIntensity = a.aoMapIntensity;
        this.specularMap = a.specularMap;
        this.alphaMap = a.alphaMap;
        this.envMap = a.envMap;
        this.combine = a.combine;
        this.reflectivity = a.reflectivity;
        this.refractionRatio = a.refractionRatio;
        this.wireframe = a.wireframe;
        this.wireframeLinewidth = a.wireframeLinewidth;
        this.wireframeLinecap = a.wireframeLinecap;
        this.wireframeLinejoin =
        a.wireframeLinejoin;
        this.skinning = a.skinning;
        this.morphTargets = a.morphTargets;
        return this
    };
    C.prototype = {
        constructor: C,
        isBufferAttribute: !0,
        set needsUpdate(a) {
            !0 === a && this.version++
        },
        setArray: function(a) {
            if (Array.isArray(a))
                throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
            this.count = void 0 !== a ? a.length / this.itemSize : 0;
            this.array = a
        },
        setDynamic: function(a) {
            this.dynamic = a;
            return this
        },
        copy: function(a) {
            this.array = new a.array.constructor(a.array);
            this.itemSize = a.itemSize;
            this.count =
            a.count;
            this.normalized = a.normalized;
            this.dynamic = a.dynamic;
            return this
        },
        copyAt: function(a, b, c) {
            a *= this.itemSize;
            c *= b.itemSize;
            for (var d = 0, e = this.itemSize; d < e; d++)
                this.array[a + d] = b.array[c + d];
            return this
        },
        copyArray: function(a) {
            this.array.set(a);
            return this
        },
        copyColorsArray: function(a) {
            for (var b = this.array, c = 0, d = 0, e = a.length; d < e; d++) {
                var f = a[d];
                void 0 === f && (console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined", d), f = new O);
                b[c++] = f.r;
                b[c++] = f.g;
                b[c++] = f.b
            }
            return this
        },
        copyIndicesArray: function(a) {
            for (var b =
                this.array, c = 0, d = 0, e = a.length; d < e; d++) {
                var f = a[d];
                b[c++] = f.a;
                b[c++] = f.b;
                b[c++] = f.c
            }
            return this
        },
        copyVector2sArray: function(a) {
            for (var b = this.array, c = 0, d = 0, e = a.length; d < e; d++) {
                var f = a[d];
                void 0 === f && (console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined", d), f = new B);
                b[c++] = f.x;
                b[c++] = f.y
            }
            return this
        },
        copyVector3sArray: function(a) {
            for (var b = this.array, c = 0, d = 0, e = a.length; d < e; d++) {
                var f = a[d];
                void 0 === f && (console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",
                d), f = new q);
                b[c++] = f.x;
                b[c++] = f.y;
                b[c++] = f.z
            }
            return this
        },
        copyVector4sArray: function(a) {
            for (var b = this.array, c = 0, d = 0, e = a.length; d < e; d++) {
                var f = a[d];
                void 0 === f && (console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined", d), f = new ga);
                b[c++] = f.x;
                b[c++] = f.y;
                b[c++] = f.z;
                b[c++] = f.w
            }
            return this
        },
        set: function(a, b) {
            void 0 === b && (b = 0);
            this.array.set(a, b);
            return this
        },
        getX: function(a) {
            return this.array[a * this.itemSize]
        },
        setX: function(a, b) {
            this.array[a * this.itemSize] = b;
            return this
        },
        getY: function(a) {
            return this.array[a *
            this.itemSize + 1]
        },
        setY: function(a, b) {
            this.array[a * this.itemSize + 1] = b;
            return this
        },
        getZ: function(a) {
            return this.array[a * this.itemSize + 2]
        },
        setZ: function(a, b) {
            this.array[a * this.itemSize + 2] = b;
            return this
        },
        getW: function(a) {
            return this.array[a * this.itemSize + 3]
        },
        setW: function(a, b) {
            this.array[a * this.itemSize + 3] = b;
            return this
        },
        setXY: function(a, b, c) {
            a *= this.itemSize;
            this.array[a + 0] = b;
            this.array[a + 1] = c;
            return this
        },
        setXYZ: function(a, b, c, d) {
            a *= this.itemSize;
            this.array[a + 0] = b;
            this.array[a + 1] = c;
            this.array[a + 2] =
            d;
            return this
        },
        setXYZW: function(a, b, c, d, e) {
            a *= this.itemSize;
            this.array[a + 0] = b;
            this.array[a + 1] = c;
            this.array[a + 2] = d;
            this.array[a + 3] = e;
            return this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        }
    };
    Object.assign(Q.prototype, sa.prototype, {
        isGeometry: !0,
        applyMatrix: function(a) {
            for (var b = (new Ia).getNormalMatrix(a), c = 0, d = this.vertices.length; c < d; c++)
                this.vertices[c].applyMatrix4(a);
            c = 0;
            for (d = this.faces.length; c < d; c++) {
                a = this.faces[c];
                a.normal.applyMatrix3(b).normalize();
                for (var e = 0, f = a.vertexNormals.length; e <
                f; e++)
                    a.vertexNormals[e].applyMatrix3(b).normalize()
            }
            null !== this.boundingBox && this.computeBoundingBox();
            null !== this.boundingSphere && this.computeBoundingSphere();
            this.normalsNeedUpdate = this.verticesNeedUpdate = !0;
            return this
        },
        rotateX: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new J);
                a.makeRotationX(b);
                this.applyMatrix(a);
                return this
            }
        }(),
        rotateY: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new J);
                a.makeRotationY(b);
                this.applyMatrix(a);
                return this
            }
        }(),
        rotateZ: function() {
            var a;
            return function(b) {
                void 0 ===
                a && (a = new J);
                a.makeRotationZ(b);
                this.applyMatrix(a);
                return this
            }
        }(),
        translate: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new J);
                a.makeTranslation(b, c, d);
                this.applyMatrix(a);
                return this
            }
        }(),
        scale: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new J);
                a.makeScale(b, c, d);
                this.applyMatrix(a);
                return this
            }
        }(),
        lookAt: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new z);
                a.lookAt(b);
                a.updateMatrix();
                this.applyMatrix(a.matrix)
            }
        }(),
        fromBufferGeometry: function(a) {
            function b(a, b, d, e) {
                var f =
                    void 0 !== g ? [l[a].clone(), l[b].clone(), l[d].clone()] : [],
                    r = void 0 !== h ? [c.colors[a].clone(), c.colors[b].clone(), c.colors[d].clone()] : [];
                e = new ea(a, b, d, f, r, e);
                c.faces.push(e);
                void 0 !== k && c.faceVertexUvs[0].push([n[a].clone(), n[b].clone(), n[d].clone()]);
                void 0 !== m && c.faceVertexUvs[1].push([p[a].clone(), p[b].clone(), p[d].clone()])
            }
            var c = this,
                d = null !== a.index ? a.index.array : void 0,
                e = a.attributes,
                f = e.position.array,
                g = void 0 !== e.normal ? e.normal.array : void 0,
                h = void 0 !== e.color ? e.color.array : void 0,
                k = void 0 !==
                e.uv ? e.uv.array : void 0,
                m = void 0 !== e.uv2 ? e.uv2.array : void 0;
            void 0 !== m && (this.faceVertexUvs[1] = []);
            for (var l = [], n = [], p = [], r = e = 0; e < f.length; e += 3, r += 2)
                c.vertices.push(new q(f[e], f[e + 1], f[e + 2])), void 0 !== g && l.push(new q(g[e], g[e + 1], g[e + 2])), void 0 !== h && c.colors.push(new O(h[e], h[e + 1], h[e + 2])), void 0 !== k && n.push(new B(k[r], k[r + 1])), void 0 !== m && p.push(new B(m[r], m[r + 1]));
            if (void 0 !== d)
                if (f = a.groups, 0 < f.length)
                    for (e = 0; e < f.length; e++)
                        for (var x = f[e], t = x.start, D = x.count, r = t, t = t + D; r < t; r += 3)
                            b(d[r], d[r + 1], d[r +
                            2], x.materialIndex);
                else
                    for (e = 0; e < d.length; e += 3)
                        b(d[e], d[e + 1], d[e + 2]);
            else
                for (e = 0; e < f.length / 3; e += 3)
                    b(e, e + 1, e + 2);
            this.computeFaceNormals();
            null !== a.boundingBox && (this.boundingBox = a.boundingBox.clone());
            null !== a.boundingSphere && (this.boundingSphere = a.boundingSphere.clone());
            return this
        },
        center: function() {
            this.computeBoundingBox();
            var a = this.boundingBox.getCenter().negate();
            this.translate(a.x, a.y, a.z);
            return a
        },
        normalize: function() {
            this.computeBoundingSphere();
            var a = this.boundingSphere.center,
                b = this.boundingSphere.radius,
                b = 0 === b ? 1 : 1 / b,
                c = new J;
            c.set(b, 0, 0, -b * a.x, 0, b, 0, -b * a.y, 0, 0, b, -b * a.z, 0, 0, 0, 1);
            this.applyMatrix(c);
            return this
        },
        computeFaceNormals: function() {
            for (var a = new q, b = new q, c = 0, d = this.faces.length; c < d; c++) {
                var e = this.faces[c],
                    f = this.vertices[e.a],
                    g = this.vertices[e.b];
                a.subVectors(this.vertices[e.c], g);
                b.subVectors(f, g);
                a.cross(b);
                a.normalize();
                e.normal.copy(a)
            }
        },
        computeVertexNormals: function(a) {
            void 0 === a && (a = !0);
            var b,
                c,
                d;
            d = Array(this.vertices.length);
            b = 0;
            for (c = this.vertices.length; b < c; b++)
                d[b] = new q;
            if (a) {
                var e,
                    f,
                    g,
                    h = new q,
                    k = new q;
                a = 0;
                for (b = this.faces.length; a < b; a++)
                    c = this.faces[a], e = this.vertices[c.a], f = this.vertices[c.b], g = this.vertices[c.c], h.subVectors(g, f), k.subVectors(e, f), h.cross(k), d[c.a].add(h), d[c.b].add(h), d[c.c].add(h)
            } else
                for (this.computeFaceNormals(), a = 0, b = this.faces.length; a < b; a++)
                    c = this.faces[a], d[c.a].add(c.normal), d[c.b].add(c.normal), d[c.c].add(c.normal);
            b = 0;
            for (c = this.vertices.length; b < c; b++)
                d[b].normalize();
            a = 0;
            for (b = this.faces.length; a < b; a++)
                c = this.faces[a], e = c.vertexNormals, 3 === e.length ?
                (e[0].copy(d[c.a]), e[1].copy(d[c.b]), e[2].copy(d[c.c])) : (e[0] = d[c.a].clone(), e[1] = d[c.b].clone(), e[2] = d[c.c].clone());
            0 < this.faces.length && (this.normalsNeedUpdate = !0)
        },
        computeFlatVertexNormals: function() {
            var a,
                b,
                c;
            this.computeFaceNormals();
            a = 0;
            for (b = this.faces.length; a < b; a++) {
                c = this.faces[a];
                var d = c.vertexNormals;
                3 === d.length ? (d[0].copy(c.normal), d[1].copy(c.normal), d[2].copy(c.normal)) : (d[0] = c.normal.clone(), d[1] = c.normal.clone(), d[2] = c.normal.clone())
            }
            0 < this.faces.length && (this.normalsNeedUpdate =
            !0)
        },
        computeMorphNormals: function() {
            var a,
                b,
                c,
                d,
                e;
            c = 0;
            for (d = this.faces.length; c < d; c++)
                for (e = this.faces[c], e.__originalFaceNormal ? e.__originalFaceNormal.copy(e.normal) : e.__originalFaceNormal = e.normal.clone(), e.__originalVertexNormals || (e.__originalVertexNormals = []), a = 0, b = e.vertexNormals.length; a < b; a++)
                    e.__originalVertexNormals[a] ? e.__originalVertexNormals[a].copy(e.vertexNormals[a]) : e.__originalVertexNormals[a] = e.vertexNormals[a].clone();
            var f = new Q;
            f.faces = this.faces;
            a = 0;
            for (b = this.morphTargets.length; a <
            b; a++) {
                if (!this.morphNormals[a]) {
                    this.morphNormals[a] = {};
                    this.morphNormals[a].faceNormals = [];
                    this.morphNormals[a].vertexNormals = [];
                    e = this.morphNormals[a].faceNormals;
                    var g = this.morphNormals[a].vertexNormals,
                        h,
                        k;
                    c = 0;
                    for (d = this.faces.length; c < d; c++)
                        h = new q, k = {
                            a: new q,
                            b: new q,
                            c: new q
                        }, e.push(h), g.push(k)
                }
                g = this.morphNormals[a];
                f.vertices = this.morphTargets[a].vertices;
                f.computeFaceNormals();
                f.computeVertexNormals();
                c = 0;
                for (d = this.faces.length; c < d; c++)
                    e = this.faces[c], h = g.faceNormals[c], k = g.vertexNormals[c],
                    h.copy(e.normal), k.a.copy(e.vertexNormals[0]), k.b.copy(e.vertexNormals[1]), k.c.copy(e.vertexNormals[2])
            }
            c = 0;
            for (d = this.faces.length; c < d; c++)
                e = this.faces[c], e.normal = e.__originalFaceNormal, e.vertexNormals = e.__originalVertexNormals
        },
        computeTangents: function() {
            console.warn("THREE.Geometry: .computeTangents() has been removed.")
        },
        computeLineDistances: function() {
            for (var a = 0, b = this.vertices, c = 0, d = b.length; c < d; c++)
                0 < c && (a += b[c].distanceTo(b[c - 1])), this.lineDistances[c] = a
        },
        computeBoundingBox: function() {
            null ===
            this.boundingBox && (this.boundingBox = new Ba);
            this.boundingBox.setFromPoints(this.vertices)
        },
        computeBoundingSphere: function() {
            null === this.boundingSphere && (this.boundingSphere = new Ca);
            this.boundingSphere.setFromPoints(this.vertices)
        },
        merge: function(a, b, c) {
            if (!1 === (a && a.isGeometry))
                console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.", a);
            else {
                var d,
                    e = this.vertices.length,
                    f = this.vertices,
                    g = a.vertices,
                    h = this.faces,
                    k = a.faces,
                    m = this.faceVertexUvs[0],
                    l = a.faceVertexUvs[0],
                    n = this.colors,
                    p = a.colors;
                void 0 === c && (c = 0);
                void 0 !== b && (d = (new Ia).getNormalMatrix(b));
                a = 0;
                for (var r = g.length; a < r; a++) {
                    var q = g[a].clone();
                    void 0 !== b && q.applyMatrix4(b);
                    f.push(q)
                }
                a = 0;
                for (r = p.length; a < r; a++)
                    n.push(p[a].clone());
                a = 0;
                for (r = k.length; a < r; a++) {
                    var g = k[a],
                        t = g.vertexNormals,
                        p = g.vertexColors,
                        n = new ea(g.a + e, g.b + e, g.c + e);
                    n.normal.copy(g.normal);
                    void 0 !== d && n.normal.applyMatrix3(d).normalize();
                    b = 0;
                    for (f = t.length; b < f; b++)
                        q = t[b].clone(), void 0 !== d && q.applyMatrix3(d).normalize(), n.vertexNormals.push(q);
                    n.color.copy(g.color);
                    b = 0;
                    for (f = p.length; b < f; b++)
                        q = p[b], n.vertexColors.push(q.clone());
                    n.materialIndex = g.materialIndex + c;
                    h.push(n)
                }
                a = 0;
                for (r = l.length; a < r; a++)
                    if (c = l[a], d = [], void 0 !== c) {
                        b = 0;
                        for (f = c.length; b < f; b++)
                            d.push(c[b].clone());
                        m.push(d)
                    }
            }
        },
        mergeMesh: function(a) {
            !1 === (a && a.isMesh) ? console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.", a) : (a.matrixAutoUpdate && a.updateMatrix(), this.merge(a.geometry, a.matrix))
        },
        mergeVertices: function() {
            var a = {},
                b = [],
                c = [],
                d,
                e = Math.pow(10, 4),
                f,
                g;
            f = 0;
            for (g = this.vertices.length; f <
            g; f++)
                d = this.vertices[f], d = Math.round(d.x * e) + "_" + Math.round(d.y * e) + "_" + Math.round(d.z * e), void 0 === a[d] ? (a[d] = f, b.push(this.vertices[f]), c[f] = b.length - 1) : c[f] = c[a[d]];
            a = [];
            f = 0;
            for (g = this.faces.length; f < g; f++)
                for (e = this.faces[f], e.a = c[e.a], e.b = c[e.b], e.c = c[e.c], e = [e.a, e.b, e.c], d = 0; 3 > d; d++)
                    if (e[d] === e[(d + 1) % 3]) {
                        a.push(f);
                        break
                    }
            for (f = a.length - 1; 0 <= f; f--)
                for (e = a[f], this.faces.splice(e, 1), c = 0, g = this.faceVertexUvs.length; c < g; c++)
                    this.faceVertexUvs[c].splice(e, 1);
            f = this.vertices.length - b.length;
            this.vertices =
            b;
            return f
        },
        sortFacesByMaterialIndex: function() {
            for (var a = this.faces, b = a.length, c = 0; c < b; c++)
                a[c]._id = c;
            a.sort(function(a, b) {
                return a.materialIndex - b.materialIndex
            });
            var d = this.faceVertexUvs[0],
                e = this.faceVertexUvs[1],
                f,
                g;
            d && d.length === b && (f = []);
            e && e.length === b && (g = []);
            for (c = 0; c < b; c++) {
                var h = a[c]._id;
                f && f.push(d[h]);
                g && g.push(e[h])
            }
            f && (this.faceVertexUvs[0] = f);
            g && (this.faceVertexUvs[1] = g)
        },
        toJSON: function() {
            function a(a, b, c) {
                return c ? a | 1 << b : a & ~(1 << b)
            }
            function b(a) {
                var b = a.x.toString() + a.y.toString() +
                a.z.toString();
                if (void 0 !== m[b])
                    return m[b];
                m[b] = k.length / 3;
                k.push(a.x, a.y, a.z);
                return m[b]
            }
            function c(a) {
                var b = a.r.toString() + a.g.toString() + a.b.toString();
                if (void 0 !== n[b])
                    return n[b];
                n[b] = l.length;
                l.push(a.getHex());
                return n[b]
            }
            function d(a) {
                var b = a.x.toString() + a.y.toString();
                if (void 0 !== r[b])
                    return r[b];
                r[b] = p.length / 2;
                p.push(a.x, a.y);
                return r[b]
            }
            var e = {
                metadata: {
                    version: 4.4,
                    type: "Geometry",
                    generator: "Geometry.toJSON"
                }
            };
            e.uuid = this.uuid;
            e.type = this.type;
            "" !== this.name && (e.name = this.name);
            if (void 0 !==
            this.parameters) {
                var f = this.parameters,
                    g;
                for (g in f)
                    void 0 !== f[g] && (e[g] = f[g]);
                return e
            }
            f = [];
            for (g = 0; g < this.vertices.length; g++) {
                var h = this.vertices[g];
                f.push(h.x, h.y, h.z)
            }
            var h = [],
                k = [],
                m = {},
                l = [],
                n = {},
                p = [],
                r = {};
            for (g = 0; g < this.faces.length; g++) {
                var q = this.faces[g],
                    t = void 0 !== this.faceVertexUvs[0][g],
                    D = 0 < q.normal.length(),
                    u = 0 < q.vertexNormals.length,
                    v = 1 !== q.color.r || 1 !== q.color.g || 1 !== q.color.b,
                    I = 0 < q.vertexColors.length,
                    y = 0,
                    y = a(y, 0, 0),
                    y = a(y, 1, !0),
                    y = a(y, 2, !1),
                    y = a(y, 3, t),
                    y = a(y, 4, D),
                    y = a(y, 5, u),
                    y = a(y, 6,
                    v),
                    y = a(y, 7, I);
                h.push(y);
                h.push(q.a, q.b, q.c);
                h.push(q.materialIndex);
                t && (t = this.faceVertexUvs[0][g], h.push(d(t[0]), d(t[1]), d(t[2])));
                D && h.push(b(q.normal));
                u && (D = q.vertexNormals, h.push(b(D[0]), b(D[1]), b(D[2])));
                v && h.push(c(q.color));
                I && (q = q.vertexColors, h.push(c(q[0]), c(q[1]), c(q[2])))
            }
            e.data = {};
            e.data.vertices = f;
            e.data.normals = k;
            0 < l.length && (e.data.colors = l);
            0 < p.length && (e.data.uvs = [p]);
            e.data.faces = h;
            return e
        },
        clone: function() {
            return (new Q).copy(this)
        },
        copy: function(a) {
            this.vertices = [];
            this.faces =
            [];
            this.faceVertexUvs = [[]];
            this.colors = [];
            for (var b = a.vertices, c = 0, d = b.length; c < d; c++)
                this.vertices.push(b[c].clone());
            b = a.colors;
            c = 0;
            for (d = b.length; c < d; c++)
                this.colors.push(b[c].clone());
            b = a.faces;
            c = 0;
            for (d = b.length; c < d; c++)
                this.faces.push(b[c].clone());
            c = 0;
            for (d = a.faceVertexUvs.length; c < d; c++) {
                b = a.faceVertexUvs[c];
                void 0 === this.faceVertexUvs[c] && (this.faceVertexUvs[c] = []);
                for (var e = 0, f = b.length; e < f; e++) {
                    for (var g = b[e], h = [], k = 0, m = g.length; k < m; k++)
                        h.push(g[k].clone());
                    this.faceVertexUvs[c].push(h)
                }
            }
            return this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    });
    var ad = 0;
    Object.assign(re.prototype, sa.prototype, {
        computeBoundingBox: Q.prototype.computeBoundingBox,
        computeBoundingSphere: Q.prototype.computeBoundingSphere,
        computeFaceNormals: function() {
            console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")
        },
        computeVertexNormals: function() {
            console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")
        },
        computeGroups: function(a) {
            var b,
                c = [],
                d;
            a = a.faces;
            for (var e = 0; e < a.length; e++) {
                var f = a[e];
                f.materialIndex !== d && (d = f.materialIndex, void 0 !== b && (b.count = 3 * e - b.start, c.push(b)), b = {
                    start: 3 * e,
                    materialIndex: d
                })
            }
            void 0 !== b && (b.count = 3 * e - b.start, c.push(b));
            this.groups = c
        },
        fromGeometry: function(a) {
            var b = a.faces,
                c = a.vertices,
                d = a.faceVertexUvs,
                e = d[0] && 0 < d[0].length,
                f = d[1] && 0 < d[1].length,
                g = a.morphTargets,
                h = g.length,
                k;
            if (0 < h) {
                k = [];
                for (var m = 0; m < h; m++)
                    k[m] = [];
                this.morphTargets.position = k
            }
            var l = a.morphNormals,
                n = l.length,
                p;
            if (0 < n) {
                p = [];
                for (m = 0; m <
                n; m++)
                    p[m] = [];
                this.morphTargets.normal = p
            }
            for (var r = a.skinIndices, q = a.skinWeights, t = r.length === c.length, D = q.length === c.length, m = 0; m < b.length; m++) {
                var u = b[m];
                this.vertices.push(c[u.a], c[u.b], c[u.c]);
                var v = u.vertexNormals;
                3 === v.length ? this.normals.push(v[0], v[1], v[2]) : (v = u.normal, this.normals.push(v, v, v));
                v = u.vertexColors;
                3 === v.length ? this.colors.push(v[0], v[1], v[2]) : (v = u.color, this.colors.push(v, v, v));
                !0 === e && (v = d[0][m], void 0 !== v ? this.uvs.push(v[0], v[1], v[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",
                m), this.uvs.push(new B, new B, new B)));
                !0 === f && (v = d[1][m], void 0 !== v ? this.uvs2.push(v[0], v[1], v[2]) : (console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ", m), this.uvs2.push(new B, new B, new B)));
                for (v = 0; v < h; v++) {
                    var I = g[v].vertices;
                    k[v].push(I[u.a], I[u.b], I[u.c])
                }
                for (v = 0; v < n; v++)
                    I = l[v].vertexNormals[m], p[v].push(I.a, I.b, I.c);
                t && this.skinIndices.push(r[u.a], r[u.b], r[u.c]);
                D && this.skinWeights.push(q[u.a], q[u.b], q[u.c])
            }
            this.computeGroups(a);
            this.verticesNeedUpdate = a.verticesNeedUpdate;
            this.normalsNeedUpdate = a.normalsNeedUpdate;
            this.colorsNeedUpdate = a.colorsNeedUpdate;
            this.uvsNeedUpdate = a.uvsNeedUpdate;
            this.groupsNeedUpdate = a.groupsNeedUpdate;
            return this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    });
    Object.assign(G.prototype, sa.prototype, {
        isBufferGeometry: !0,
        getIndex: function() {
            return this.index
        },
        setIndex: function(a) {
            this.index = a
        },
        addAttribute: function(a, b, c) {
            if (!1 === (b && b.isBufferAttribute) && !1 === (b && b.isInterleavedBufferAttribute))
                console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),
                this.addAttribute(a, new C(b, c));
            else if ("index" === a)
                console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."), this.setIndex(b);
            else
                return this.attributes[a] = b, this
        },
        getAttribute: function(a) {
            return this.attributes[a]
        },
        removeAttribute: function(a) {
            delete this.attributes[a];
            return this
        },
        addGroup: function(a, b, c) {
            this.groups.push({
                start: a,
                count: b,
                materialIndex: void 0 !== c ? c : 0
            })
        },
        clearGroups: function() {
            this.groups = []
        },
        setDrawRange: function(a, b) {
            this.drawRange.start = a;
            this.drawRange.count =
            b
        },
        applyMatrix: function(a) {
            var b = this.attributes.position;
            void 0 !== b && (a.applyToVector3Array(b.array), b.needsUpdate = !0);
            b = this.attributes.normal;
            void 0 !== b && ((new Ia).getNormalMatrix(a).applyToVector3Array(b.array), b.needsUpdate = !0);
            null !== this.boundingBox && this.computeBoundingBox();
            null !== this.boundingSphere && this.computeBoundingSphere();
            return this
        },
        rotateX: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new J);
                a.makeRotationX(b);
                this.applyMatrix(a);
                return this
            }
        }(),
        rotateY: function() {
            var a;
            return function(b) {
                void 0 ===
                a && (a = new J);
                a.makeRotationY(b);
                this.applyMatrix(a);
                return this
            }
        }(),
        rotateZ: function() {
            var a;
            return function(b) {
                void 0 === a && (a = new J);
                a.makeRotationZ(b);
                this.applyMatrix(a);
                return this
            }
        }(),
        translate: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new J);
                a.makeTranslation(b, c, d);
                this.applyMatrix(a);
                return this
            }
        }(),
        scale: function() {
            var a;
            return function(b, c, d) {
                void 0 === a && (a = new J);
                a.makeScale(b, c, d);
                this.applyMatrix(a);
                return this
            }
        }(),
        lookAt: function() {
            var a;
            return function(b) {
                void 0 === a && (a =
                new z);
                a.lookAt(b);
                a.updateMatrix();
                this.applyMatrix(a.matrix)
            }
        }(),
        center: function() {
            this.computeBoundingBox();
            var a = this.boundingBox.getCenter().negate();
            this.translate(a.x, a.y, a.z);
            return a
        },
        setFromObject: function(a) {
            var b = a.geometry;
            if (a && a.isPoints || a && a.isLine) {
                a = new ha(3 * b.vertices.length, 3);
                var c = new ha(3 * b.colors.length, 3);
                this.addAttribute("position", a.copyVector3sArray(b.vertices));
                this.addAttribute("color", c.copyColorsArray(b.colors));
                b.lineDistances && b.lineDistances.length === b.vertices.length &&
                (a = new ha(b.lineDistances.length, 1), this.addAttribute("lineDistance", a.copyArray(b.lineDistances)));
                null !== b.boundingSphere && (this.boundingSphere = b.boundingSphere.clone());
                null !== b.boundingBox && (this.boundingBox = b.boundingBox.clone())
            } else
                a && a.isMesh && b && b.isGeometry && this.fromGeometry(b);
            return this
        },
        updateFromObject: function(a) {
            var b = a.geometry;
            if (a && a.isMesh) {
                var c = b.__directGeometry;
                !0 === b.elementsNeedUpdate && (c = void 0, b.elementsNeedUpdate = !1);
                if (void 0 === c)
                    return this.fromGeometry(b);
                c.verticesNeedUpdate =
                b.verticesNeedUpdate;
                c.normalsNeedUpdate = b.normalsNeedUpdate;
                c.colorsNeedUpdate = b.colorsNeedUpdate;
                c.uvsNeedUpdate = b.uvsNeedUpdate;
                c.groupsNeedUpdate = b.groupsNeedUpdate;
                b.verticesNeedUpdate = !1;
                b.normalsNeedUpdate = !1;
                b.colorsNeedUpdate = !1;
                b.uvsNeedUpdate = !1;
                b.groupsNeedUpdate = !1;
                b = c
            }
            !0 === b.verticesNeedUpdate && (c = this.attributes.position, void 0 !== c && (c.copyVector3sArray(b.vertices), c.needsUpdate = !0), b.verticesNeedUpdate = !1);
            !0 === b.normalsNeedUpdate && (c = this.attributes.normal, void 0 !== c && (c.copyVector3sArray(b.normals),
            c.needsUpdate = !0), b.normalsNeedUpdate = !1);
            !0 === b.colorsNeedUpdate && (c = this.attributes.color, void 0 !== c && (c.copyColorsArray(b.colors), c.needsUpdate = !0), b.colorsNeedUpdate = !1);
            b.uvsNeedUpdate && (c = this.attributes.uv, void 0 !== c && (c.copyVector2sArray(b.uvs), c.needsUpdate = !0), b.uvsNeedUpdate = !1);
            b.lineDistancesNeedUpdate && (c = this.attributes.lineDistance, void 0 !== c && (c.copyArray(b.lineDistances), c.needsUpdate = !0), b.lineDistancesNeedUpdate = !1);
            b.groupsNeedUpdate && (b.computeGroups(a.geometry), this.groups =
            b.groups, b.groupsNeedUpdate = !1);
            return this
        },
        fromGeometry: function(a) {
            a.__directGeometry = (new re).fromGeometry(a);
            return this.fromDirectGeometry(a.__directGeometry)
        },
        fromDirectGeometry: function(a) {
            var b = new Float32Array(3 * a.vertices.length);
            this.addAttribute("position", (new C(b, 3)).copyVector3sArray(a.vertices));
            0 < a.normals.length && (b = new Float32Array(3 * a.normals.length), this.addAttribute("normal", (new C(b, 3)).copyVector3sArray(a.normals)));
            0 < a.colors.length && (b = new Float32Array(3 * a.colors.length),
            this.addAttribute("color", (new C(b, 3)).copyColorsArray(a.colors)));
            0 < a.uvs.length && (b = new Float32Array(2 * a.uvs.length), this.addAttribute("uv", (new C(b, 2)).copyVector2sArray(a.uvs)));
            0 < a.uvs2.length && (b = new Float32Array(2 * a.uvs2.length), this.addAttribute("uv2", (new C(b, 2)).copyVector2sArray(a.uvs2)));
            0 < a.indices.length && (b = new (65535 < a.vertices.length ? Uint32Array : Uint16Array)(3 * a.indices.length), this.setIndex((new C(b, 1)).copyIndicesArray(a.indices)));
            this.groups = a.groups;
            for (var c in a.morphTargets) {
                for (var b =
                    [], d = a.morphTargets[c], e = 0, f = d.length; e < f; e++) {
                    var g = d[e],
                        h = new ha(3 * g.length, 3);
                    b.push(h.copyVector3sArray(g))
                }
                this.morphAttributes[c] = b
            }
            0 < a.skinIndices.length && (c = new ha(4 * a.skinIndices.length, 4), this.addAttribute("skinIndex", c.copyVector4sArray(a.skinIndices)));
            0 < a.skinWeights.length && (c = new ha(4 * a.skinWeights.length, 4), this.addAttribute("skinWeight", c.copyVector4sArray(a.skinWeights)));
            null !== a.boundingSphere && (this.boundingSphere = a.boundingSphere.clone());
            null !== a.boundingBox && (this.boundingBox =
            a.boundingBox.clone());
            return this
        },
        computeBoundingBox: function() {
            null === this.boundingBox && (this.boundingBox = new Ba);
            var a = this.attributes.position.array;
            void 0 !== a ? this.boundingBox.setFromArray(a) : this.boundingBox.makeEmpty();
            (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this)
        },
        computeBoundingSphere: function() {
            var a =
                new Ba,
                b = new q;
            return function() {
                null === this.boundingSphere && (this.boundingSphere = new Ca);
                var c = this.attributes.position;
                if (c) {
                    var c = c.array,
                        d = this.boundingSphere.center;
                    a.setFromArray(c);
                    a.getCenter(d);
                    for (var e = 0, f = 0, g = c.length; f < g; f += 3)
                        b.fromArray(c, f), e = Math.max(e, d.distanceToSquared(b));
                    this.boundingSphere.radius = Math.sqrt(e);
                    isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',
                    this)
                }
            }
        }(),
        computeFaceNormals: function() {},
        computeVertexNormals: function() {
            var a = this.index,
                b = this.attributes,
                c = this.groups;
            if (b.position) {
                var d = b.position.array;
                if (void 0 === b.normal)
                    this.addAttribute("normal", new C(new Float32Array(d.length), 3));
                else
                    for (var e = b.normal.array, f = 0, g = e.length; f < g; f++)
                        e[f] = 0;
                var e = b.normal.array,
                    h,
                    k,
                    m,
                    l = new q,
                    n = new q,
                    p = new q,
                    r = new q,
                    x = new q;
                if (a) {
                    a = a.array;
                    0 === c.length && this.addGroup(0, a.length);
                    for (var t = 0, D = c.length; t < D; ++t)
                        for (f = c[t], g = f.start, h = f.count, f = g, g += h; f <
                        g; f += 3)
                            h = 3 * a[f + 0], k = 3 * a[f + 1], m = 3 * a[f + 2], l.fromArray(d, h), n.fromArray(d, k), p.fromArray(d, m), r.subVectors(p, n), x.subVectors(l, n), r.cross(x), e[h] += r.x, e[h + 1] += r.y, e[h + 2] += r.z, e[k] += r.x, e[k + 1] += r.y, e[k + 2] += r.z, e[m] += r.x, e[m + 1] += r.y, e[m + 2] += r.z
                } else
                    for (f = 0, g = d.length; f < g; f += 9)
                        l.fromArray(d, f), n.fromArray(d, f + 3), p.fromArray(d, f + 6), r.subVectors(p, n), x.subVectors(l, n), r.cross(x), e[f] = r.x, e[f + 1] = r.y, e[f + 2] = r.z, e[f + 3] = r.x, e[f + 4] = r.y, e[f + 5] = r.z, e[f + 6] = r.x, e[f + 7] = r.y, e[f + 8] = r.z;
                this.normalizeNormals();
                b.normal.needsUpdate =
                !0
            }
        },
        merge: function(a, b) {
            if (!1 === (a && a.isBufferGeometry))
                console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.", a);
            else {
                void 0 === b && (b = 0);
                var c = this.attributes,
                    d;
                for (d in c)
                    if (void 0 !== a.attributes[d])
                        for (var e = c[d].array, f = a.attributes[d], g = f.array, h = 0, f = f.itemSize * b; h < g.length; h++, f++)
                            e[f] = g[h];
                return this
            }
        },
        normalizeNormals: function() {
            for (var a = this.attributes.normal.array, b, c, d, e = 0, f = a.length; e < f; e += 3)
                b = a[e], c = a[e + 1], d = a[e + 2], b = 1 / Math.sqrt(b * b + c * c + d * d),
                a[e] *= b, a[e + 1] *= b, a[e + 2] *= b
        },
        toNonIndexed: function() {
            if (null === this.index)
                return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."), this;
            var a = new G,
                b = this.index.array,
                c = this.attributes,
                d;
            for (d in c) {
                for (var e = c[d], f = e.array, e = e.itemSize, g = new f.constructor(b.length * e), h, k = 0, m = 0, l = b.length; m < l; m++) {
                    h = b[m] * e;
                    for (var n = 0; n < e; n++)
                        g[k++] = f[h++]
                }
                a.addAttribute(d, new C(g, e))
            }
            return a
        },
        toJSON: function() {
            var a = {
                metadata: {
                    version: 4.4,
                    type: "BufferGeometry",
                    generator: "BufferGeometry.toJSON"
                }
            };
            a.uuid = this.uuid;
            a.type = this.type;
            "" !== this.name && (a.name = this.name);
            if (void 0 !== this.parameters) {
                var b = this.parameters,
                    c;
                for (c in b)
                    void 0 !== b[c] && (a[c] = b[c]);
                return a
            }
            a.data = {
                attributes: {}
            };
            var d = this.index;
            null !== d && (b = Array.prototype.slice.call(d.array), a.data.index = {
                type: d.array.constructor.name,
                array: b
            });
            d = this.attributes;
            for (c in d) {
                var e = d[c],
                    b = Array.prototype.slice.call(e.array);
                a.data.attributes[c] = {
                    itemSize: e.itemSize,
                    type: e.array.constructor.name,
                    array: b,
                    normalized: e.normalized
                }
            }
            c = this.groups;
            0 < c.length && (a.data.groups = JSON.parse(JSON.stringify(c)));
            c = this.boundingSphere;
            null !== c && (a.data.boundingSphere = {
                center: c.center.toArray(),
                radius: c.radius
            });
            return a
        },
        clone: function() {
            return (new G).copy(this)
        },
        copy: function(a) {
            var b = a.index;
            null !== b && this.setIndex(b.clone());
            var b = a.attributes,
                c;
            for (c in b)
                this.addAttribute(c, b[c].clone());
            a = a.groups;
            c = 0;
            for (b = a.length; c < b; c++) {
                var d = a[c];
                this.addGroup(d.start, d.count, d.materialIndex)
            }
            return this
        },
        dispose: function() {
            this.dispatchEvent({
                type: "dispose"
            })
        }
    });
    G.MaxIndex = 65535;
    ya.prototype = Object.assign(Object.create(z.prototype), {
        constructor: ya,
        isMesh: !0,
        setDrawMode: function(a) {
            this.drawMode = a
        },
        copy: function(a) {
            z.prototype.copy.call(this, a);
            this.drawMode = a.drawMode;
            return this
        },
        updateMorphTargets: function() {
            var a = this.geometry.morphTargets;
            if (void 0 !== a && 0 < a.length) {
                this.morphTargetInfluences = [];
                this.morphTargetDictionary = {};
                for (var b = 0, c = a.length; b < c; b++)
                    this.morphTargetInfluences.push(0), this.morphTargetDictionary[a[b].name] = b
            }
        },
        raycast: function() {
            function a(a,
            b, c, d, e, f, g) {
                wa.barycoordFromPoint(a, b, c, d, t);
                e.multiplyScalar(t.x);
                f.multiplyScalar(t.y);
                g.multiplyScalar(t.z);
                e.add(f).add(g);
                return e.clone()
            }
            function b(a, b, c, d, e, f, g) {
                var h = a.material;
                if (null === (1 === h.side ? c.intersectTriangle(f, e, d, !0, g) : c.intersectTriangle(d, e, f, 2 !== h.side, g)))
                    return null;
                u.copy(g);
                u.applyMatrix4(a.matrixWorld);
                c = b.ray.origin.distanceTo(u);
                return c < b.near || c > b.far ? null : {
                    distance: c,
                    point: u.clone(),
                    object: a
                }
            }
            function c(c, d, e, f, m, l, n, w) {
                g.fromArray(f, 3 * l);
                h.fromArray(f, 3 * n);
                k.fromArray(f,
                3 * w);
                if (c = b(c, d, e, g, h, k, D))
                    m && (p.fromArray(m, 2 * l), r.fromArray(m, 2 * n), x.fromArray(m, 2 * w), c.uv = a(D, g, h, k, p, r, x)), c.face = new ea(l, n, w, wa.normal(g, h, k)), c.faceIndex = l;
                return c
            }
            var d = new J,
                e = new ab,
                f = new Ca,
                g = new q,
                h = new q,
                k = new q,
                m = new q,
                l = new q,
                n = new q,
                p = new B,
                r = new B,
                x = new B,
                t = new q,
                D = new q,
                u = new q;
            return function(q, t) {
                var u = this.geometry,
                    E = this.material,
                    H = this.matrixWorld;
                if (void 0 !== E && (null === u.boundingSphere && u.computeBoundingSphere(), f.copy(u.boundingSphere), f.applyMatrix4(H), !1 !== q.ray.intersectsSphere(f) &&
                (d.getInverse(H), e.copy(q.ray).applyMatrix4(d), null === u.boundingBox || !1 !== e.intersectsBox(u.boundingBox)))) {
                    var F,
                        M;
                    if (u && u.isBufferGeometry) {
                        var B,
                            K,
                            E = u.index,
                            H = u.attributes,
                            u = H.position.array;
                        void 0 !== H.uv && (F = H.uv.array);
                        if (null !== E)
                            for (var H = E.array, z = 0, C = H.length; z < C; z += 3) {
                                if (E = H[z], B = H[z + 1], K = H[z + 2], M = c(this, q, e, u, F, E, B, K))
                                    M.faceIndex = Math.floor(z / 3), t.push(M)
                            }
                        else
                            for (z = 0, C = u.length; z < C; z += 9)
                                if (E = z / 3, B = E + 1, K = E + 2, M = c(this, q, e, u, F, E, B, K))
                                    M.index = E, t.push(M)
                    } else if (u && u.isGeometry) {
                        var G,
                            J,
                            H =
                            E && E.isMultiMaterial,
                            z = !0 === H ? E.materials : null,
                            C = u.vertices;
                        B = u.faces;
                        K = u.faceVertexUvs[0];
                        0 < K.length && (F = K);
                        for (var N = 0, P = B.length; N < P; N++) {
                            var R = B[N];
                            M = !0 === H ? z[R.materialIndex] : E;
                            if (void 0 !== M) {
                                K = C[R.a];
                                G = C[R.b];
                                J = C[R.c];
                                if (!0 === M.morphTargets) {
                                    M = u.morphTargets;
                                    var S = this.morphTargetInfluences;
                                    g.set(0, 0, 0);
                                    h.set(0, 0, 0);
                                    k.set(0, 0, 0);
                                    for (var Q = 0, V = M.length; Q < V; Q++) {
                                        var O = S[Q];
                                        if (0 !== O) {
                                            var L = M[Q].vertices;
                                            g.addScaledVector(m.subVectors(L[R.a], K), O);
                                            h.addScaledVector(l.subVectors(L[R.b], G), O);
                                            k.addScaledVector(n.subVectors(L[R.c],
                                            J), O)
                                        }
                                    }
                                    g.add(K);
                                    h.add(G);
                                    k.add(J);
                                    K = g;
                                    G = h;
                                    J = k
                                }
                                if (M = b(this, q, e, K, G, J, D))
                                    F && (S = F[N], p.copy(S[0]), r.copy(S[1]), x.copy(S[2]), M.uv = a(D, K, G, J, p, r, x)), M.face = R, M.faceIndex = N, t.push(M)
                            }
                        }
                    }
                }
            }
        }(),
        clone: function() {
            return (new this.constructor(this.geometry, this.material)).copy(this)
        }
    });
    hb.prototype = Object.create(G.prototype);
    hb.prototype.constructor = hb;
    ib.prototype = Object.create(G.prototype);
    ib.prototype.constructor = ib;
    Z.prototype = Object.create(z.prototype);
    Z.prototype.constructor = Z;
    Z.prototype.isCamera = !0;
    Z.prototype.getWorldDirection =
    function() {
        var a = new ba;
        return function(b) {
            b = b || new q;
            this.getWorldQuaternion(a);
            return b.set(0, 0, -1).applyQuaternion(a)
        }
    }();
    Z.prototype.lookAt = function() {
        var a = new J;
        return function(b) {
            a.lookAt(this.position, b, this.up);
            this.quaternion.setFromRotationMatrix(a)
        }
    }();
    Z.prototype.clone = function() {
        return (new this.constructor).copy(this)
    };
    Z.prototype.copy = function(a) {
        z.prototype.copy.call(this, a);
        this.matrixWorldInverse.copy(a.matrixWorldInverse);
        this.projectionMatrix.copy(a.projectionMatrix);
        return this
    };
    Ea.prototype = Object.assign(Object.create(Z.prototype), {
        constructor: Ea,
        isPerspectiveCamera: !0,
        copy: function(a) {
            Z.prototype.copy.call(this, a);
            this.fov = a.fov;
            this.zoom = a.zoom;
            this.near = a.near;
            this.far = a.far;
            this.focus = a.focus;
            this.aspect = a.aspect;
            this.view = null === a.view ? null : Object.assign({}, a.view);
            this.filmGauge = a.filmGauge;
            this.filmOffset = a.filmOffset;
            return this
        },
        setFocalLength: function(a) {
            a = .5 * this.getFilmHeight() / a;
            this.fov = 2 * T.RAD2DEG * Math.atan(a);
            this.updateProjectionMatrix()
        },
        getFocalLength: function() {
            var a =
            Math.tan(.5 * T.DEG2RAD * this.fov);
            return .5 * this.getFilmHeight() / a
        },
        getEffectiveFOV: function() {
            return 2 * T.RAD2DEG * Math.atan(Math.tan(.5 * T.DEG2RAD * this.fov) / this.zoom)
        },
        getFilmWidth: function() {
            return this.filmGauge * Math.min(this.aspect, 1)
        },
        getFilmHeight: function() {
            return this.filmGauge / Math.max(this.aspect, 1)
        },
        setViewOffset: function(a, b, c, d, e, f) {
            this.aspect = a / b;
            this.view = {
                fullWidth: a,
                fullHeight: b,
                offsetX: c,
                offsetY: d,
                width: e,
                height: f
            };
            this.updateProjectionMatrix()
        },
        clearViewOffset: function() {
            this.view =
            null;
            this.updateProjectionMatrix()
        },
        updateProjectionMatrix: function() {
            var a = this.near,
                b = a * Math.tan(.5 * T.DEG2RAD * this.fov) / this.zoom,
                c = 2 * b,
                d = this.aspect * c,
                e = -.5 * d,
                f = this.view;
            if (null !== f)
                var g = f.fullWidth,
                    h = f.fullHeight,
                    e = e + f.offsetX * d / g,
                    b = b - f.offsetY * c / h,
                    d = f.width / g * d,
                    c = f.height / h * c;
            f = this.filmOffset;
            0 !== f && (e += a * f / this.getFilmWidth());
            this.projectionMatrix.makeFrustum(e, e + d, b - c, b, a, this.far)
        },
        toJSON: function(a) {
            a = z.prototype.toJSON.call(this, a);
            a.object.fov = this.fov;
            a.object.zoom = this.zoom;
            a.object.near =
            this.near;
            a.object.far = this.far;
            a.object.focus = this.focus;
            a.object.aspect = this.aspect;
            null !== this.view && (a.object.view = Object.assign({}, this.view));
            a.object.filmGauge = this.filmGauge;
            a.object.filmOffset = this.filmOffset;
            return a
        }
    });
    Hb.prototype = Object.assign(Object.create(Z.prototype), {
        constructor: Hb,
        isOrthographicCamera: !0,
        copy: function(a) {
            Z.prototype.copy.call(this, a);
            this.left = a.left;
            this.right = a.right;
            this.top = a.top;
            this.bottom = a.bottom;
            this.near = a.near;
            this.far = a.far;
            this.zoom = a.zoom;
            this.view =
            null === a.view ? null : Object.assign({}, a.view);
            return this
        },
        setViewOffset: function(a, b, c, d, e, f) {
            this.view = {
                fullWidth: a,
                fullHeight: b,
                offsetX: c,
                offsetY: d,
                width: e,
                height: f
            };
            this.updateProjectionMatrix()
        },
        clearViewOffset: function() {
            this.view = null;
            this.updateProjectionMatrix()
        },
        updateProjectionMatrix: function() {
            var a = (this.right - this.left) / (2 * this.zoom),
                b = (this.top - this.bottom) / (2 * this.zoom),
                c = (this.right + this.left) / 2,
                d = (this.top + this.bottom) / 2,
                e = c - a,
                c = c + a,
                a = d + b,
                b = d - b;
            if (null !== this.view)
                var c = this.zoom /
                    (this.view.width / this.view.fullWidth),
                    b = this.zoom / (this.view.height / this.view.fullHeight),
                    f = (this.right - this.left) / this.view.width,
                    d = (this.top - this.bottom) / this.view.height,
                    e = e + this.view.offsetX / c * f,
                    c = e + this.view.width / c * f,
                    a = a - this.view.offsetY / b * d,
                    b = a - this.view.height / b * d;
            this.projectionMatrix.makeOrthographic(e, c, a, b, this.near, this.far)
        },
        toJSON: function(a) {
            a = z.prototype.toJSON.call(this, a);
            a.object.zoom = this.zoom;
            a.object.left = this.left;
            a.object.right = this.right;
            a.object.top = this.top;
            a.object.bottom =
            this.bottom;
            a.object.near = this.near;
            a.object.far = this.far;
            null !== this.view && (a.object.view = Object.assign({}, this.view));
            return a
        }
    });
    var sf = 0;
    Ib.prototype.isFogExp2 = !0;
    Ib.prototype.clone = function() {
        return new Ib(this.color.getHex(), this.density)
    };
    Ib.prototype.toJSON = function(a) {
        return {
            type: "FogExp2",
            color: this.color.getHex(),
            density: this.density
        }
    };
    Jb.prototype.isFog = !0;
    Jb.prototype.clone = function() {
        return new Jb(this.color.getHex(), this.near, this.far)
    };
    Jb.prototype.toJSON = function(a) {
        return {
            type: "Fog",
            color: this.color.getHex(),
            near: this.near,
            far: this.far
        }
    };
    jb.prototype = Object.create(z.prototype);
    jb.prototype.constructor = jb;
    jb.prototype.copy = function(a, b) {
        z.prototype.copy.call(this, a, b);
        null !== a.background && (this.background = a.background.clone());
        null !== a.fog && (this.fog = a.fog.clone());
        null !== a.overrideMaterial && (this.overrideMaterial = a.overrideMaterial.clone());
        this.autoUpdate = a.autoUpdate;
        this.matrixAutoUpdate = a.matrixAutoUpdate;
        return this
    };
    jb.prototype.toJSON = function(a) {
        var b = z.prototype.toJSON.call(this,
        a);
        null !== this.background && (b.object.background = this.background.toJSON(a));
        null !== this.fog && (b.object.fog = this.fog.toJSON());
        return b
    };
    Ed.prototype = Object.assign(Object.create(z.prototype), {
        constructor: Ed,
        isLensFlare: !0,
        copy: function(a) {
            z.prototype.copy.call(this, a);
            this.positionScreen.copy(a.positionScreen);
            this.customUpdateCallback = a.customUpdateCallback;
            for (var b = 0, c = a.lensFlares.length; b < c; b++)
                this.lensFlares.push(a.lensFlares[b]);
            return this
        },
        add: function(a, b, c, d, e, f) {
            void 0 === b && (b = -1);
            void 0 ===
            c && (c = 0);
            void 0 === f && (f = 1);
            void 0 === e && (e = new O(16777215));
            void 0 === d && (d = 1);
            c = Math.min(c, Math.max(0, c));
            this.lensFlares.push({
                texture: a,
                size: b,
                distance: c,
                x: 0,
                y: 0,
                z: 0,
                scale: 1,
                rotation: 0,
                opacity: f,
                color: e,
                blending: d
            })
        },
        updateLensFlares: function() {
            var a,
                b = this.lensFlares.length,
                c,
                d = 2 * -this.positionScreen.x,
                e = 2 * -this.positionScreen.y;
            for (a = 0; a < b; a++)
                c = this.lensFlares[a], c.x = this.positionScreen.x + d * c.distance, c.y = this.positionScreen.y + e * c.distance, c.wantedRotation = c.x * Math.PI * .25, c.rotation += .25 * (c.wantedRotation -
                c.rotation)
        }
    });
    kb.prototype = Object.create(U.prototype);
    kb.prototype.constructor = kb;
    kb.prototype.copy = function(a) {
        U.prototype.copy.call(this, a);
        this.color.copy(a.color);
        this.map = a.map;
        this.rotation = a.rotation;
        return this
    };
    qc.prototype = Object.assign(Object.create(z.prototype), {
        constructor: qc,
        isSprite: !0,
        raycast: function() {
            var a = new q;
            return function(b, c) {
                a.setFromMatrixPosition(this.matrixWorld);
                var d = b.ray.distanceSqToPoint(a);
                d > this.scale.x * this.scale.y / 4 || c.push({
                    distance: Math.sqrt(d),
                    point: this.position,
                    face: null,
                    object: this
                })
            }
        }(),
        clone: function() {
            return (new this.constructor(this.material)).copy(this)
        }
    });
    rc.prototype = Object.assign(Object.create(z.prototype), {
        constructor: rc,
        copy: function(a) {
            z.prototype.copy.call(this, a, !1);
            a = a.levels;
            for (var b = 0, c = a.length; b < c; b++) {
                var d = a[b];
                this.addLevel(d.object.clone(), d.distance)
            }
            return this
        },
        addLevel: function(a, b) {
            void 0 === b && (b = 0);
            b = Math.abs(b);
            for (var c = this.levels, d = 0; d < c.length && !(b < c[d].distance); d++)
                ;
            c.splice(d, 0, {
                distance: b,
                object: a
            });
            this.add(a)
        },
        getObjectForDistance: function(a) {
            for (var b =
                this.levels, c = 1, d = b.length; c < d && !(a < b[c].distance); c++)
                ;
            return b[c - 1].object
        },
        raycast: function() {
            var a = new q;
            return function(b, c) {
                a.setFromMatrixPosition(this.matrixWorld);
                var d = b.ray.origin.distanceTo(a);
                this.getObjectForDistance(d).raycast(b, c)
            }
        }(),
        update: function() {
            var a = new q,
                b = new q;
            return function(c) {
                var d = this.levels;
                if (1 < d.length) {
                    a.setFromMatrixPosition(c.matrixWorld);
                    b.setFromMatrixPosition(this.matrixWorld);
                    c = a.distanceTo(b);
                    d[0].object.visible = !0;
                    for (var e = 1, f = d.length; e < f; e++)
                        if (c >= d[e].distance)
                            d[e -
                            1].object.visible = !1, d[e].object.visible = !0;
                        else
                            break;
                    for (; e < f; e++)
                        d[e].object.visible = !1
                }
            }
        }(),
        toJSON: function(a) {
            a = z.prototype.toJSON.call(this, a);
            a.object.levels = [];
            for (var b = this.levels, c = 0, d = b.length; c < d; c++) {
                var e = b[c];
                a.object.levels.push({
                    object: e.object.uuid,
                    distance: e.distance
                })
            }
            return a
        }
    });
    lb.prototype = Object.create(da.prototype);
    lb.prototype.constructor = lb;
    lb.prototype.isDataTexture = !0;
    Object.assign(bd.prototype, {
        calculateInverses: function() {
            this.boneInverses = [];
            for (var a = 0, b = this.bones.length; a <
            b; a++) {
                var c = new J;
                this.bones[a] && c.getInverse(this.bones[a].matrixWorld);
                this.boneInverses.push(c)
            }
        },
        pose: function() {
            for (var a, b = 0, c = this.bones.length; b < c; b++)
                (a = this.bones[b]) && a.matrixWorld.getInverse(this.boneInverses[b]);
            b = 0;
            for (c = this.bones.length; b < c; b++)
                if (a = this.bones[b])
                    a.parent && a.parent.isBone ? (a.matrix.getInverse(a.parent.matrixWorld), a.matrix.multiply(a.matrixWorld)) : a.matrix.copy(a.matrixWorld), a.matrix.decompose(a.position, a.quaternion, a.scale)
        },
        update: function() {
            var a = new J;
            return function() {
                for (var b =
                    0, c = this.bones.length; b < c; b++)
                    a.multiplyMatrices(this.bones[b] ? this.bones[b].matrixWorld : this.identityMatrix, this.boneInverses[b]), a.toArray(this.boneMatrices, 16 * b);
                this.useVertexTexture && (this.boneTexture.needsUpdate = !0)
            }
        }(),
        clone: function() {
            return new bd(this.bones, this.boneInverses, this.useVertexTexture)
        }
    });
    cd.prototype = Object.assign(Object.create(z.prototype), {
        constructor: cd,
        isBone: !0,
        copy: function(a) {
            z.prototype.copy.call(this, a);
            this.skin = a.skin;
            return this
        }
    });
    dd.prototype = Object.assign(Object.create(ya.prototype),
    {
        constructor: dd,
        isSkinnedMesh: !0,
        bind: function(a, b) {
            this.skeleton = a;
            void 0 === b && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), b = this.matrixWorld);
            this.bindMatrix.copy(b);
            this.bindMatrixInverse.getInverse(b)
        },
        pose: function() {
            this.skeleton.pose()
        },
        normalizeSkinWeights: function() {
            if (this.geometry && this.geometry.isGeometry)
                for (var a = 0; a < this.geometry.skinWeights.length; a++) {
                    var b = this.geometry.skinWeights[a],
                        c = 1 / b.lengthManhattan();
                    Infinity !== c ? b.multiplyScalar(c) : b.set(1, 0, 0, 0)
                }
            else if (this.geometry &&
            this.geometry.isBufferGeometry)
                for (var b = new ga, d = this.geometry.attributes.skinWeight, a = 0; a < d.count; a++)
                    b.x = d.getX(a), b.y = d.getY(a), b.z = d.getZ(a), b.w = d.getW(a), c = 1 / b.lengthManhattan(), Infinity !== c ? b.multiplyScalar(c) : b.set(1, 0, 0, 0), d.setXYZW(a, b.x, b.y, b.z, b.w)
        },
        updateMatrixWorld: function(a) {
            ya.prototype.updateMatrixWorld.call(this, !0);
            "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.bindMatrix) : console.warn("THREE.SkinnedMesh unrecognized bindMode: " +
            this.bindMode)
        },
        clone: function() {
            return (new this.constructor(this.geometry, this.material, this.skeleton.useVertexTexture)).copy(this)
        }
    });
    oa.prototype = Object.create(U.prototype);
    oa.prototype.constructor = oa;
    oa.prototype.isLineBasicMaterial = !0;
    oa.prototype.copy = function(a) {
        U.prototype.copy.call(this, a);
        this.color.copy(a.color);
        this.linewidth = a.linewidth;
        this.linecap = a.linecap;
        this.linejoin = a.linejoin;
        return this
    };
    Ta.prototype = Object.assign(Object.create(z.prototype), {
        constructor: Ta,
        isLine: !0,
        raycast: function() {
            var a =
                new J,
                b = new ab,
                c = new Ca;
            return function(d, e) {
                var f = d.linePrecision,
                    f = f * f,
                    g = this.geometry,
                    h = this.matrixWorld;
                null === g.boundingSphere && g.computeBoundingSphere();
                c.copy(g.boundingSphere);
                c.applyMatrix4(h);
                if (!1 !== d.ray.intersectsSphere(c)) {
                    a.getInverse(h);
                    b.copy(d.ray).applyMatrix4(a);
                    var k = new q,
                        m = new q,
                        h = new q,
                        l = new q,
                        n = this && this.isLineSegments ? 2 : 1;
                    if (g && g.isBufferGeometry) {
                        var p = g.index,
                            r = g.attributes.position.array;
                        if (null !== p)
                            for (var p = p.array, g = 0, x = p.length - 1; g < x; g += n) {
                                var t = p[g + 1];
                                k.fromArray(r,
                                3 * p[g]);
                                m.fromArray(r, 3 * t);
                                t = b.distanceSqToSegment(k, m, l, h);
                                t > f || (l.applyMatrix4(this.matrixWorld), t = d.ray.origin.distanceTo(l), t < d.near || t > d.far || e.push({
                                    distance: t,
                                    point: h.clone().applyMatrix4(this.matrixWorld),
                                    index: g,
                                    face: null,
                                    faceIndex: null,
                                    object: this
                                }))
                            }
                        else
                            for (g = 0, x = r.length / 3 - 1; g < x; g += n)
                                k.fromArray(r, 3 * g), m.fromArray(r, 3 * g + 3), t = b.distanceSqToSegment(k, m, l, h), t > f || (l.applyMatrix4(this.matrixWorld), t = d.ray.origin.distanceTo(l), t < d.near || t > d.far || e.push({
                                    distance: t,
                                    point: h.clone().applyMatrix4(this.matrixWorld),
                                    index: g,
                                    face: null,
                                    faceIndex: null,
                                    object: this
                                }))
                    } else if (g && g.isGeometry)
                        for (k = g.vertices, m = k.length, g = 0; g < m - 1; g += n)
                            t = b.distanceSqToSegment(k[g], k[g + 1], l, h), t > f || (l.applyMatrix4(this.matrixWorld), t = d.ray.origin.distanceTo(l), t < d.near || t > d.far || e.push({
                                distance: t,
                                point: h.clone().applyMatrix4(this.matrixWorld),
                                index: g,
                                face: null,
                                faceIndex: null,
                                object: this
                            }))
                }
            }
        }(),
        clone: function() {
            return (new this.constructor(this.geometry, this.material)).copy(this)
        }
    });
    la.prototype = Object.assign(Object.create(Ta.prototype),
    {
        constructor: la,
        isLineSegments: !0
    });
    xa.prototype = Object.create(U.prototype);
    xa.prototype.constructor = xa;
    xa.prototype.isPointsMaterial = !0;
    xa.prototype.copy = function(a) {
        U.prototype.copy.call(this, a);
        this.color.copy(a.color);
        this.map = a.map;
        this.size = a.size;
        this.sizeAttenuation = a.sizeAttenuation;
        return this
    };
    Kb.prototype = Object.assign(Object.create(z.prototype), {
        constructor: Kb,
        isPoints: !0,
        raycast: function() {
            var a = new J,
                b = new ab,
                c = new Ca;
            return function(d, e) {
                function f(a, c) {
                    var f = b.distanceSqToPoint(a);
                    if (f < l) {
                        var h = b.closestPointToPoint(a);
                        h.applyMatrix4(k);
                        var m = d.ray.origin.distanceTo(h);
                        m < d.near || m > d.far || e.push({
                            distance: m,
                            distanceToRay: Math.sqrt(f),
                            point: h.clone(),
                            index: c,
                            face: null,
                            object: g
                        })
                    }
                }
                var g = this,
                    h = this.geometry,
                    k = this.matrixWorld,
                    m = d.params.Points.threshold;
                null === h.boundingSphere && h.computeBoundingSphere();
                c.copy(h.boundingSphere);
                c.applyMatrix4(k);
                if (!1 !== d.ray.intersectsSphere(c)) {
                    a.getInverse(k);
                    b.copy(d.ray).applyMatrix4(a);
                    var m = m / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                        l = m * m,
                        m = new q;
                    if (h && h.isBufferGeometry) {
                        var n = h.index,
                            h = h.attributes.position.array;
                        if (null !== n)
                            for (var p = n.array, n = 0, r = p.length; n < r; n++) {
                                var x = p[n];
                                m.fromArray(h, 3 * x);
                                f(m, x)
                            }
                        else
                            for (n = 0, p = h.length / 3; n < p; n++)
                                m.fromArray(h, 3 * n), f(m, n)
                    } else
                        for (m = h.vertices, n = 0, p = m.length; n < p; n++)
                            f(m[n], n)
                }
            }
        }(),
        clone: function() {
            return (new this.constructor(this.geometry, this.material)).copy(this)
        }
    });
    sc.prototype = Object.assign(Object.create(z.prototype), {
        constructor: sc
    });
    ed.prototype = Object.create(da.prototype);
    ed.prototype.constructor =
    ed;
    Lb.prototype = Object.create(da.prototype);
    Lb.prototype.constructor = Lb;
    Lb.prototype.isCompressedTexture = !0;
    fd.prototype = Object.create(da.prototype);
    fd.prototype.constructor = fd;
    tc.prototype = Object.create(da.prototype);
    tc.prototype.constructor = tc;
    tc.prototype.isDepthTexture = !0;
    Mb.prototype = Object.create(G.prototype);
    Mb.prototype.constructor = Mb;
    Nb.prototype = Object.create(G.prototype);
    Nb.prototype.constructor = Nb;
    uc.prototype = Object.create(Q.prototype);
    uc.prototype.constructor = uc;
    ua.prototype = Object.create(G.prototype);
    ua.prototype.constructor = ua;
    Ob.prototype = Object.create(ua.prototype);
    Ob.prototype.constructor = Ob;
    vc.prototype = Object.create(Q.prototype);
    vc.prototype.constructor = vc;
    Pb.prototype = Object.create(ua.prototype);
    Pb.prototype.constructor = Pb;
    wc.prototype = Object.create(Q.prototype);
    wc.prototype.constructor = wc;
    Qb.prototype = Object.create(ua.prototype);
    Qb.prototype.constructor = Qb;
    xc.prototype = Object.create(Q.prototype);
    xc.prototype.constructor = xc;
    Rb.prototype = Object.create(ua.prototype);
    Rb.prototype.constructor =
    Rb;
    yc.prototype = Object.create(Q.prototype);
    yc.prototype.constructor = yc;
    zc.prototype = Object.create(Q.prototype);
    zc.prototype.constructor = zc;
    Sb.prototype = Object.create(G.prototype);
    Sb.prototype.constructor = Sb;
    Ac.prototype = Object.create(Q.prototype);
    Ac.prototype.constructor = Ac;
    Tb.prototype = Object.create(G.prototype);
    Tb.prototype.constructor = Tb;
    Bc.prototype = Object.create(Q.prototype);
    Bc.prototype.constructor = Bc;
    Ub.prototype = Object.create(G.prototype);
    Ub.prototype.constructor = Ub;
    Cc.prototype = Object.create(Q.prototype);
    Cc.prototype.constructor = Cc;
    var ra = {
        area: function(a) {
            for (var b = a.length, c = 0, d = b - 1, e = 0; e < b; d = e++)
                c += a[d].x * a[e].y - a[e].x * a[d].y;
            return .5 * c
        },
        triangulate: function() {
            return function(a, b) {
                var c = a.length;
                if (3 > c)
                    return null;
                var d = [],
                    e = [],
                    f = [],
                    g,
                    h,
                    k;
                if (0 < ra.area(a))
                    for (h = 0; h < c; h++)
                        e[h] = h;
                else
                    for (h = 0; h < c; h++)
                        e[h] = c - 1 - h;
                var m = 2 * c;
                for (h = c - 1; 2 < c;) {
                    if (0 >= m--) {
                        console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");
                        break
                    }
                    g = h;
                    c <= g && (g = 0);
                    h = g + 1;
                    c <= h && (h = 0);
                    k = h + 1;
                    c <= k && (k = 0);
                    var l;
                    a:
                    {
                        var n,
                            p,
                            r,
                            q,
                            t,
                            D,
                            u,
                            v;
                        n = a[e[g]].x;
                        p = a[e[g]].y;
                        r = a[e[h]].x;
                        q = a[e[h]].y;
                        t = a[e[k]].x;
                        D = a[e[k]].y;
                        if (0 >= (r - n) * (D - p) - (q - p) * (t - n))
                            l = !1;
                        else {
                            var I,
                                y,
                                E,
                                H,
                                F,
                                M,
                                B,
                                z,
                                C,
                                G;
                            I = t - r;
                            y = D - q;
                            E = n - t;
                            H = p - D;
                            F = r - n;
                            M = q - p;
                            for (l = 0; l < c; l++)
                                if (u = a[e[l]].x, v = a[e[l]].y, !(u === n && v === p || u === r && v === q || u === t && v === D) && (B = u - n, z = v - p, C = u - r, G = v - q, u -= t, v -= D, C = I * G - y * C, B = F * z - M * B, z = E * v - H * u, C >= -Number.EPSILON && z >= -Number.EPSILON && B >= -Number.EPSILON)) {
                                    l = !1;
                                    break a
                                }
                            l = !0
                        }
                    }if (l) {
                        d.push([a[e[g]], a[e[h]], a[e[k]]]);
                        f.push([e[g], e[h], e[k]]);
                        g = h;
                        for (k = h + 1; k < c; g++,
                        k++)
                            e[g] = e[k];
                        c--;
                        m = 2 * c
                    }
                }
                return b ? f : d
            }
        }(),
        triangulateShape: function(a, b) {
            function c(a) {
                var b = a.length;
                2 < b && a[b - 1].equals(a[0]) && a.pop()
            }
            function d(a, b, c) {
                return a.x !== b.x ? a.x < b.x ? a.x <= c.x && c.x <= b.x : b.x <= c.x && c.x <= a.x : a.y < b.y ? a.y <= c.y && c.y <= b.y : b.y <= c.y && c.y <= a.y
            }
            function e(a, b, c, e, f) {
                var g = b.x - a.x,
                    h = b.y - a.y,
                    k = e.x - c.x,
                    m = e.y - c.y,
                    l = a.x - c.x,
                    n = a.y - c.y,
                    p = h * k - g * m,
                    q = h * l - g * n;
                if (Math.abs(p) > Number.EPSILON) {
                    if (0 < p) {
                        if (0 > q || q > p)
                            return [];
                        k = m * l - k * n;
                        if (0 > k || k > p)
                            return []
                    } else {
                        if (0 < q || q < p)
                            return [];
                        k = m * l - k * n;
                        if (0 <
                        k || k < p)
                            return []
                    }
                    if (0 === k)
                        return !f || 0 !== q && q !== p ? [a] : [];
                    if (k === p)
                        return !f || 0 !== q && q !== p ? [b] : [];
                    if (0 === q)
                        return [c];
                    if (q === p)
                        return [e];
                    f = k / p;
                    return [{
                        x: a.x + f * g,
                        y: a.y + f * h
                    }]
                }
                if (0 !== q || m * l !== k * n)
                    return [];
                h = 0 === g && 0 === h;
                k = 0 === k && 0 === m;
                if (h && k)
                    return a.x !== c.x || a.y !== c.y ? [] : [a];
                if (h)
                    return d(c, e, a) ? [a] : [];
                if (k)
                    return d(a, b, c) ? [c] : [];
                0 !== g ? (a.x < b.x ? (g = a, k = a.x, h = b, a = b.x) : (g = b, k = b.x, h = a, a = a.x), c.x < e.x ? (b = c, p = c.x, m = e, c = e.x) : (b = e, p = e.x, m = c, c = c.x)) : (a.y < b.y ? (g = a, k = a.y, h = b, a = b.y) : (g = b, k = b.y, h = a, a = a.y), c.y < e.y ? (b =
                c, p = c.y, m = e, c = e.y) : (b = e, p = e.y, m = c, c = c.y));
                return k <= p ? a < p ? [] : a === p ? f ? [] : [b] : a <= c ? [b, h] : [b, m] : k > c ? [] : k === c ? f ? [] : [g] : a <= c ? [g, h] : [g, m]
            }
            function f(a, b, c, d) {
                var e = b.x - a.x,
                    f = b.y - a.y;
                b = c.x - a.x;
                c = c.y - a.y;
                var g = d.x - a.x;
                d = d.y - a.y;
                a = e * c - f * b;
                e = e * d - f * g;
                return Math.abs(a) > Number.EPSILON ? (b = g * c - d * b, 0 < a ? 0 <= e && 0 <= b : 0 <= e || 0 <= b) : 0 < e
            }
            c(a);
            b.forEach(c);
            var g,
                h,
                k,
                m,
                l,
                n = {};
            k = a.concat();
            g = 0;
            for (h = b.length; g < h; g++)
                Array.prototype.push.apply(k, b[g]);
            g = 0;
            for (h = k.length; g < h; g++)
                l = k[g].x + ":" + k[g].y, void 0 !== n[l] && console.warn("THREE.ShapeUtils: Duplicate point",
                l, g), n[l] = g;
            g = function(a, b) {
                function c(a, b) {
                    var d = h.length - 1,
                        e = a - 1;
                    0 > e && (e = d);
                    var g = a + 1;
                    g > d && (g = 0);
                    d = f(h[a], h[e], h[g], k[b]);
                    if (!d)
                        return !1;
                    d = k.length - 1;
                    e = b - 1;
                    0 > e && (e = d);
                    g = b + 1;
                    g > d && (g = 0);
                    return (d = f(k[b], k[e], k[g], h[a])) ? !0 : !1
                }
                function d(a, b) {
                    var c,
                        f;
                    for (c = 0; c < h.length; c++)
                        if (f = c + 1, f %= h.length, f = e(a, b, h[c], h[f], !0), 0 < f.length)
                            return !0;
                    return !1
                }
                function g(a, c) {
                    var d,
                        f,
                        h,
                        k;
                    for (d = 0; d < m.length; d++)
                        for (f = b[m[d]], h = 0; h < f.length; h++)
                            if (k = h + 1, k %= f.length, k = e(a, c, f[h], f[k], !0), 0 < k.length)
                                return !0;
                    return !1
                }
                var h =
                    a.concat(),
                    k,
                    m = [],
                    l,
                    n,
                    p,
                    q,
                    w,
                    B = [],
                    z,
                    C,
                    G,
                    J = 0;
                for (l = b.length; J < l; J++)
                    m.push(J);
                z = 0;
                for (var N = 2 * m.length; 0 < m.length;) {
                    N--;
                    if (0 > N) {
                        console.log("Infinite Loop! Holes left:" + m.length + ", Probably Hole outside Shape!");
                        break
                    }
                    for (n = z; n < h.length; n++) {
                        p = h[n];
                        l = -1;
                        for (J = 0; J < m.length; J++)
                            if (q = m[J], w = p.x + ":" + p.y + ":" + q, void 0 === B[w]) {
                                k = b[q];
                                for (C = 0; C < k.length; C++)
                                    if (q = k[C], c(n, C) && !d(p, q) && !g(p, q)) {
                                        l = C;
                                        m.splice(J, 1);
                                        z = h.slice(0, n + 1);
                                        q = h.slice(n);
                                        C = k.slice(l);
                                        G = k.slice(0, l + 1);
                                        h = z.concat(C).concat(G).concat(q);
                                        z = n;
                                        break
                                    }
                                if (0 <= l)
                                    break;
                                B[w] = !0
                            }
                        if (0 <= l)
                            break
                    }
                }
                return h
            }(a, b);
            var p = ra.triangulate(g, !1);
            g = 0;
            for (h = p.length; g < h; g++)
                for (m = p[g], k = 0; 3 > k; k++)
                    l = m[k].x + ":" + m[k].y, l = n[l], void 0 !== l && (m[k] = l);
            return p.concat()
        },
        isClockWise: function(a) {
            return 0 > ra.area(a)
        },
        b2: function() {
            return function(a, b, c, d) {
                var e = 1 - a;
                return e * e * b + 2 * (1 - a) * a * c + a * a * d
            }
        }(),
        b3: function() {
            return function(a, b, c, d, e) {
                var f = 1 - a,
                    g = 1 - a;
                return f * f * f * b + 3 * g * g * a * c + 3 * (1 - a) * a * a * d + a * a * a * e
            }
        }()
    };
    za.prototype = Object.create(Q.prototype);
    za.prototype.constructor =
    za;
    za.prototype.addShapeList = function(a, b) {
        for (var c = a.length, d = 0; d < c; d++)
            this.addShape(a[d], b)
    };
    za.prototype.addShape = function(a, b) {
        function c(a, b, c) {
            b || console.error("THREE.ExtrudeGeometry: vec does not exist");
            return b.clone().multiplyScalar(c).add(a)
        }
        function d(a, b, c) {
            var d,
                e,
                f;
            e = a.x - b.x;
            f = a.y - b.y;
            d = c.x - a.x;
            var g = c.y - a.y,
                h = e * e + f * f;
            if (Math.abs(e * g - f * d) > Number.EPSILON) {
                var k = Math.sqrt(h),
                    m = Math.sqrt(d * d + g * g),
                    h = b.x - f / k;
                b = b.y + e / k;
                g = ((c.x - g / m - h) * g - (c.y + d / m - b) * d) / (e * g - f * d);
                d = h + e * g - a.x;
                e = b + f * g - a.y;
                f =
                d * d + e * e;
                if (2 >= f)
                    return new B(d, e);
                f = Math.sqrt(f / 2)
            } else
                a = !1, e > Number.EPSILON ? d > Number.EPSILON && (a = !0) : e < -Number.EPSILON ? d < -Number.EPSILON && (a = !0) : Math.sign(f) === Math.sign(g) && (a = !0), a ? (d = -f, f = Math.sqrt(h)) : (d = e, e = f, f = Math.sqrt(h / 2));
            return new B(d / f, e / f)
        }
        function e(a, b) {
            var c,
                d;
            for (L = a.length; 0 <= --L;) {
                c = L;
                d = L - 1;
                0 > d && (d = a.length - 1);
                var e,
                    f = r + 2 * l;
                for (e = 0; e < f; e++) {
                    var g = T * e,
                        h = T * (e + 1),
                        k = b + c + g,
                        g = b + d + g,
                        m = b + d + h,
                        h = b + c + h,
                        k = k + K,
                        g = g + K,
                        m = m + K,
                        h = h + K;
                    C.faces.push(new ea(k, g, h, null, null, 1));
                    C.faces.push(new ea(g,
                    m, h, null, null, 1));
                    k = u.generateSideWallUV(C, k, g, m, h);
                    C.faceVertexUvs[0].push([k[0], k[1], k[3]]);
                    C.faceVertexUvs[0].push([k[1], k[2], k[3]])
                }
            }
        }
        function f(a, b, c) {
            C.vertices.push(new q(a, b, c))
        }
        function g(a, b, c) {
            a += K;
            b += K;
            c += K;
            C.faces.push(new ea(a, b, c, null, null, 0));
            a = u.generateTopUV(C, a, b, c);
            C.faceVertexUvs[0].push(a)
        }
        var h = void 0 !== b.amount ? b.amount : 100,
            k = void 0 !== b.bevelThickness ? b.bevelThickness : 6,
            m = void 0 !== b.bevelSize ? b.bevelSize : k - 2,
            l = void 0 !== b.bevelSegments ? b.bevelSegments : 3,
            n = void 0 !== b.bevelEnabled ?
            b.bevelEnabled : !0,
            p = void 0 !== b.curveSegments ? b.curveSegments : 12,
            r = void 0 !== b.steps ? b.steps : 1,
            x = b.extrudePath,
            t,
            D = !1,
            u = void 0 !== b.UVGenerator ? b.UVGenerator : za.WorldUVGenerator,
            v,
            I,
            y,
            E;
        x && (t = x.getSpacedPoints(r), D = !0, n = !1, v = void 0 !== b.frames ? b.frames : x.computeFrenetFrames(r, !1), I = new q, y = new q, E = new q);
        n || (m = k = l = 0);
        var H,
            F,
            z,
            C = this,
            K = this.vertices.length,
            x = a.extractPoints(p),
            p = x.shape,
            G = x.holes;
        if (x = !ra.isClockWise(p)) {
            p = p.reverse();
            F = 0;
            for (z = G.length; F < z; F++)
                H = G[F], ra.isClockWise(H) && (G[F] = H.reverse());
            x = !1
        }
        var J = ra.triangulateShape(p, G),
            Q = p;
        F = 0;
        for (z = G.length; F < z; F++)
            H = G[F], p = p.concat(H);
        var O,
            N,
            P,
            R,
            S,
            T = p.length,
            V,
            U = J.length,
            x = [],
            L = 0;
        P = Q.length;
        O = P - 1;
        for (N = L + 1; L < P; L++, O++, N++)
            O === P && (O = 0), N === P && (N = 0), x[L] = d(Q[L], Q[O], Q[N]);
        var W = [],
            X,
            Z = x.concat();
        F = 0;
        for (z = G.length; F < z; F++) {
            H = G[F];
            X = [];
            L = 0;
            P = H.length;
            O = P - 1;
            for (N = L + 1; L < P; L++, O++, N++)
                O === P && (O = 0), N === P && (N = 0), X[L] = d(H[L], H[O], H[N]);
            W.push(X);
            Z = Z.concat(X)
        }
        for (O = 0; O < l; O++) {
            P = O / l;
            R = k * Math.cos(P * Math.PI / 2);
            N = m * Math.sin(P * Math.PI / 2);
            L = 0;
            for (P = Q.length; L <
            P; L++)
                S = c(Q[L], x[L], N), f(S.x, S.y, -R);
            F = 0;
            for (z = G.length; F < z; F++)
                for (H = G[F], X = W[F], L = 0, P = H.length; L < P; L++)
                    S = c(H[L], X[L], N), f(S.x, S.y, -R)
        }
        N = m;
        for (L = 0; L < T; L++)
            S = n ? c(p[L], Z[L], N) : p[L], D ? (y.copy(v.normals[0]).multiplyScalar(S.x), I.copy(v.binormals[0]).multiplyScalar(S.y), E.copy(t[0]).add(y).add(I), f(E.x, E.y, E.z)) : f(S.x, S.y, 0);
        for (P = 1; P <= r; P++)
            for (L = 0; L < T; L++)
                S = n ? c(p[L], Z[L], N) : p[L], D ? (y.copy(v.normals[P]).multiplyScalar(S.x), I.copy(v.binormals[P]).multiplyScalar(S.y), E.copy(t[P]).add(y).add(I), f(E.x, E.y,
                E.z)) : f(S.x, S.y, h / r * P);
        for (O = l - 1; 0 <= O; O--) {
            P = O / l;
            R = k * Math.cos(P * Math.PI / 2);
            N = m * Math.sin(P * Math.PI / 2);
            L = 0;
            for (P = Q.length; L < P; L++)
                S = c(Q[L], x[L], N), f(S.x, S.y, h + R);
            F = 0;
            for (z = G.length; F < z; F++)
                for (H = G[F], X = W[F], L = 0, P = H.length; L < P; L++)
                    S = c(H[L], X[L], N), D ? f(S.x, S.y + t[r - 1].y, t[r - 1].x + R) : f(S.x, S.y, h + R)
        }
        (function() {
            if (n) {
                var a = 0 * T;
                for (L = 0; L < U; L++)
                    V = J[L], g(V[2] + a, V[1] + a, V[0] + a);
                a = T * (r + 2 * l);
                for (L = 0; L < U; L++)
                    V = J[L], g(V[0] + a, V[1] + a, V[2] + a)
            } else {
                for (L = 0; L < U; L++)
                    V = J[L], g(V[2], V[1], V[0]);
                for (L = 0; L < U; L++)
                    V = J[L], g(V[0] +
                    T * r, V[1] + T * r, V[2] + T * r)
            }
        })();
        (function() {
            var a = 0;
            e(Q, a);
            a += Q.length;
            F = 0;
            for (z = G.length; F < z; F++)
                H = G[F], e(H, a), a += H.length
        })()
    };
    za.WorldUVGenerator = {
        generateTopUV: function(a, b, c, d) {
            a = a.vertices;
            b = a[b];
            c = a[c];
            d = a[d];
            return [new B(b.x, b.y), new B(c.x, c.y), new B(d.x, d.y)]
        },
        generateSideWallUV: function(a, b, c, d, e) {
            a = a.vertices;
            b = a[b];
            c = a[c];
            d = a[d];
            e = a[e];
            return .01 > Math.abs(b.y - c.y) ? [new B(b.x, 1 - b.z), new B(c.x, 1 - c.z), new B(d.x, 1 - d.z), new B(e.x, 1 - e.z)] : [new B(b.y, 1 - b.z), new B(c.y, 1 - c.z), new B(d.y, 1 - d.z), new B(e.y,
            1 - e.z)]
        }
    };
    Dc.prototype = Object.create(za.prototype);
    Dc.prototype.constructor = Dc;
    mb.prototype = Object.create(G.prototype);
    mb.prototype.constructor = mb;
    Vb.prototype = Object.create(Q.prototype);
    Vb.prototype.constructor = Vb;
    Wb.prototype = Object.create(G.prototype);
    Wb.prototype.constructor = Wb;
    Ec.prototype = Object.create(Q.prototype);
    Ec.prototype.constructor = Ec;
    Fc.prototype = Object.create(Q.prototype);
    Fc.prototype.constructor = Fc;
    Xb.prototype = Object.create(G.prototype);
    Xb.prototype.constructor = Xb;
    Gc.prototype = Object.create(Q.prototype);
    Gc.prototype.constructor = Gc;
    cb.prototype = Object.create(Q.prototype);
    cb.prototype.constructor = cb;
    cb.prototype.addShapeList = function(a, b) {
        for (var c = 0, d = a.length; c < d; c++)
            this.addShape(a[c], b);
        return this
    };
    cb.prototype.addShape = function(a, b) {
        void 0 === b && (b = {});
        var c = b.material,
            d = void 0 === b.UVGenerator ? za.WorldUVGenerator : b.UVGenerator,
            e,
            f,
            g,
            h = this.vertices.length;
        e = a.extractPoints(void 0 !== b.curveSegments ? b.curveSegments : 12);
        var k = e.shape,
            m = e.holes;
        if (!ra.isClockWise(k))
            for (k = k.reverse(), e = 0, f = m.length; e <
            f; e++)
                g = m[e], ra.isClockWise(g) && (m[e] = g.reverse());
        var l = ra.triangulateShape(k, m);
        e = 0;
        for (f = m.length; e < f; e++)
            g = m[e], k = k.concat(g);
        m = k.length;
        f = l.length;
        for (e = 0; e < m; e++)
            g = k[e], this.vertices.push(new q(g.x, g.y, 0));
        for (e = 0; e < f; e++)
            m = l[e], k = m[0] + h, g = m[1] + h, m = m[2] + h, this.faces.push(new ea(k, g, m, null, null, c)), this.faceVertexUvs[0].push(d.generateTopUV(this, k, g, m))
    };
    Yb.prototype = Object.create(G.prototype);
    Yb.prototype.constructor = Yb;
    Ua.prototype = Object.create(G.prototype);
    Ua.prototype.constructor = Ua;
    nb.prototype =
    Object.create(Q.prototype);
    nb.prototype.constructor = nb;
    Hc.prototype = Object.create(nb.prototype);
    Hc.prototype.constructor = Hc;
    Ic.prototype = Object.create(Ua.prototype);
    Ic.prototype.constructor = Ic;
    Zb.prototype = Object.create(G.prototype);
    Zb.prototype.constructor = Zb;
    Jc.prototype = Object.create(Q.prototype);
    Jc.prototype.constructor = Jc;
    ob.prototype = Object.create(Q.prototype);
    ob.prototype.constructor = ob;
    var Na = Object.freeze({
        WireframeGeometry: Mb,
        ParametricGeometry: uc,
        ParametricBufferGeometry: Nb,
        TetrahedronGeometry: vc,
        TetrahedronBufferGeometry: Ob,
        OctahedronGeometry: wc,
        OctahedronBufferGeometry: Pb,
        IcosahedronGeometry: xc,
        IcosahedronBufferGeometry: Qb,
        DodecahedronGeometry: yc,
        DodecahedronBufferGeometry: Rb,
        PolyhedronGeometry: zc,
        PolyhedronBufferGeometry: ua,
        TubeGeometry: Ac,
        TubeBufferGeometry: Sb,
        TorusKnotGeometry: Bc,
        TorusKnotBufferGeometry: Tb,
        TorusGeometry: Cc,
        TorusBufferGeometry: Ub,
        TextGeometry: Dc,
        SphereBufferGeometry: mb,
        SphereGeometry: Vb,
        RingGeometry: Ec,
        RingBufferGeometry: Wb,
        PlaneBufferGeometry: ib,
        PlaneGeometry: Fc,
        LatheGeometry: Gc,
        LatheBufferGeometry: Xb,
        ShapeGeometry: cb,
        ExtrudeGeometry: za,
        EdgesGeometry: Yb,
        ConeGeometry: Hc,
        ConeBufferGeometry: Ic,
        CylinderGeometry: nb,
        CylinderBufferGeometry: Ua,
        CircleBufferGeometry: Zb,
        CircleGeometry: Jc,
        BoxBufferGeometry: hb,
        BoxGeometry: ob
    });
    $b.prototype = Object.create(Fa.prototype);
    $b.prototype.constructor = $b;
    $b.prototype.isShadowMaterial = !0;
    ac.prototype = Object.create(Fa.prototype);
    ac.prototype.constructor = ac;
    ac.prototype.isRawShaderMaterial = !0;
    Kc.prototype = {
        constructor: Kc,
        isMultiMaterial: !0,
        toJSON: function(a) {
            for (var b =
                {
                    metadata: {
                        version: 4.2,
                        type: "material",
                        generator: "MaterialExporter"
                    },
                    uuid: this.uuid,
                    type: this.type,
                    materials: []
                }, c = this.materials, d = 0, e = c.length; d < e; d++) {
                var f = c[d].toJSON(a);
                delete f.metadata;
                b.materials.push(f)
            }
            b.visible = this.visible;
            return b
        },
        clone: function() {
            for (var a = new this.constructor, b = 0; b < this.materials.length; b++)
                a.materials.push(this.materials[b].clone());
            a.visible = this.visible;
            return a
        }
    };
    Oa.prototype = Object.create(U.prototype);
    Oa.prototype.constructor = Oa;
    Oa.prototype.isMeshStandardMaterial =
    !0;
    Oa.prototype.copy = function(a) {
        U.prototype.copy.call(this, a);
        this.defines = {
            STANDARD: ""
        };
        this.color.copy(a.color);
        this.roughness = a.roughness;
        this.metalness = a.metalness;
        this.map = a.map;
        this.lightMap = a.lightMap;
        this.lightMapIntensity = a.lightMapIntensity;
        this.aoMap = a.aoMap;
        this.aoMapIntensity = a.aoMapIntensity;
        this.emissive.copy(a.emissive);
        this.emissiveMap = a.emissiveMap;
        this.emissiveIntensity = a.emissiveIntensity;
        this.bumpMap = a.bumpMap;
        this.bumpScale = a.bumpScale;
        this.normalMap = a.normalMap;
        this.normalScale.copy(a.normalScale);
        this.displacementMap = a.displacementMap;
        this.displacementScale = a.displacementScale;
        this.displacementBias = a.displacementBias;
        this.roughnessMap = a.roughnessMap;
        this.metalnessMap = a.metalnessMap;
        this.alphaMap = a.alphaMap;
        this.envMap = a.envMap;
        this.envMapIntensity = a.envMapIntensity;
        this.refractionRatio = a.refractionRatio;
        this.wireframe = a.wireframe;
        this.wireframeLinewidth = a.wireframeLinewidth;
        this.wireframeLinecap = a.wireframeLinecap;
        this.wireframeLinejoin = a.wireframeLinejoin;
        this.skinning = a.skinning;
        this.morphTargets =
        a.morphTargets;
        this.morphNormals = a.morphNormals;
        return this
    };
    pb.prototype = Object.create(Oa.prototype);
    pb.prototype.constructor = pb;
    pb.prototype.isMeshPhysicalMaterial = !0;
    pb.prototype.copy = function(a) {
        Oa.prototype.copy.call(this, a);
        this.defines = {
            PHYSICAL: ""
        };
        this.reflectivity = a.reflectivity;
        this.clearCoat = a.clearCoat;
        this.clearCoatRoughness = a.clearCoatRoughness;
        return this
    };
    db.prototype = Object.create(U.prototype);
    db.prototype.constructor = db;
    db.prototype.isMeshPhongMaterial = !0;
    db.prototype.copy = function(a) {
        U.prototype.copy.call(this,
        a);
        this.color.copy(a.color);
        this.specular.copy(a.specular);
        this.shininess = a.shininess;
        this.map = a.map;
        this.lightMap = a.lightMap;
        this.lightMapIntensity = a.lightMapIntensity;
        this.aoMap = a.aoMap;
        this.aoMapIntensity = a.aoMapIntensity;
        this.emissive.copy(a.emissive);
        this.emissiveMap = a.emissiveMap;
        this.emissiveIntensity = a.emissiveIntensity;
        this.bumpMap = a.bumpMap;
        this.bumpScale = a.bumpScale;
        this.normalMap = a.normalMap;
        this.normalScale.copy(a.normalScale);
        this.displacementMap = a.displacementMap;
        this.displacementScale =
        a.displacementScale;
        this.displacementBias = a.displacementBias;
        this.specularMap = a.specularMap;
        this.alphaMap = a.alphaMap;
        this.envMap = a.envMap;
        this.combine = a.combine;
        this.reflectivity = a.reflectivity;
        this.refractionRatio = a.refractionRatio;
        this.wireframe = a.wireframe;
        this.wireframeLinewidth = a.wireframeLinewidth;
        this.wireframeLinecap = a.wireframeLinecap;
        this.wireframeLinejoin = a.wireframeLinejoin;
        this.skinning = a.skinning;
        this.morphTargets = a.morphTargets;
        this.morphNormals = a.morphNormals;
        return this
    };
    qb.prototype =
    Object.create(U.prototype);
    qb.prototype.constructor = qb;
    qb.prototype.isMeshNormalMaterial = !0;
    qb.prototype.copy = function(a) {
        U.prototype.copy.call(this, a);
        this.wireframe = a.wireframe;
        this.wireframeLinewidth = a.wireframeLinewidth;
        return this
    };
    rb.prototype = Object.create(U.prototype);
    rb.prototype.constructor = rb;
    rb.prototype.isMeshLambertMaterial = !0;
    rb.prototype.copy = function(a) {
        U.prototype.copy.call(this, a);
        this.color.copy(a.color);
        this.map = a.map;
        this.lightMap = a.lightMap;
        this.lightMapIntensity = a.lightMapIntensity;
        this.aoMap = a.aoMap;
        this.aoMapIntensity = a.aoMapIntensity;
        this.emissive.copy(a.emissive);
        this.emissiveMap = a.emissiveMap;
        this.emissiveIntensity = a.emissiveIntensity;
        this.specularMap = a.specularMap;
        this.alphaMap = a.alphaMap;
        this.envMap = a.envMap;
        this.combine = a.combine;
        this.reflectivity = a.reflectivity;
        this.refractionRatio = a.refractionRatio;
        this.wireframe = a.wireframe;
        this.wireframeLinewidth = a.wireframeLinewidth;
        this.wireframeLinecap = a.wireframeLinecap;
        this.wireframeLinejoin = a.wireframeLinejoin;
        this.skinning =
        a.skinning;
        this.morphTargets = a.morphTargets;
        this.morphNormals = a.morphNormals;
        return this
    };
    sb.prototype = Object.create(U.prototype);
    sb.prototype.constructor = sb;
    sb.prototype.isLineDashedMaterial = !0;
    sb.prototype.copy = function(a) {
        U.prototype.copy.call(this, a);
        this.color.copy(a.color);
        this.linewidth = a.linewidth;
        this.scale = a.scale;
        this.dashSize = a.dashSize;
        this.gapSize = a.gapSize;
        return this
    };
    var Df = Object.freeze({
            ShadowMaterial: $b,
            SpriteMaterial: kb,
            RawShaderMaterial: ac,
            ShaderMaterial: Fa,
            PointsMaterial: xa,
            MultiMaterial: Kc,
            MeshPhysicalMaterial: pb,
            MeshStandardMaterial: Oa,
            MeshPhongMaterial: db,
            MeshNormalMaterial: qb,
            MeshLambertMaterial: rb,
            MeshDepthMaterial: Za,
            MeshBasicMaterial: Ma,
            LineDashedMaterial: sb,
            LineBasicMaterial: oa,
            Material: U
        }),
        ce = {
            enabled: !1,
            files: {},
            add: function(a, b) {
                !1 !== this.enabled && (this.files[a] = b)
            },
            get: function(a) {
                if (!1 !== this.enabled)
                    return this.files[a]
            },
            remove: function(a) {
                delete this.files[a]
            },
            clear: function() {
                this.files = {}
            }
        },
        Ga = new Fd;
    Object.assign(Ja.prototype, {
        load: function(a, b, c, d) {
            void 0 ===
            a && (a = "");
            void 0 !== this.path && (a = this.path + a);
            var e = this,
                f = ce.get(a);
            if (void 0 !== f)
                return e.manager.itemStart(a), setTimeout(function() {
                    b && b(f);
                    e.manager.itemEnd(a)
                }, 0), f;
            var g = a.match(/^data:(.*?)(;base64)?,(.*)$/);
            if (g) {
                var h = g[1],
                    k = !!g[2],
                    g = g[3],
                    g = window.decodeURIComponent(g);
                k && (g = window.atob(g));
                try {
                    var m,
                        l = (this.responseType || "").toLowerCase();
                    switch (l) {
                    case "arraybuffer":
                    case "blob":
                        m = new ArrayBuffer(g.length);
                        for (var n = new Uint8Array(m), k = 0; k < g.length; k++)
                            n[k] = g.charCodeAt(k);
                        "blob" === l && (m =
                        new Blob([m], {
                            type: h
                        }));
                        break;
                    case "document":
                        m = (new DOMParser).parseFromString(g, h);
                        break;
                    case "json":
                        m = JSON.parse(g);
                        break;
                    default:
                        m = g
                    }
                    window.setTimeout(function() {
                        b && b(m);
                        e.manager.itemEnd(a)
                    }, 0)
                } catch (q) {
                    window.setTimeout(function() {
                        d && d(q);
                        e.manager.itemError(a)
                    }, 0)
                }
            } else {
                var p = new XMLHttpRequest;
                p.open("GET", a, !0);
                p.addEventListener("load", function(c) {
                    var f = c.target.response;
                    ce.add(a, f);
                    200 === this.status ? (b && b(f), e.manager.itemEnd(a)) : 0 === this.status ? (console.warn("THREE.XHRLoader: HTTP Status 0 received."),
                    b && b(f), e.manager.itemEnd(a)) : (d && d(c), e.manager.itemError(a))
                }, !1);
                void 0 !== c && p.addEventListener("progress", function(a) {
                    c(a)
                }, !1);
                p.addEventListener("error", function(b) {
                    d && d(b);
                    e.manager.itemError(a)
                }, !1);
                void 0 !== this.responseType && (p.responseType = this.responseType);
                void 0 !== this.withCredentials && (p.withCredentials = this.withCredentials);
                p.overrideMimeType && p.overrideMimeType("text/plain");
                p.send(null)
            }
            e.manager.itemStart(a);
            return p
        },
        setPath: function(a) {
            this.path = a;
            return this
        },
        setResponseType: function(a) {
            this.responseType =
            a;
            return this
        },
        setWithCredentials: function(a) {
            this.withCredentials = a;
            return this
        }
    });
    Object.assign(we.prototype, {
        load: function(a, b, c, d) {
            function e(e) {
                k.load(a[e], function(a) {
                    a = f._parser(a, !0);
                    g[e] = {
                        width: a.width,
                        height: a.height,
                        format: a.format,
                        mipmaps: a.mipmaps
                    };
                    m += 1;
                    6 === m && (1 === a.mipmapCount && (h.minFilter = 1006), h.format = a.format, h.needsUpdate = !0, b && b(h))
                }, c, d)
            }
            var f = this,
                g = [],
                h = new Lb;
            h.image = g;
            var k = new Ja(this.manager);
            k.setPath(this.path);
            k.setResponseType("arraybuffer");
            if (Array.isArray(a))
                for (var m =
                    0, l = 0, n = a.length; l < n; ++l)
                    e(l);
            else
                k.load(a, function(a) {
                    a = f._parser(a, !0);
                    if (a.isCubemap)
                        for (var c = a.mipmaps.length / a.mipmapCount, d = 0; d < c; d++) {
                            g[d] = {
                                mipmaps: []
                            };
                            for (var e = 0; e < a.mipmapCount; e++)
                                g[d].mipmaps.push(a.mipmaps[d * a.mipmapCount + e]), g[d].format = a.format, g[d].width = a.width, g[d].height = a.height
                        }
                    else
                        h.image.width = a.width, h.image.height = a.height, h.mipmaps = a.mipmaps;
                    1 === a.mipmapCount && (h.minFilter = 1006);
                    h.format = a.format;
                    h.needsUpdate = !0;
                    b && b(h)
                }, c, d);
            return h
        },
        setPath: function(a) {
            this.path = a;
            return this
        }
    });
    Object.assign(Gd.prototype, {
        load: function(a, b, c, d) {
            var e = this,
                f = new lb,
                g = new Ja(this.manager);
            g.setResponseType("arraybuffer");
            g.load(a, function(a) {
                if (a = e._parser(a))
                    void 0 !== a.image ? f.image = a.image : void 0 !== a.data && (f.image.width = a.width, f.image.height = a.height, f.image.data = a.data), f.wrapS = void 0 !== a.wrapS ? a.wrapS : 1001, f.wrapT = void 0 !== a.wrapT ? a.wrapT : 1001, f.magFilter = void 0 !== a.magFilter ? a.magFilter : 1006, f.minFilter = void 0 !== a.minFilter ? a.minFilter : 1008, f.anisotropy = void 0 !== a.anisotropy ?
                    a.anisotropy : 1, void 0 !== a.format && (f.format = a.format), void 0 !== a.type && (f.type = a.type), void 0 !== a.mipmaps && (f.mipmaps = a.mipmaps), 1 === a.mipmapCount && (f.minFilter = 1006), f.needsUpdate = !0, b && b(f, a)
            }, c, d);
            return f
        }
    });
    Object.assign(Lc.prototype, {
        load: function(a, b, c, d) {
            var e = this,
                f = document.createElementNS("http://www.w3.org/1999/xhtml", "img");
            f.onload = function() {
                f.onload = null;
                URL.revokeObjectURL(f.src);
                b && b(f);
                e.manager.itemEnd(a)
            };
            f.onerror = d;
            if (0 === a.indexOf("data:"))
                f.src = a;
            else {
                var g = new Ja;
                g.setPath(this.path);
                g.setResponseType("blob");
                g.setWithCredentials(this.withCredentials);
                g.load(a, function(a) {
                    f.src = URL.createObjectURL(a)
                }, c, d)
            }
            e.manager.itemStart(a);
            return f
        },
        setCrossOrigin: function(a) {
            this.crossOrigin = a;
            return this
        },
        setWithCredentials: function(a) {
            this.withCredentials = a;
            return this
        },
        setPath: function(a) {
            this.path = a;
            return this
        }
    });
    Object.assign(Hd.prototype, {
        load: function(a, b, c, d) {
            function e(c) {
                g.load(a[c], function(a) {
                    f.images[c] = a;
                    h++;
                    6 === h && (f.needsUpdate = !0, b && b(f))
                }, void 0, d)
            }
            var f = new Xa,
                g = new Lc(this.manager);
            g.setCrossOrigin(this.crossOrigin);
            g.setPath(this.path);
            var h = 0;
            for (c = 0; c < a.length; ++c)
                e(c);
            return f
        },
        setCrossOrigin: function(a) {
            this.crossOrigin = a;
            return this
        },
        setPath: function(a) {
            this.path = a;
            return this
        }
    });
    Object.assign(gd.prototype, {
        load: function(a, b, c, d) {
            var e = new da,
                f = new Lc(this.manager);
            f.setCrossOrigin(this.crossOrigin);
            f.setWithCredentials(this.withCredentials);
            f.setPath(this.path);
            f.load(a, function(c) {
                var d = 0 < a.search(/\.(jpg|jpeg)$/) || 0 === a.search(/^data\:image\/jpeg/);
                e.format = d ? 1022 :
                1023;
                e.image = c;
                e.needsUpdate = !0;
                void 0 !== b && b(e)
            }, c, d);
            return e
        },
        setCrossOrigin: function(a) {
            this.crossOrigin = a;
            return this
        },
        setWithCredentials: function(a) {
            this.withCredentials = a;
            return this
        },
        setPath: function(a) {
            this.path = a;
            return this
        }
    });
    pa.prototype = Object.assign(Object.create(z.prototype), {
        constructor: pa,
        isLight: !0,
        copy: function(a) {
            z.prototype.copy.call(this, a);
            this.color.copy(a.color);
            this.intensity = a.intensity;
            return this
        },
        toJSON: function(a) {
            a = z.prototype.toJSON.call(this, a);
            a.object.color = this.color.getHex();
            a.object.intensity = this.intensity;
            void 0 !== this.groundColor && (a.object.groundColor = this.groundColor.getHex());
            void 0 !== this.distance && (a.object.distance = this.distance);
            void 0 !== this.angle && (a.object.angle = this.angle);
            void 0 !== this.decay && (a.object.decay = this.decay);
            void 0 !== this.penumbra && (a.object.penumbra = this.penumbra);
            void 0 !== this.shadow && (a.object.shadow = this.shadow.toJSON());
            return a
        }
    });
    hd.prototype = Object.assign(Object.create(pa.prototype), {
        constructor: hd,
        isHemisphereLight: !0,
        copy: function(a) {
            pa.prototype.copy.call(this,
            a);
            this.groundColor.copy(a.groundColor);
            return this
        }
    });
    Object.assign(tb.prototype, {
        copy: function(a) {
            this.camera = a.camera.clone();
            this.bias = a.bias;
            this.radius = a.radius;
            this.mapSize.copy(a.mapSize);
            return this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        toJSON: function() {
            var a = {};
            0 !== this.bias && (a.bias = this.bias);
            1 !== this.radius && (a.radius = this.radius);
            if (512 !== this.mapSize.x || 512 !== this.mapSize.y)
                a.mapSize = this.mapSize.toArray();
            a.camera = this.camera.toJSON(!1).object;
            delete a.camera.matrix;
            return a
        }
    });
    id.prototype = Object.assign(Object.create(tb.prototype), {
        constructor: id,
        isSpotLightShadow: !0,
        update: function(a) {
            var b = 2 * T.RAD2DEG * a.angle,
                c = this.mapSize.width / this.mapSize.height;
            a = a.distance || 500;
            var d = this.camera;
            if (b !== d.fov || c !== d.aspect || a !== d.far)
                d.fov = b, d.aspect = c, d.far = a, d.updateProjectionMatrix()
        }
    });
    jd.prototype = Object.assign(Object.create(pa.prototype), {
        constructor: jd,
        isSpotLight: !0,
        copy: function(a) {
            pa.prototype.copy.call(this, a);
            this.distance = a.distance;
            this.angle = a.angle;
            this.penumbra =
            a.penumbra;
            this.decay = a.decay;
            this.target = a.target.clone();
            this.shadow = a.shadow.clone();
            return this
        }
    });
    kd.prototype = Object.assign(Object.create(pa.prototype), {
        constructor: kd,
        isPointLight: !0,
        copy: function(a) {
            pa.prototype.copy.call(this, a);
            this.distance = a.distance;
            this.decay = a.decay;
            this.shadow = a.shadow.clone();
            return this
        }
    });
    ld.prototype = Object.assign(Object.create(tb.prototype), {
        constructor: ld
    });
    md.prototype = Object.assign(Object.create(pa.prototype), {
        constructor: md,
        isDirectionalLight: !0,
        copy: function(a) {
            pa.prototype.copy.call(this,
            a);
            this.target = a.target.clone();
            this.shadow = a.shadow.clone();
            return this
        }
    });
    nd.prototype = Object.assign(Object.create(pa.prototype), {
        constructor: nd,
        isAmbientLight: !0
    });
    var ma = {
        arraySlice: function(a, b, c) {
            return ma.isTypedArray(a) ? new a.constructor(a.subarray(b, c)) : a.slice(b, c)
        },
        convertArray: function(a, b, c) {
            return !a || !c && a.constructor === b ? a : "number" === typeof b.BYTES_PER_ELEMENT ? new b(a) : Array.prototype.slice.call(a)
        },
        isTypedArray: function(a) {
            return ArrayBuffer.isView(a) && !(a instanceof DataView)
        },
        getKeyframeOrder: function(a) {
            for (var b =
                a.length, c = Array(b), d = 0; d !== b; ++d)
                c[d] = d;
            c.sort(function(b, c) {
                return a[b] - a[c]
            });
            return c
        },
        sortedArray: function(a, b, c) {
            for (var d = a.length, e = new a.constructor(d), f = 0, g = 0; g !== d; ++f)
                for (var h = c[f] * b, k = 0; k !== b; ++k)
                    e[g++] = a[h + k];
            return e
        },
        flattenJSON: function(a, b, c, d) {
            for (var e = 1, f = a[0]; void 0 !== f && void 0 === f[d];)
                f = a[e++];
            if (void 0 !== f) {
                var g = f[d];
                if (void 0 !== g)
                    if (Array.isArray(g)) {
                        do g = f[d], void 0 !== g && (b.push(f.time), c.push.apply(c, g)), f = a[e++];
                        while (void 0 !== f)
                    } else if (void 0 !== g.toArray) {
                        do g = f[d],
                        void 0 !== g && (b.push(f.time), g.toArray(c, c.length)), f = a[e++];
                        while (void 0 !== f)
                    } else {
                        do g = f[d], void 0 !== g && (b.push(f.time), c.push(g)), f = a[e++];
                        while (void 0 !== f)
                    }
            }
        }
    };
    qa.prototype = {
        constructor: qa,
        evaluate: function(a) {
            var b = this.parameterPositions,
                c = this._cachedIndex,
                d = b[c],
                e = b[c - 1];
            a:
            {
                b:
                {
                    c:
                    {
                        d:
                        if (!(a < d)) {
                            for (var f = c + 2;;) {
                                if (void 0 === d) {
                                    if (a < e)
                                        break d;
                                    this._cachedIndex = c = b.length;
                                    return this.afterEnd_(c - 1, a, e)
                                }
                                if (c === f)
                                    break;
                                e = d;
                                d = b[++c];
                                if (a < d)
                                    break b
                            }
                            d = b.length;
                            break c
                        }
                        if (a >= e)
                            break a;
                        else {
                            f = b[1];
                            a < f &&
                            (c = 2, e = f);
                            for (f = c - 2;;) {
                                if (void 0 === e)
                                    return this._cachedIndex = 0, this.beforeStart_(0, a, d);
                                if (c === f)
                                    break;
                                d = e;
                                e = b[--c - 1];
                                if (a >= e)
                                    break b
                            }
                            d = c;
                            c = 0
                        }
                    }for (; c < d;)
                        e = c + d >>> 1, a < b[e] ? d = e : c = e + 1;
                    d = b[c];
                    e = b[c - 1];
                    if (void 0 === e)
                        return this._cachedIndex = 0, this.beforeStart_(0, a, d);
                    if (void 0 === d)
                        return this._cachedIndex = c = b.length, this.afterEnd_(c - 1, e, a)
                }this._cachedIndex = c;
                this.intervalChanged_(c, e, d)
            }return this.interpolate_(c, e, a, d)
        },
        settings: null,
        DefaultSettings_: {},
        getSettings_: function() {
            return this.settings ||
                this.DefaultSettings_
        },
        copySampleValue_: function(a) {
            var b = this.resultBuffer,
                c = this.sampleValues,
                d = this.valueSize;
            a *= d;
            for (var e = 0; e !== d; ++e)
                b[e] = c[a + e];
            return b
        },
        interpolate_: function(a, b, c, d) {
            throw Error("call to abstract method");
        },
        intervalChanged_: function(a, b, c) {}
    };
    Object.assign(qa.prototype, {
        beforeStart_: qa.prototype.copySampleValue_,
        afterEnd_: qa.prototype.copySampleValue_
    });
    od.prototype = Object.assign(Object.create(qa.prototype), {
        constructor: od,
        DefaultSettings_: {
            endingStart: 2400,
            endingEnd: 2400
        },
        intervalChanged_: function(a, b, c) {
            var d = this.parameterPositions,
                e = a - 2,
                f = a + 1,
                g = d[e],
                h = d[f];
            if (void 0 === g)
                switch (this.getSettings_().endingStart) {
                case 2401:
                    e = a;
                    g = 2 * b - c;
                    break;
                case 2402:
                    e = d.length - 2;
                    g = b + d[e] - d[e + 1];
                    break;
                default:
                    e = a, g = c
                }
            if (void 0 === h)
                switch (this.getSettings_().endingEnd) {
                case 2401:
                    f = a;
                    h = 2 * c - b;
                    break;
                case 2402:
                    f = 1;
                    h = c + d[1] - d[0];
                    break;
                default:
                    f = a - 1, h = b
                }
            a = .5 * (c - b);
            d = this.valueSize;
            this._weightPrev = a / (b - g);
            this._weightNext = a / (h - c);
            this._offsetPrev = e * d;
            this._offsetNext = f * d
        },
        interpolate_: function(a,
        b, c, d) {
            var e = this.resultBuffer,
                f = this.sampleValues,
                g = this.valueSize;
            a *= g;
            var h = a - g,
                k = this._offsetPrev,
                m = this._offsetNext,
                l = this._weightPrev,
                n = this._weightNext,
                p = (c - b) / (d - b);
            c = p * p;
            d = c * p;
            b = -l * d + 2 * l * c - l * p;
            l = (1 + l) * d + (-1.5 - 2 * l) * c + (-.5 + l) * p + 1;
            p = (-1 - n) * d + (1.5 + n) * c + .5 * p;
            n = n * d - n * c;
            for (c = 0; c !== g; ++c)
                e[c] = b * f[k + c] + l * f[h + c] + p * f[a + c] + n * f[m + c];
            return e
        }
    });
    Mc.prototype = Object.assign(Object.create(qa.prototype), {
        constructor: Mc,
        interpolate_: function(a, b, c, d) {
            var e = this.resultBuffer,
                f = this.sampleValues,
                g = this.valueSize;
            a *= g;
            var h = a - g;
            b = (c - b) / (d - b);
            c = 1 - b;
            for (d = 0; d !== g; ++d)
                e[d] = f[h + d] * c + f[a + d] * b;
            return e
        }
    });
    pd.prototype = Object.assign(Object.create(qa.prototype), {
        constructor: pd,
        interpolate_: function(a, b, c, d) {
            return this.copySampleValue_(a - 1)
        }
    });
    var Wa;
    Wa = {
        TimeBufferType: Float32Array,
        ValueBufferType: Float32Array,
        DefaultInterpolation: 2301,
        InterpolantFactoryMethodDiscrete: function(a) {
            return new pd(this.times, this.values, this.getValueSize(), a)
        },
        InterpolantFactoryMethodLinear: function(a) {
            return new Mc(this.times, this.values,
            this.getValueSize(), a)
        },
        InterpolantFactoryMethodSmooth: function(a) {
            return new od(this.times, this.values, this.getValueSize(), a)
        },
        setInterpolation: function(a) {
            var b;
            switch (a) {
            case 2300:
                b = this.InterpolantFactoryMethodDiscrete;
                break;
            case 2301:
                b = this.InterpolantFactoryMethodLinear;
                break;
            case 2302:
                b = this.InterpolantFactoryMethodSmooth
            }
            if (void 0 === b) {
                b = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
                if (void 0 === this.createInterpolant)
                    if (a !== this.DefaultInterpolation)
                        this.setInterpolation(this.DefaultInterpolation);
                    else
                        throw Error(b);
                console.warn(b)
            } else
                this.createInterpolant = b
        },
        getInterpolation: function() {
            switch (this.createInterpolant) {
            case this.InterpolantFactoryMethodDiscrete:
                return 2300;
            case this.InterpolantFactoryMethodLinear:
                return 2301;
            case this.InterpolantFactoryMethodSmooth:
                return 2302
            }
        },
        getValueSize: function() {
            return this.values.length / this.times.length
        },
        shift: function(a) {
            if (0 !== a)
                for (var b = this.times, c = 0, d = b.length; c !== d; ++c)
                    b[c] += a;
            return this
        },
        scale: function(a) {
            if (1 !== a)
                for (var b = this.times, c =
                    0, d = b.length; c !== d; ++c)
                    b[c] *= a;
            return this
        },
        trim: function(a, b) {
            for (var c = this.times, d = c.length, e = 0, f = d - 1; e !== d && c[e] < a;)
                ++e;
            for (; -1 !== f && c[f] > b;)
                --f;
            ++f;
            if (0 !== e || f !== d)
                e >= f && (f = Math.max(f, 1), e = f - 1), d = this.getValueSize(), this.times = ma.arraySlice(c, e, f), this.values = ma.arraySlice(this.values, e * d, f * d);
            return this
        },
        validate: function() {
            var a = !0,
                b = this.getValueSize();
            0 !== b - Math.floor(b) && (console.error("invalid value size in track", this), a = !1);
            var c = this.times,
                b = this.values,
                d = c.length;
            0 === d && (console.error("track is empty",
            this), a = !1);
            for (var e = null, f = 0; f !== d; f++) {
                var g = c[f];
                if ("number" === typeof g && isNaN(g)) {
                    console.error("time is not a valid number", this, f, g);
                    a = !1;
                    break
                }
                if (null !== e && e > g) {
                    console.error("out of order keys", this, f, g, e);
                    a = !1;
                    break
                }
                e = g
            }
            if (void 0 !== b && ma.isTypedArray(b))
                for (f = 0, c = b.length; f !== c; ++f)
                    if (d = b[f], isNaN(d)) {
                        console.error("value is not a valid number", this, f, d);
                        a = !1;
                        break
                    }
            return a
        },
        optimize: function() {
            for (var a = this.times, b = this.values, c = this.getValueSize(), d = 2302 === this.getInterpolation(), e = 1,
                f = a.length - 1, g = 1; g < f; ++g) {
                var h = !1,
                    k = a[g];
                if (k !== a[g + 1] && (1 !== g || k !== k[0]))
                    if (d)
                        h = !0;
                    else
                        for (var m = g * c, l = m - c, n = m + c, k = 0; k !== c; ++k) {
                            var p = b[m + k];
                            if (p !== b[l + k] || p !== b[n + k]) {
                                h = !0;
                                break
                            }
                        }
                if (h) {
                    if (g !== e)
                        for (a[e] = a[g], h = g * c, m = e * c, k = 0; k !== c; ++k)
                            b[m + k] = b[h + k];
                    ++e
                }
            }
            if (0 < f) {
                a[e] = a[f];
                h = f * c;
                m = e * c;
                for (k = 0; k !== c; ++k)
                    b[m + k] = b[h + k];
                ++e
            }
            e !== a.length && (this.times = ma.arraySlice(a, 0, e), this.values = ma.arraySlice(b, 0, e * c));
            return this
        }
    };
    bc.prototype = Object.assign(Object.create(Wa), {
        constructor: bc,
        ValueTypeName: "vector"
    });
    qd.prototype = Object.assign(Object.create(qa.prototype), {
        constructor: qd,
        interpolate_: function(a, b, c, d) {
            var e = this.resultBuffer,
                f = this.sampleValues,
                g = this.valueSize;
            a *= g;
            b = (c - b) / (d - b);
            for (c = a + g; a !== c; a += 4)
                ba.slerpFlat(e, 0, f, a - g, f, a, b);
            return e
        }
    });
    Nc.prototype = Object.assign(Object.create(Wa), {
        constructor: Nc,
        ValueTypeName: "quaternion",
        DefaultInterpolation: 2301,
        InterpolantFactoryMethodLinear: function(a) {
            return new qd(this.times, this.values, this.getValueSize(), a)
        },
        InterpolantFactoryMethodSmooth: void 0
    });
    cc.prototype = Object.assign(Object.create(Wa), {
        constructor: cc,
        ValueTypeName: "number"
    });
    rd.prototype = Object.assign(Object.create(Wa), {
        constructor: rd,
        ValueTypeName: "string",
        ValueBufferType: Array,
        DefaultInterpolation: 2300,
        InterpolantFactoryMethodLinear: void 0,
        InterpolantFactoryMethodSmooth: void 0
    });
    sd.prototype = Object.assign(Object.create(Wa), {
        constructor: sd,
        ValueTypeName: "bool",
        ValueBufferType: Array,
        DefaultInterpolation: 2300,
        InterpolantFactoryMethodLinear: void 0,
        InterpolantFactoryMethodSmooth: void 0
    });
    td.prototype = Object.assign(Object.create(Wa), {
        constructor: td,
        ValueTypeName: "color"
    });
    vb.prototype = Wa;
    Wa.constructor = vb;
    Object.assign(vb, {
        parse: function(a) {
            if (void 0 === a.type)
                throw Error("track type undefined, can not parse");
            var b = vb._getTrackTypeForValueTypeName(a.type);
            if (void 0 === a.times) {
                var c = [],
                    d = [];
                ma.flattenJSON(a.keys, c, d, "value");
                a.times = c;
                a.values = d
            }
            return void 0 !== b.parse ? b.parse(a) : new b(a.name, a.times, a.values, a.interpolation)
        },
        toJSON: function(a) {
            var b = a.constructor;
            if (void 0 !== b.toJSON)
                b =
                b.toJSON(a);
            else {
                var b = {
                        name: a.name,
                        times: ma.convertArray(a.times, Array),
                        values: ma.convertArray(a.values, Array)
                    },
                    c = a.getInterpolation();
                c !== a.DefaultInterpolation && (b.interpolation = c)
            }
            b.type = a.ValueTypeName;
            return b
        },
        _getTrackTypeForValueTypeName: function(a) {
            switch (a.toLowerCase()) {
            case "scalar":
            case "double":
            case "float":
            case "number":
            case "integer":
                return cc;
            case "vector":
            case "vector2":
            case "vector3":
            case "vector4":
                return bc;
            case "color":
                return td;
            case "quaternion":
                return Nc;
            case "bool":
            case "boolean":
                return sd;
            case "string":
                return rd
            }
            throw Error("Unsupported typeName: " + a);
        }
    });
    Ha.prototype = {
        constructor: Ha,
        resetDuration: function() {
            for (var a = 0, b = 0, c = this.tracks.length; b !== c; ++b)
                var d = this.tracks[b],
                    a = Math.max(a, d.times[d.times.length - 1]);
            this.duration = a
        },
        trim: function() {
            for (var a = 0; a < this.tracks.length; a++)
                this.tracks[a].trim(0, this.duration);
            return this
        },
        optimize: function() {
            for (var a = 0; a < this.tracks.length; a++)
                this.tracks[a].optimize();
            return this
        }
    };
    Object.assign(Ha, {
        parse: function(a) {
            for (var b = [], c = a.tracks,
                d = 1 / (a.fps || 1), e = 0, f = c.length; e !== f; ++e)
                b.push(vb.parse(c[e]).scale(d));
            return new Ha(a.name, a.duration, b)
        },
        toJSON: function(a) {
            var b = [],
                c = a.tracks;
            a = {
                name: a.name,
                duration: a.duration,
                tracks: b
            };
            for (var d = 0, e = c.length; d !== e; ++d)
                b.push(vb.toJSON(c[d]));
            return a
        },
        CreateFromMorphTargetSequence: function(a, b, c, d) {
            for (var e = b.length, f = [], g = 0; g < e; g++) {
                var h = [],
                    k = [];
                h.push((g + e - 1) % e, g, (g + 1) % e);
                k.push(0, 1, 0);
                var m = ma.getKeyframeOrder(h),
                    h = ma.sortedArray(h, 1, m),
                    k = ma.sortedArray(k, 1, m);
                d || 0 !== h[0] || (h.push(e),
                k.push(k[0]));
                f.push((new cc(".morphTargetInfluences[" + b[g].name + "]", h, k)).scale(1 / c))
            }
            return new Ha(a, -1, f)
        },
        findByName: function(a, b) {
            var c = a;
            Array.isArray(a) || (c = a.geometry && a.geometry.animations || a.animations);
            for (var d = 0; d < c.length; d++)
                if (c[d].name === b)
                    return c[d];
            return null
        },
        CreateClipsFromMorphTargetSequences: function(a, b, c) {
            for (var d = {}, e = /^([\w-]*?)([\d]+)$/, f = 0, g = a.length; f < g; f++) {
                var h = a[f],
                    k = h.name.match(e);
                if (k && 1 < k.length) {
                    var m = k[1];
                    (k = d[m]) || (d[m] = k = []);
                    k.push(h)
                }
            }
            a = [];
            for (m in d)
                a.push(Ha.CreateFromMorphTargetSequence(m,
                d[m], b, c));
            return a
        },
        parseAnimation: function(a, b) {
            if (!a)
                return console.error("  no animation in JSONLoader data"), null;
            for (var c = function(a, b, c, d, e) {
                    if (0 !== c.length) {
                        var f = [],
                            g = [];
                        ma.flattenJSON(c, f, g, d);
                        0 !== f.length && e.push(new a(b, f, g))
                    }
                }, d = [], e = a.name || "default", f = a.length || -1, g = a.fps || 30, h = a.hierarchy || [], k = 0; k < h.length; k++) {
                var m = h[k].keys;
                if (m && 0 !== m.length)
                    if (m[0].morphTargets) {
                        for (var f = {}, l = 0; l < m.length; l++)
                            if (m[l].morphTargets)
                                for (var n = 0; n < m[l].morphTargets.length; n++)
                                    f[m[l].morphTargets[n]] =
                                    -1;
                        for (var p in f) {
                            for (var q = [], x = [], n = 0; n !== m[l].morphTargets.length; ++n) {
                                var t = m[l];
                                q.push(t.time);
                                x.push(t.morphTarget === p ? 1 : 0)
                            }
                            d.push(new cc(".morphTargetInfluence[" + p + "]", q, x))
                        }
                        f = f.length * (g || 1)
                    } else
                        l = ".bones[" + b[k].name + "]", c(bc, l + ".position", m, "pos", d), c(Nc, l + ".quaternion", m, "rot", d), c(bc, l + ".scale", m, "scl", d)
            }
            return 0 === d.length ? null : new Ha(e, f, d)
        }
    });
    Object.assign(ud.prototype, {
        load: function(a, b, c, d) {
            var e = this;
            (new Ja(e.manager)).load(a, function(a) {
                b(e.parse(JSON.parse(a)))
            }, c, d)
        },
        setTextures: function(a) {
            this.textures =
            a
        },
        parse: function(a) {
            function b(a) {
                void 0 === c[a] && console.warn("THREE.MaterialLoader: Undefined texture", a);
                return c[a]
            }
            var c = this.textures,
                d = new Df[a.type];
            void 0 !== a.uuid && (d.uuid = a.uuid);
            void 0 !== a.name && (d.name = a.name);
            void 0 !== a.color && d.color.setHex(a.color);
            void 0 !== a.roughness && (d.roughness = a.roughness);
            void 0 !== a.metalness && (d.metalness = a.metalness);
            void 0 !== a.emissive && d.emissive.setHex(a.emissive);
            void 0 !== a.specular && d.specular.setHex(a.specular);
            void 0 !== a.shininess && (d.shininess = a.shininess);
            void 0 !== a.uniforms && (d.uniforms = a.uniforms);
            void 0 !== a.vertexShader && (d.vertexShader = a.vertexShader);
            void 0 !== a.fragmentShader && (d.fragmentShader = a.fragmentShader);
            void 0 !== a.vertexColors && (d.vertexColors = a.vertexColors);
            void 0 !== a.fog && (d.fog = a.fog);
            void 0 !== a.shading && (d.shading = a.shading);
            void 0 !== a.blending && (d.blending = a.blending);
            void 0 !== a.side && (d.side = a.side);
            void 0 !== a.opacity && (d.opacity = a.opacity);
            void 0 !== a.transparent && (d.transparent = a.transparent);
            void 0 !== a.alphaTest && (d.alphaTest =
            a.alphaTest);
            void 0 !== a.depthTest && (d.depthTest = a.depthTest);
            void 0 !== a.depthWrite && (d.depthWrite = a.depthWrite);
            void 0 !== a.colorWrite && (d.colorWrite = a.colorWrite);
            void 0 !== a.wireframe && (d.wireframe = a.wireframe);
            void 0 !== a.wireframeLinewidth && (d.wireframeLinewidth = a.wireframeLinewidth);
            void 0 !== a.wireframeLinecap && (d.wireframeLinecap = a.wireframeLinecap);
            void 0 !== a.wireframeLinejoin && (d.wireframeLinejoin = a.wireframeLinejoin);
            void 0 !== a.skinning && (d.skinning = a.skinning);
            void 0 !== a.morphTargets && (d.morphTargets =
            a.morphTargets);
            void 0 !== a.size && (d.size = a.size);
            void 0 !== a.sizeAttenuation && (d.sizeAttenuation = a.sizeAttenuation);
            void 0 !== a.map && (d.map = b(a.map));
            void 0 !== a.alphaMap && (d.alphaMap = b(a.alphaMap), d.transparent = !0);
            void 0 !== a.bumpMap && (d.bumpMap = b(a.bumpMap));
            void 0 !== a.bumpScale && (d.bumpScale = a.bumpScale);
            void 0 !== a.normalMap && (d.normalMap = b(a.normalMap));
            if (void 0 !== a.normalScale) {
                var e = a.normalScale;
                !1 === Array.isArray(e) && (e = [e, e]);
                d.normalScale = (new B).fromArray(e)
            }
            void 0 !== a.displacementMap && (d.displacementMap =
            b(a.displacementMap));
            void 0 !== a.displacementScale && (d.displacementScale = a.displacementScale);
            void 0 !== a.displacementBias && (d.displacementBias = a.displacementBias);
            void 0 !== a.roughnessMap && (d.roughnessMap = b(a.roughnessMap));
            void 0 !== a.metalnessMap && (d.metalnessMap = b(a.metalnessMap));
            void 0 !== a.emissiveMap && (d.emissiveMap = b(a.emissiveMap));
            void 0 !== a.emissiveIntensity && (d.emissiveIntensity = a.emissiveIntensity);
            void 0 !== a.specularMap && (d.specularMap = b(a.specularMap));
            void 0 !== a.envMap && (d.envMap = b(a.envMap));
            void 0 !== a.reflectivity && (d.reflectivity = a.reflectivity);
            void 0 !== a.lightMap && (d.lightMap = b(a.lightMap));
            void 0 !== a.lightMapIntensity && (d.lightMapIntensity = a.lightMapIntensity);
            void 0 !== a.aoMap && (d.aoMap = b(a.aoMap));
            void 0 !== a.aoMapIntensity && (d.aoMapIntensity = a.aoMapIntensity);
            if (void 0 !== a.materials)
                for (var e = 0, f = a.materials.length; e < f; e++)
                    d.materials.push(this.parse(a.materials[e]));
            return d
        }
    });
    Object.assign(Id.prototype, {
        load: function(a, b, c, d) {
            var e = this;
            (new Ja(e.manager)).load(a, function(a) {
                b(e.parse(JSON.parse(a)))
            },
            c, d)
        },
        parse: function(a) {
            var b = new G,
                c = a.data.index,
                d = {
                    Int8Array: Int8Array,
                    Uint8Array: Uint8Array,
                    Uint8ClampedArray: Uint8ClampedArray,
                    Int16Array: Int16Array,
                    Uint16Array: Uint16Array,
                    Int32Array: Int32Array,
                    Uint32Array: Uint32Array,
                    Float32Array: Float32Array,
                    Float64Array: Float64Array
                };
            void 0 !== c && (c = new d[c.type](c.array), b.setIndex(new C(c, 1)));
            var e = a.data.attributes,
                f;
            for (f in e) {
                var g = e[f],
                    c = new d[g.type](g.array);
                b.addAttribute(f, new C(c, g.itemSize, g.normalized))
            }
            d = a.data.groups || a.data.drawcalls || a.data.offsets;
            if (void 0 !== d)
                for (f = 0, c = d.length; f !== c; ++f)
                    e = d[f], b.addGroup(e.start, e.count, e.materialIndex);
            a = a.data.boundingSphere;
            void 0 !== a && (d = new q, void 0 !== a.center && d.fromArray(a.center), b.boundingSphere = new Ca(d, a.radius));
            return b
        }
    });
    wb.prototype = {
        constructor: wb,
        crossOrigin: void 0,
        extractUrlBase: function(a) {
            a = a.split("/");
            if (1 === a.length)
                return "./";
            a.pop();
            return a.join("/") + "/"
        },
        initMaterials: function(a, b, c) {
            for (var d = [], e = 0; e < a.length; ++e)
                d[e] = this.createMaterial(a[e], b, c);
            return d
        },
        createMaterial: function() {
            var a,
                b,
                c;
            return function(d, e, f) {
                function g(a, c, d, g, k) {
                    a = e + a;
                    var l = wb.Handlers.get(a);
                    null !== l ? a = l.load(a) : (b.setCrossOrigin(f), a = b.load(a));
                    void 0 !== c && (a.repeat.fromArray(c), 1 !== c[0] && (a.wrapS = 1E3), 1 !== c[1] && (a.wrapT = 1E3));
                    void 0 !== d && a.offset.fromArray(d);
                    void 0 !== g && ("repeat" === g[0] && (a.wrapS = 1E3), "mirror" === g[0] && (a.wrapS = 1002), "repeat" === g[1] && (a.wrapT = 1E3), "mirror" === g[1] && (a.wrapT = 1002));
                    void 0 !== k && (a.anisotropy = k);
                    c = T.generateUUID();
                    h[c] = a;
                    return c
                }
                void 0 === a && (a = new O);
                void 0 === b && (b = new gd);
                void 0 === c && (c = new ud);
                var h = {},
                    k = {
                        uuid: T.generateUUID(),
                        type: "MeshLambertMaterial"
                    },
                    m;
                for (m in d) {
                    var l = d[m];
                    switch (m) {
                    case "DbgColor":
                    case "DbgIndex":
                    case "opticalDensity":
                    case "illumination":
                        break;
                    case "DbgName":
                        k.name = l;
                        break;
                    case "blending":
                        k.blending = Fe[l];
                        break;
                    case "colorAmbient":
                    case "mapAmbient":
                        console.warn("THREE.Loader.createMaterial:", m, "is no longer supported.");
                        break;
                    case "colorDiffuse":
                        k.color = a.fromArray(l).getHex();
                        break;
                    case "colorSpecular":
                        k.specular = a.fromArray(l).getHex();
                        break;
                    case "colorEmissive":
                        k.emissive = a.fromArray(l).getHex();
                        break;
                    case "specularCoef":
                        k.shininess = l;
                        break;
                    case "shading":
                        "basic" === l.toLowerCase() && (k.type = "MeshBasicMaterial");
                        "phong" === l.toLowerCase() && (k.type = "MeshPhongMaterial");
                        "standard" === l.toLowerCase() && (k.type = "MeshStandardMaterial");
                        break;
                    case "mapDiffuse":
                        k.map = g(l, d.mapDiffuseRepeat, d.mapDiffuseOffset, d.mapDiffuseWrap, d.mapDiffuseAnisotropy);
                        break;
                    case "mapDiffuseRepeat":
                    case "mapDiffuseOffset":
                    case "mapDiffuseWrap":
                    case "mapDiffuseAnisotropy":
                        break;
                    case "mapEmissive":
                        k.emissiveMap = g(l, d.mapEmissiveRepeat, d.mapEmissiveOffset, d.mapEmissiveWrap, d.mapEmissiveAnisotropy);
                        break;
                    case "mapEmissiveRepeat":
                    case "mapEmissiveOffset":
                    case "mapEmissiveWrap":
                    case "mapEmissiveAnisotropy":
                        break;
                    case "mapLight":
                        k.lightMap = g(l, d.mapLightRepeat, d.mapLightOffset, d.mapLightWrap, d.mapLightAnisotropy);
                        break;
                    case "mapLightRepeat":
                    case "mapLightOffset":
                    case "mapLightWrap":
                    case "mapLightAnisotropy":
                        break;
                    case "mapAO":
                        k.aoMap = g(l, d.mapAORepeat, d.mapAOOffset, d.mapAOWrap,
                        d.mapAOAnisotropy);
                        break;
                    case "mapAORepeat":
                    case "mapAOOffset":
                    case "mapAOWrap":
                    case "mapAOAnisotropy":
                        break;
                    case "mapBump":
                        k.bumpMap = g(l, d.mapBumpRepeat, d.mapBumpOffset, d.mapBumpWrap, d.mapBumpAnisotropy);
                        break;
                    case "mapBumpScale":
                        k.bumpScale = l;
                        break;
                    case "mapBumpRepeat":
                    case "mapBumpOffset":
                    case "mapBumpWrap":
                    case "mapBumpAnisotropy":
                        break;
                    case "mapNormal":
                        k.normalMap = g(l, d.mapNormalRepeat, d.mapNormalOffset, d.mapNormalWrap, d.mapNormalAnisotropy);
                        break;
                    case "mapNormalFactor":
                        k.normalScale = [l, l];
                        break;
                    case "mapNormalRepeat":
                    case "mapNormalOffset":
                    case "mapNormalWrap":
                    case "mapNormalAnisotropy":
                        break;
                    case "mapSpecular":
                        k.specularMap = g(l, d.mapSpecularRepeat, d.mapSpecularOffset, d.mapSpecularWrap, d.mapSpecularAnisotropy);
                        break;
                    case "mapSpecularRepeat":
                    case "mapSpecularOffset":
                    case "mapSpecularWrap":
                    case "mapSpecularAnisotropy":
                        break;
                    case "mapMetalness":
                        k.metalnessMap = g(l, d.mapMetalnessRepeat, d.mapMetalnessOffset, d.mapMetalnessWrap, d.mapMetalnessAnisotropy);
                        break;
                    case "mapMetalnessRepeat":
                    case "mapMetalnessOffset":
                    case "mapMetalnessWrap":
                    case "mapMetalnessAnisotropy":
                        break;
                    case "mapRoughness":
                        k.roughnessMap = g(l, d.mapRoughnessRepeat, d.mapRoughnessOffset, d.mapRoughnessWrap, d.mapRoughnessAnisotropy);
                        break;
                    case "mapRoughnessRepeat":
                    case "mapRoughnessOffset":
                    case "mapRoughnessWrap":
                    case "mapRoughnessAnisotropy":
                        break;
                    case "mapAlpha":
                        k.alphaMap = g(l, d.mapAlphaRepeat, d.mapAlphaOffset, d.mapAlphaWrap, d.mapAlphaAnisotropy);
                        break;
                    case "mapAlphaRepeat":
                    case "mapAlphaOffset":
                    case "mapAlphaWrap":
                    case "mapAlphaAnisotropy":
                        break;
                    case "flipSided":
                        k.side = 1;
                        break;
                    case "doubleSided":
                        k.side =
                        2;
                        break;
                    case "transparency":
                        console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");
                        k.opacity = l;
                        break;
                    case "depthTest":
                    case "depthWrite":
                    case "colorWrite":
                    case "opacity":
                    case "reflectivity":
                    case "transparent":
                    case "visible":
                    case "wireframe":
                        k[m] = l;
                        break;
                    case "vertexColors":
                        !0 === l && (k.vertexColors = 2);
                        "face" === l && (k.vertexColors = 1);
                        break;
                    default:
                        console.error("THREE.Loader.createMaterial: Unsupported", m, l)
                    }
                }
                "MeshBasicMaterial" === k.type && delete k.emissive;
                "MeshPhongMaterial" !==
                k.type && delete k.specular;
                1 > k.opacity && (k.transparent = !0);
                c.setTextures(h);
                return c.parse(k)
            }
        }()
    };
    wb.Handlers = {
        handlers: [],
        add: function(a, b) {
            this.handlers.push(a, b)
        },
        get: function(a) {
            for (var b = this.handlers, c = 0, d = b.length; c < d; c += 2) {
                var e = b[c + 1];
                if (b[c].test(a))
                    return e
            }
            return null
        }
    };
    Object.assign(Jd.prototype, {
        load: function(a, b, c, d) {
            var e = this,
                f = this.texturePath && "string" === typeof this.texturePath ? this.texturePath : wb.prototype.extractUrlBase(a),
                g = new Ja(this.manager);
            g.setWithCredentials(this.withCredentials);
            g.load(a, function(c) {
                c = JSON.parse(c);
                var d = c.metadata;
                if (void 0 !== d && (d = d.type, void 0 !== d)) {
                    if ("object" === d.toLowerCase()) {
                        console.error("THREE.JSONLoader: " + a + " should be loaded with THREE.ObjectLoader instead.");
                        return
                    }
                    if ("scene" === d.toLowerCase()) {
                        console.error("THREE.JSONLoader: " + a + " should be loaded with THREE.SceneLoader instead.");
                        return
                    }
                }
                c = e.parse(c, f);
                b(c.geometry, c.materials)
            }, c, d)
        },
        setTexturePath: function(a) {
            this.texturePath = a
        },
        parse: function(a, b) {
            var c = new Q,
                d = void 0 !== a.scale ? 1 / a.scale :
                1;
            (function(b) {
                var d,
                    g,
                    h,
                    k,
                    l,
                    w,
                    n,
                    p,
                    r,
                    x,
                    t,
                    D,
                    u,
                    v = a.faces;
                w = a.vertices;
                var z = a.normals,
                    y = a.colors,
                    E = 0;
                if (void 0 !== a.uvs) {
                    for (d = 0; d < a.uvs.length; d++)
                        a.uvs[d].length && E++;
                    for (d = 0; d < E; d++)
                        c.faceVertexUvs[d] = []
                }
                k = 0;
                for (l = w.length; k < l;)
                    d = new q, d.x = w[k++] * b, d.y = w[k++] * b, d.z = w[k++] * b, c.vertices.push(d);
                k = 0;
                for (l = v.length; k < l;)
                    if (b = v[k++], r = b & 1, h = b & 2, d = b & 8, n = b & 16, x = b & 32, w = b & 64, b &= 128, r) {
                        r = new ea;
                        r.a = v[k];
                        r.b = v[k + 1];
                        r.c = v[k + 3];
                        t = new ea;
                        t.a = v[k + 1];
                        t.b = v[k + 2];
                        t.c = v[k + 3];
                        k += 4;
                        h && (h = v[k++], r.materialIndex = h, t.materialIndex =
                        h);
                        h = c.faces.length;
                        if (d)
                            for (d = 0; d < E; d++)
                                for (D = a.uvs[d], c.faceVertexUvs[d][h] = [], c.faceVertexUvs[d][h + 1] = [], g = 0; 4 > g; g++)
                                    p = v[k++], u = D[2 * p], p = D[2 * p + 1], u = new B(u, p), 2 !== g && c.faceVertexUvs[d][h].push(u), 0 !== g && c.faceVertexUvs[d][h + 1].push(u);
                        n && (n = 3 * v[k++], r.normal.set(z[n++], z[n++], z[n]), t.normal.copy(r.normal));
                        if (x)
                            for (d = 0; 4 > d; d++)
                                n = 3 * v[k++], x = new q(z[n++], z[n++], z[n]), 2 !== d && r.vertexNormals.push(x), 0 !== d && t.vertexNormals.push(x);
                        w && (w = v[k++], w = y[w], r.color.setHex(w), t.color.setHex(w));
                        if (b)
                            for (d =
                            0; 4 > d; d++)
                                w = v[k++], w = y[w], 2 !== d && r.vertexColors.push(new O(w)), 0 !== d && t.vertexColors.push(new O(w));
                        c.faces.push(r);
                        c.faces.push(t)
                    } else {
                        r = new ea;
                        r.a = v[k++];
                        r.b = v[k++];
                        r.c = v[k++];
                        h && (h = v[k++], r.materialIndex = h);
                        h = c.faces.length;
                        if (d)
                            for (d = 0; d < E; d++)
                                for (D = a.uvs[d], c.faceVertexUvs[d][h] = [], g = 0; 3 > g; g++)
                                    p = v[k++], u = D[2 * p], p = D[2 * p + 1], u = new B(u, p), c.faceVertexUvs[d][h].push(u);
                        n && (n = 3 * v[k++], r.normal.set(z[n++], z[n++], z[n]));
                        if (x)
                            for (d = 0; 3 > d; d++)
                                n = 3 * v[k++], x = new q(z[n++], z[n++], z[n]), r.vertexNormals.push(x);
                        w && (w = v[k++], r.color.setHex(y[w]));
                        if (b)
                            for (d = 0; 3 > d; d++)
                                w = v[k++], r.vertexColors.push(new O(y[w]));
                        c.faces.push(r)
                    }
            })(d);
            (function() {
                var b = void 0 !== a.influencesPerVertex ? a.influencesPerVertex : 2;
                if (a.skinWeights)
                    for (var d = 0, g = a.skinWeights.length; d < g; d += b)
                        c.skinWeights.push(new ga(a.skinWeights[d], 1 < b ? a.skinWeights[d + 1] : 0, 2 < b ? a.skinWeights[d + 2] : 0, 3 < b ? a.skinWeights[d + 3] : 0));
                if (a.skinIndices)
                    for (d = 0, g = a.skinIndices.length; d < g; d += b)
                        c.skinIndices.push(new ga(a.skinIndices[d], 1 < b ? a.skinIndices[d + 1] : 0, 2 <
                        b ? a.skinIndices[d + 2] : 0, 3 < b ? a.skinIndices[d + 3] : 0));
                c.bones = a.bones;
                c.bones && 0 < c.bones.length && (c.skinWeights.length !== c.skinIndices.length || c.skinIndices.length !== c.vertices.length) && console.warn("When skinning, number of vertices (" + c.vertices.length + "), skinIndices (" + c.skinIndices.length + "), and skinWeights (" + c.skinWeights.length + ") should match.")
            })();
            (function(b) {
                if (void 0 !== a.morphTargets)
                    for (var d = 0, g = a.morphTargets.length; d < g; d++) {
                        c.morphTargets[d] = {};
                        c.morphTargets[d].name = a.morphTargets[d].name;
                        c.morphTargets[d].vertices = [];
                        for (var h = c.morphTargets[d].vertices, k = a.morphTargets[d].vertices, l = 0, w = k.length; l < w; l += 3) {
                            var n = new q;
                            n.x = k[l] * b;
                            n.y = k[l + 1] * b;
                            n.z = k[l + 2] * b;
                            h.push(n)
                        }
                    }
                if (void 0 !== a.morphColors && 0 < a.morphColors.length)
                    for (console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'), b = c.faces, h = a.morphColors[0].colors, d = 0, g = b.length; d < g; d++)
                        b[d].color.fromArray(h, 3 * d)
            })(d);
            (function() {
                var b = [],
                    d = [];
                void 0 !== a.animation && d.push(a.animation);
                void 0 !== a.animations &&
                (a.animations.length ? d = d.concat(a.animations) : d.push(a.animations));
                for (var g = 0; g < d.length; g++) {
                    var h = Ha.parseAnimation(d[g], c.bones);
                    h && b.push(h)
                }
                c.morphTargets && (d = Ha.CreateClipsFromMorphTargetSequences(c.morphTargets, 10), b = b.concat(d));
                0 < b.length && (c.animations = b)
            })();
            c.computeFaceNormals();
            c.computeBoundingSphere();
            if (void 0 === a.materials || 0 === a.materials.length)
                return {
                    geometry: c
                };
            d = wb.prototype.initMaterials(a.materials, b, this.crossOrigin);
            return {
                geometry: c,
                materials: d
            }
        }
    });
    Object.assign(xe.prototype,
    {
        load: function(a, b, c, d) {
            "" === this.texturePath && (this.texturePath = a.substring(0, a.lastIndexOf("/") + 1));
            var e = this;
            (new Ja(e.manager)).load(a, function(a) {
                e.parse(JSON.parse(a), b)
            }, c, d)
        },
        setTexturePath: function(a) {
            this.texturePath = a
        },
        setCrossOrigin: function(a) {
            this.crossOrigin = a
        },
        parse: function(a, b) {
            var c = this.parseGeometries(a.geometries),
                d = this.parseImages(a.images, function() {
                    void 0 !== b && b(e)
                }),
                d = this.parseTextures(a.textures, d),
                d = this.parseMaterials(a.materials, d),
                e = this.parseObject(a.object, c, d);
            a.animations && (e.animations = this.parseAnimations(a.animations));
            void 0 !== a.images && 0 !== a.images.length || void 0 === b || b(e);
            return e
        },
        parseGeometries: function(a) {
            var b = {};
            if (void 0 !== a)
                for (var c = new Jd, d = new Id, e = 0, f = a.length; e < f; e++) {
                    var g,
                        h = a[e];
                    switch (h.type) {
                    case "PlaneGeometry":
                    case "PlaneBufferGeometry":
                        g = new Na[h.type](h.width, h.height, h.widthSegments, h.heightSegments);
                        break;
                    case "BoxGeometry":
                    case "BoxBufferGeometry":
                    case "CubeGeometry":
                        g = new Na[h.type](h.width, h.height, h.depth, h.widthSegments,
                        h.heightSegments, h.depthSegments);
                        break;
                    case "CircleGeometry":
                    case "CircleBufferGeometry":
                        g = new Na[h.type](h.radius, h.segments, h.thetaStart, h.thetaLength);
                        break;
                    case "CylinderGeometry":
                    case "CylinderBufferGeometry":
                        g = new Na[h.type](h.radiusTop, h.radiusBottom, h.height, h.radialSegments, h.heightSegments, h.openEnded, h.thetaStart, h.thetaLength);
                        break;
                    case "ConeGeometry":
                    case "ConeBufferGeometry":
                        g = new Na[h.type](h.radius, h.height, h.radialSegments, h.heightSegments, h.openEnded, h.thetaStart, h.thetaLength);
                        break;
                    case "SphereGeometry":
                    case "SphereBufferGeometry":
                        g = new Na[h.type](h.radius, h.widthSegments, h.heightSegments, h.phiStart, h.phiLength, h.thetaStart, h.thetaLength);
                        break;
                    case "DodecahedronGeometry":
                    case "IcosahedronGeometry":
                    case "OctahedronGeometry":
                    case "TetrahedronGeometry":
                        g = new Na[h.type](h.radius, h.detail);
                        break;
                    case "RingGeometry":
                    case "RingBufferGeometry":
                        g = new Na[h.type](h.innerRadius, h.outerRadius, h.thetaSegments, h.phiSegments, h.thetaStart, h.thetaLength);
                        break;
                    case "TorusGeometry":
                    case "TorusBufferGeometry":
                        g =
                        new Na[h.type](h.radius, h.tube, h.radialSegments, h.tubularSegments, h.arc);
                        break;
                    case "TorusKnotGeometry":
                    case "TorusKnotBufferGeometry":
                        g = new Na[h.type](h.radius, h.tube, h.tubularSegments, h.radialSegments, h.p, h.q);
                        break;
                    case "LatheGeometry":
                    case "LatheBufferGeometry":
                        g = new Na[h.type](h.points, h.segments, h.phiStart, h.phiLength);
                        break;
                    case "BufferGeometry":
                        g = d.parse(h);
                        break;
                    case "Geometry":
                        g = c.parse(h.data, this.texturePath).geometry;
                        break;
                    default:
                        console.warn('THREE.ObjectLoader: Unsupported geometry type "' +
                        h.type + '"');
                        continue
                    }
                    g.uuid = h.uuid;
                    void 0 !== h.name && (g.name = h.name);
                    b[h.uuid] = g
                }
            return b
        },
        parseMaterials: function(a, b) {
            var c = {};
            if (void 0 !== a) {
                var d = new ud;
                d.setTextures(b);
                for (var e = 0, f = a.length; e < f; e++) {
                    var g = d.parse(a[e]);
                    c[g.uuid] = g
                }
            }
            return c
        },
        parseAnimations: function(a) {
            for (var b = [], c = 0; c < a.length; c++) {
                var d = Ha.parse(a[c]);
                b.push(d)
            }
            return b
        },
        parseImages: function(a, b) {
            function c(a) {
                d.manager.itemStart(a);
                return g.load(a, function() {
                    d.manager.itemEnd(a)
                }, void 0, function() {
                    d.manager.itemError(a)
                })
            }
            var d = this,
                e = {};
            if (void 0 !== a && 0 < a.length) {
                var f = new Fd(b),
                    g = new Lc(f);
                g.setCrossOrigin(this.crossOrigin);
                for (var f = 0, h = a.length; f < h; f++) {
                    var k = a[f],
                        l = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(k.url) ? k.url : d.texturePath + k.url;
                    e[k.uuid] = c(l)
                }
            }
            return e
        },
        parseTextures: function(a, b) {
            function c(a, b) {
                if ("number" === typeof a)
                    return a;
                console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", a);
                return b[a]
            }
            var d = {};
            if (void 0 !== a)
                for (var e = 0, f = a.length; e < f; e++) {
                    var g = a[e];
                    void 0 === g.image &&
                    console.warn('THREE.ObjectLoader: No "image" specified for', g.uuid);
                    void 0 === b[g.image] && console.warn("THREE.ObjectLoader: Undefined image", g.image);
                    var h = new da(b[g.image]);
                    h.needsUpdate = !0;
                    h.uuid = g.uuid;
                    void 0 !== g.name && (h.name = g.name);
                    void 0 !== g.mapping && (h.mapping = c(g.mapping, Ge));
                    void 0 !== g.offset && h.offset.fromArray(g.offset);
                    void 0 !== g.repeat && h.repeat.fromArray(g.repeat);
                    void 0 !== g.wrap && (h.wrapS = c(g.wrap[0], ae), h.wrapT = c(g.wrap[1], ae));
                    void 0 !== g.minFilter && (h.minFilter = c(g.minFilter, be));
                    void 0 !== g.magFilter && (h.magFilter = c(g.magFilter, be));
                    void 0 !== g.anisotropy && (h.anisotropy = g.anisotropy);
                    void 0 !== g.flipY && (h.flipY = g.flipY);
                    d[g.uuid] = h
                }
            return d
        },
        parseObject: function() {
            var a = new J;
            return function(b, c, d) {
                function e(a) {
                    void 0 === c[a] && console.warn("THREE.ObjectLoader: Undefined geometry", a);
                    return c[a]
                }
                function f(a) {
                    if (void 0 !== a)
                        return void 0 === d[a] && console.warn("THREE.ObjectLoader: Undefined material", a), d[a]
                }
                var g;
                switch (b.type) {
                case "Scene":
                    g = new jb;
                    void 0 !== b.background && Number.isInteger(b.background) &&
                    (g.background = new O(b.background));
                    void 0 !== b.fog && ("Fog" === b.fog.type ? g.fog = new Jb(b.fog.color, b.fog.near, b.fog.far) : "FogExp2" === b.fog.type && (g.fog = new Ib(b.fog.color, b.fog.density)));
                    break;
                case "PerspectiveCamera":
                    g = new Ea(b.fov, b.aspect, b.near, b.far);
                    void 0 !== b.focus && (g.focus = b.focus);
                    void 0 !== b.zoom && (g.zoom = b.zoom);
                    void 0 !== b.filmGauge && (g.filmGauge = b.filmGauge);
                    void 0 !== b.filmOffset && (g.filmOffset = b.filmOffset);
                    void 0 !== b.view && (g.view = Object.assign({}, b.view));
                    break;
                case "OrthographicCamera":
                    g =
                    new Hb(b.left, b.right, b.top, b.bottom, b.near, b.far);
                    break;
                case "AmbientLight":
                    g = new nd(b.color, b.intensity);
                    break;
                case "DirectionalLight":
                    g = new md(b.color, b.intensity);
                    break;
                case "PointLight":
                    g = new kd(b.color, b.intensity, b.distance, b.decay);
                    break;
                case "SpotLight":
                    g = new jd(b.color, b.intensity, b.distance, b.angle, b.penumbra, b.decay);
                    break;
                case "HemisphereLight":
                    g = new hd(b.color, b.groundColor, b.intensity);
                    break;
                case "Mesh":
                    g = e(b.geometry);
                    var h = f(b.material);
                    g = g.bones && 0 < g.bones.length ? new dd(g, h) : new ya(g,
                    h);
                    break;
                case "LOD":
                    g = new rc;
                    break;
                case "Line":
                    g = new Ta(e(b.geometry), f(b.material), b.mode);
                    break;
                case "LineSegments":
                    g = new la(e(b.geometry), f(b.material));
                    break;
                case "PointCloud":
                case "Points":
                    g = new Kb(e(b.geometry), f(b.material));
                    break;
                case "Sprite":
                    g = new qc(f(b.material));
                    break;
                case "Group":
                    g = new sc;
                    break;
                default:
                    g = new z
                }
                g.uuid = b.uuid;
                void 0 !== b.name && (g.name = b.name);
                void 0 !== b.matrix ? (a.fromArray(b.matrix), a.decompose(g.position, g.quaternion, g.scale)) : (void 0 !== b.position && g.position.fromArray(b.position),
                void 0 !== b.rotation && g.rotation.fromArray(b.rotation), void 0 !== b.quaternion && g.quaternion.fromArray(b.quaternion), void 0 !== b.scale && g.scale.fromArray(b.scale));
                void 0 !== b.castShadow && (g.castShadow = b.castShadow);
                void 0 !== b.receiveShadow && (g.receiveShadow = b.receiveShadow);
                b.shadow && (void 0 !== b.shadow.bias && (g.shadow.bias = b.shadow.bias), void 0 !== b.shadow.radius && (g.shadow.radius = b.shadow.radius), void 0 !== b.shadow.mapSize && g.shadow.mapSize.fromArray(b.shadow.mapSize), void 0 !== b.shadow.camera && (g.shadow.camera =
                this.parseObject(b.shadow.camera)));
                void 0 !== b.visible && (g.visible = b.visible);
                void 0 !== b.userData && (g.userData = b.userData);
                if (void 0 !== b.children)
                    for (var k in b.children)
                        g.add(this.parseObject(b.children[k], c, d));
                if ("LOD" === b.type)
                    for (b = b.levels, h = 0; h < b.length; h++) {
                        var l = b[h];
                        k = g.getObjectByProperty("uuid", l.object);
                        void 0 !== k && g.addLevel(k, l.distance)
                    }
                return g
            }
        }()
    });
    ia.prototype = {
        constructor: ia,
        getPoint: function(a) {
            console.warn("THREE.Curve: Warning, getPoint() not implemented!");
            return null
        },
        getPointAt: function(a) {
            a =
            this.getUtoTmapping(a);
            return this.getPoint(a)
        },
        getPoints: function(a) {
            a || (a = 5);
            for (var b = [], c = 0; c <= a; c++)
                b.push(this.getPoint(c / a));
            return b
        },
        getSpacedPoints: function(a) {
            a || (a = 5);
            for (var b = [], c = 0; c <= a; c++)
                b.push(this.getPointAt(c / a));
            return b
        },
        getLength: function() {
            var a = this.getLengths();
            return a[a.length - 1]
        },
        getLengths: function(a) {
            a || (a = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200);
            if (this.cacheArcLengths && this.cacheArcLengths.length === a + 1 && !this.needsUpdate)
                return this.cacheArcLengths;
            this.needsUpdate = !1;
            var b = [],
                c,
                d = this.getPoint(0),
                e,
                f = 0;
            b.push(0);
            for (e = 1; e <= a; e++)
                c = this.getPoint(e / a), f += c.distanceTo(d), b.push(f), d = c;
            return this.cacheArcLengths = b
        },
        updateArcLengths: function() {
            this.needsUpdate = !0;
            this.getLengths()
        },
        getUtoTmapping: function(a, b) {
            var c = this.getLengths(),
                d,
                e = c.length,
                f;
            f = b ? b : a * c[e - 1];
            for (var g = 0, h = e - 1, k; g <= h;)
                if (d = Math.floor(g + (h - g) / 2), k = c[d] - f, 0 > k)
                    g = d + 1;
                else if (0 < k)
                    h = d - 1;
                else {
                    h = d;
                    break
                }
            d = h;
            if (c[d] === f)
                return d / (e - 1);
            g = c[d];
            return (d + (f - g) / (c[d + 1] - g)) / (e - 1)
        },
        getTangent: function(a) {
            var b =
            a - 1E-4;
            a += 1E-4;
            0 > b && (b = 0);
            1 < a && (a = 1);
            b = this.getPoint(b);
            return this.getPoint(a).clone().sub(b).normalize()
        },
        getTangentAt: function(a) {
            a = this.getUtoTmapping(a);
            return this.getTangent(a)
        },
        computeFrenetFrames: function(a, b) {
            var c = new q,
                d = [],
                e = [],
                f = [],
                g = new q,
                h = new J,
                k,
                l;
            for (k = 0; k <= a; k++)
                l = k / a, d[k] = this.getTangentAt(l), d[k].normalize();
            e[0] = new q;
            f[0] = new q;
            k = Number.MAX_VALUE;
            l = Math.abs(d[0].x);
            var w = Math.abs(d[0].y),
                n = Math.abs(d[0].z);
            l <= k && (k = l, c.set(1, 0, 0));
            w <= k && (k = w, c.set(0, 1, 0));
            n <= k && c.set(0, 0, 1);
            g.crossVectors(d[0], c).normalize();
            e[0].crossVectors(d[0], g);
            f[0].crossVectors(d[0], e[0]);
            for (k = 1; k <= a; k++)
                e[k] = e[k - 1].clone(), f[k] = f[k - 1].clone(), g.crossVectors(d[k - 1], d[k]), g.length() > Number.EPSILON && (g.normalize(), c = Math.acos(T.clamp(d[k - 1].dot(d[k]), -1, 1)), e[k].applyMatrix4(h.makeRotationAxis(g, c))), f[k].crossVectors(d[k], e[k]);
            if (!0 === b)
                for (c = Math.acos(T.clamp(e[0].dot(e[a]), -1, 1)), c /= a, 0 < d[0].dot(g.crossVectors(e[0], e[a])) && (c = -c), k = 1; k <= a; k++)
                    e[k].applyMatrix4(h.makeRotationAxis(d[k], c * k)),
                    f[k].crossVectors(d[k], e[k]);
            return {
                tangents: d,
                normals: e,
                binormals: f
            }
        }
    };
    ia.create = function(a, b) {
        a.prototype = Object.create(ia.prototype);
        a.prototype.constructor = a;
        a.prototype.getPoint = b;
        return a
    };
    Sa.prototype = Object.create(ia.prototype);
    Sa.prototype.constructor = Sa;
    Sa.prototype.isLineCurve = !0;
    Sa.prototype.getPoint = function(a) {
        if (1 === a)
            return this.v2.clone();
        var b = this.v2.clone().sub(this.v1);
        b.multiplyScalar(a).add(this.v1);
        return b
    };
    Sa.prototype.getPointAt = function(a) {
        return this.getPoint(a)
    };
    Sa.prototype.getTangent =
    function(a) {
        return this.v2.clone().sub(this.v1).normalize()
    };
    Oc.prototype = Object.assign(Object.create(ia.prototype), {
        constructor: Oc,
        add: function(a) {
            this.curves.push(a)
        },
        closePath: function() {
            var a = this.curves[0].getPoint(0),
                b = this.curves[this.curves.length - 1].getPoint(1);
            a.equals(b) || this.curves.push(new Sa(b, a))
        },
        getPoint: function(a) {
            var b = a * this.getLength(),
                c = this.getCurveLengths();
            for (a = 0; a < c.length;) {
                if (c[a] >= b)
                    return b = c[a] - b, a = this.curves[a], c = a.getLength(), a.getPointAt(0 === c ? 0 : 1 - b / c);
                a++
            }
            return null
        },
        getLength: function() {
            var a = this.getCurveLengths();
            return a[a.length - 1]
        },
        updateArcLengths: function() {
            this.needsUpdate = !0;
            this.cacheLengths = null;
            this.getLengths()
        },
        getCurveLengths: function() {
            if (this.cacheLengths && this.cacheLengths.length === this.curves.length)
                return this.cacheLengths;
            for (var a = [], b = 0, c = 0, d = this.curves.length; c < d; c++)
                b += this.curves[c].getLength(), a.push(b);
            return this.cacheLengths = a
        },
        getSpacedPoints: function(a) {
            a || (a = 40);
            for (var b = [], c = 0; c <= a; c++)
                b.push(this.getPoint(c / a));
            this.autoClose &&
            b.push(b[0]);
            return b
        },
        getPoints: function(a) {
            a = a || 12;
            for (var b = [], c, d = 0, e = this.curves; d < e.length; d++)
                for (var f = e[d], f = f.getPoints(f && f.isEllipseCurve ? 2 * a : f && f.isLineCurve ? 1 : f && f.isSplineCurve ? a * f.points.length : a), g = 0; g < f.length; g++) {
                    var h = f[g];
                    c && c.equals(h) || (b.push(h), c = h)
                }
            this.autoClose && 1 < b.length && !b[b.length - 1].equals(b[0]) && b.push(b[0]);
            return b
        },
        createPointsGeometry: function(a) {
            a = this.getPoints(a);
            return this.createGeometry(a)
        },
        createSpacedPointsGeometry: function(a) {
            a = this.getSpacedPoints(a);
            return this.createGeometry(a)
        },
        createGeometry: function(a) {
            for (var b = new Q, c = 0, d = a.length; c < d; c++) {
                var e = a[c];
                b.vertices.push(new q(e.x, e.y, e.z || 0))
            }
            return b
        }
    });
    Va.prototype = Object.create(ia.prototype);
    Va.prototype.constructor = Va;
    Va.prototype.isEllipseCurve = !0;
    Va.prototype.getPoint = function(a) {
        for (var b = 2 * Math.PI, c = this.aEndAngle - this.aStartAngle, d = Math.abs(c) < Number.EPSILON; 0 > c;)
            c += b;
        for (; c > b;)
            c -= b;
        c < Number.EPSILON && (c = d ? 0 : b);
        !0 !== this.aClockwise || d || (c = c === b ? -b : c - b);
        b = this.aStartAngle + a * c;
        a = this.aX +
        this.xRadius * Math.cos(b);
        var e = this.aY + this.yRadius * Math.sin(b);
        0 !== this.aRotation && (b = Math.cos(this.aRotation), c = Math.sin(this.aRotation), d = a - this.aX, e -= this.aY, a = d * b - e * c + this.aX, e = d * c + e * b + this.aY);
        return new B(a, e)
    };
    var Xc = {
        tangentQuadraticBezier: function(a, b, c, d) {
            return 2 * (1 - a) * (c - b) + 2 * a * (d - c)
        },
        tangentCubicBezier: function(a, b, c, d, e) {
            return -3 * b * (1 - a) * (1 - a) + 3 * c * (1 - a) * (1 - a) - 6 * a * c * (1 - a) + 6 * a * d * (1 - a) - 3 * a * a * d + 3 * a * a * e
        },
        tangentSpline: function(a, b, c, d, e) {
            return 6 * a * a - 6 * a + (3 * a * a - 4 * a + 1) + (-6 * a * a + 6 * a) + (3 * a *
            a - 2 * a)
        },
        interpolate: function(a, b, c, d, e) {
            a = .5 * (c - a);
            d = .5 * (d - b);
            var f = e * e;
            return (2 * b - 2 * c + a + d) * e * f + (-3 * b + 3 * c - 2 * a - d) * f + a * e + b
        }
    };
    xb.prototype = Object.create(ia.prototype);
    xb.prototype.constructor = xb;
    xb.prototype.isSplineCurve = !0;
    xb.prototype.getPoint = function(a) {
        var b = this.points;
        a *= b.length - 1;
        var c = Math.floor(a);
        a -= c;
        var d = b[0 === c ? c : c - 1],
            e = b[c],
            f = b[c > b.length - 2 ? b.length - 1 : c + 1],
            b = b[c > b.length - 3 ? b.length - 1 : c + 2],
            c = Xc.interpolate;
        return new B(c(d.x, e.x, f.x, b.x, a), c(d.y, e.y, f.y, b.y, a))
    };
    yb.prototype = Object.create(ia.prototype);
    yb.prototype.constructor = yb;
    yb.prototype.getPoint = function(a) {
        var b = ra.b3;
        return new B(b(a, this.v0.x, this.v1.x, this.v2.x, this.v3.x), b(a, this.v0.y, this.v1.y, this.v2.y, this.v3.y))
    };
    yb.prototype.getTangent = function(a) {
        var b = Xc.tangentCubicBezier;
        return (new B(b(a, this.v0.x, this.v1.x, this.v2.x, this.v3.x), b(a, this.v0.y, this.v1.y, this.v2.y, this.v3.y))).normalize()
    };
    zb.prototype = Object.create(ia.prototype);
    zb.prototype.constructor = zb;
    zb.prototype.getPoint = function(a) {
        var b = ra.b2;
        return new B(b(a, this.v0.x,
        this.v1.x, this.v2.x), b(a, this.v0.y, this.v1.y, this.v2.y))
    };
    zb.prototype.getTangent = function(a) {
        var b = Xc.tangentQuadraticBezier;
        return (new B(b(a, this.v0.x, this.v1.x, this.v2.x), b(a, this.v0.y, this.v1.y, this.v2.y))).normalize()
    };
    var de = Object.assign(Object.create(Oc.prototype), {
        fromPoints: function(a) {
            this.moveTo(a[0].x, a[0].y);
            for (var b = 1, c = a.length; b < c; b++)
                this.lineTo(a[b].x, a[b].y)
        },
        moveTo: function(a, b) {
            this.currentPoint.set(a, b)
        },
        lineTo: function(a, b) {
            var c = new Sa(this.currentPoint.clone(), new B(a, b));
            this.curves.push(c);
            this.currentPoint.set(a, b)
        },
        quadraticCurveTo: function(a, b, c, d) {
            a = new zb(this.currentPoint.clone(), new B(a, b), new B(c, d));
            this.curves.push(a);
            this.currentPoint.set(c, d)
        },
        bezierCurveTo: function(a, b, c, d, e, f) {
            a = new yb(this.currentPoint.clone(), new B(a, b), new B(c, d), new B(e, f));
            this.curves.push(a);
            this.currentPoint.set(e, f)
        },
        splineThru: function(a) {
            var b = [this.currentPoint.clone()].concat(a),
                b = new xb(b);
            this.curves.push(b);
            this.currentPoint.copy(a[a.length - 1])
        },
        arc: function(a, b, c, d,
        e, f) {
            this.absarc(a + this.currentPoint.x, b + this.currentPoint.y, c, d, e, f)
        },
        absarc: function(a, b, c, d, e, f) {
            this.absellipse(a, b, c, c, d, e, f)
        },
        ellipse: function(a, b, c, d, e, f, g, h) {
            this.absellipse(a + this.currentPoint.x, b + this.currentPoint.y, c, d, e, f, g, h)
        },
        absellipse: function(a, b, c, d, e, f, g, h) {
            a = new Va(a, b, c, d, e, f, g, h);
            0 < this.curves.length && (b = a.getPoint(0), b.equals(this.currentPoint) || this.lineTo(b.x, b.y));
            this.curves.push(a);
            a = a.getPoint(1);
            this.currentPoint.copy(a)
        }
    });
    Ab.prototype = Object.assign(Object.create(de),
    {
        constructor: Ab,
        getPointsHoles: function(a) {
            for (var b = [], c = 0, d = this.holes.length; c < d; c++)
                b[c] = this.holes[c].getPoints(a);
            return b
        },
        extractAllPoints: function(a) {
            return {
                shape: this.getPoints(a),
                holes: this.getPointsHoles(a)
            }
        },
        extractPoints: function(a) {
            return this.extractAllPoints(a)
        }
    });
    Pc.prototype = de;
    de.constructor = Pc;
    Kd.prototype = {
        moveTo: function(a, b) {
            this.currentPath = new Pc;
            this.subPaths.push(this.currentPath);
            this.currentPath.moveTo(a, b)
        },
        lineTo: function(a, b) {
            this.currentPath.lineTo(a, b)
        },
        quadraticCurveTo: function(a,
        b, c, d) {
            this.currentPath.quadraticCurveTo(a, b, c, d)
        },
        bezierCurveTo: function(a, b, c, d, e, f) {
            this.currentPath.bezierCurveTo(a, b, c, d, e, f)
        },
        splineThru: function(a) {
            this.currentPath.splineThru(a)
        },
        toShapes: function(a, b) {
            function c(a) {
                for (var b = [], c = 0, d = a.length; c < d; c++) {
                    var e = a[c],
                        f = new Ab;
                    f.curves = e.curves;
                    b.push(f)
                }
                return b
            }
            function d(a, b) {
                for (var c = b.length, d = !1, e = c - 1, f = 0; f < c; e = f++) {
                    var g = b[e],
                        h = b[f],
                        k = h.x - g.x,
                        l = h.y - g.y;
                    if (Math.abs(l) > Number.EPSILON) {
                        if (0 > l && (g = b[f], k = -k, h = b[e], l = -l), !(a.y < g.y || a.y > h.y))
                            if (a.y ===
                            g.y) {
                                if (a.x === g.x)
                                    return !0
                            } else {
                                e = l * (a.x - g.x) - k * (a.y - g.y);
                                if (0 === e)
                                    return !0;
                                0 > e || (d = !d)
                            }
                    } else if (a.y === g.y && (h.x <= a.x && a.x <= g.x || g.x <= a.x && a.x <= h.x))
                        return !0
                }
                return d
            }
            var e = ra.isClockWise,
                f = this.subPaths;
            if (0 === f.length)
                return [];
            if (!0 === b)
                return c(f);
            var g,
                h,
                k,
                l = [];
            if (1 === f.length)
                return h = f[0], k = new Ab, k.curves = h.curves, l.push(k), l;
            var q = !e(f[0].getPoints()),
                q = a ? !q : q;
            k = [];
            var n = [],
                p = [],
                r = 0,
                x;
            n[r] = void 0;
            p[r] = [];
            for (var t = 0, D = f.length; t < D; t++)
                h = f[t], x = h.getPoints(), g = e(x), (g = a ? !g : g) ? (!q && n[r] && r++,
                n[r] = {
                    s: new Ab,
                    p: x
                }, n[r].s.curves = h.curves, q && r++, p[r] = []) : p[r].push({
                    h: h,
                    p: x[0]
                });
            if (!n[0])
                return c(f);
            if (1 < n.length) {
                t = !1;
                h = [];
                e = 0;
                for (f = n.length; e < f; e++)
                    k[e] = [];
                e = 0;
                for (f = n.length; e < f; e++)
                    for (g = p[e], q = 0; q < g.length; q++) {
                        r = g[q];
                        x = !0;
                        for (D = 0; D < n.length; D++)
                            d(r.p, n[D].p) && (e !== D && h.push({
                                froms: e,
                                tos: D,
                                hole: q
                            }), x ? (x = !1, k[D].push(r)) : t = !0);
                        x && k[e].push(r)
                    }
                0 < h.length && (t || (p = k))
            }
            t = 0;
            for (e = n.length; t < e; t++)
                for (k = n[t].s, l.push(k), h = p[t], f = 0, g = h.length; f < g; f++)
                    k.holes.push(h[f].h);
            return l
        }
    };
    Object.assign(Ld.prototype,
    {
        isFont: !0,
        generateShapes: function(a, b, c) {
            void 0 === b && (b = 100);
            void 0 === c && (c = 4);
            var d = this.data;
            a = String(a).split("");
            var e = b / d.resolution,
                f = 0;
            b = [];
            for (var g = 0; g < a.length; g++) {
                var h;
                h = e;
                var k = f,
                    l = d.glyphs[a[g]] || d.glyphs["?"];
                if (l) {
                    var q = new Kd,
                        n = [],
                        p = ra.b2,
                        r = ra.b3,
                        x,
                        t,
                        D,
                        u,
                        v,
                        z,
                        y,
                        E;
                    if (l.o)
                        for (var B = l._cachedOutline || (l._cachedOutline = l.o.split(" ")), C = 0, G = B.length; C < G;)
                            switch (B[C++]) {
                            case "m":
                                x = B[C++] * h + k;
                                t = B[C++] * h;
                                q.moveTo(x, t);
                                break;
                            case "l":
                                x = B[C++] * h + k;
                                t = B[C++] * h;
                                q.lineTo(x, t);
                                break;
                            case "q":
                                x =
                                B[C++] * h + k;
                                t = B[C++] * h;
                                v = B[C++] * h + k;
                                z = B[C++] * h;
                                q.quadraticCurveTo(v, z, x, t);
                                if (u = n[n.length - 1]) {
                                    D = u.x;
                                    u = u.y;
                                    for (var J = 1; J <= c; J++) {
                                        var K = J / c;
                                        p(K, D, v, x);
                                        p(K, u, z, t)
                                    }
                                }
                                break;
                            case "b":
                                if (x = B[C++] * h + k, t = B[C++] * h, v = B[C++] * h + k, z = B[C++] * h, y = B[C++] * h + k, E = B[C++] * h, q.bezierCurveTo(v, z, y, E, x, t), u = n[n.length - 1])
                                    for (D = u.x, u = u.y, J = 1; J <= c; J++)
                                        K = J / c, r(K, D, v, y, x), r(K, u, z, E, t)
                            }
                    h = {
                        offset: l.ha * h,
                        path: q
                    }
                } else
                    h = void 0;
                f += h.offset;
                b.push(h.path)
            }
            c = [];
            d = 0;
            for (a = b.length; d < a; d++)
                Array.prototype.push.apply(c, b[d].toShapes());
            return c
        }
    });
    Object.assign(ye.prototype, {
        load: function(a, b, c, d) {
            var e = this;
            (new Ja(this.manager)).load(a, function(a) {
                var c;
                try {
                    c = JSON.parse(a)
                } catch (d) {
                    console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."), c = JSON.parse(a.substring(65, a.length - 2))
                }
                a = e.parse(c);
                b && b(a)
            }, c, d)
        },
        parse: function(a) {
            return new Ld(a)
        }
    });
    var Nd;
    Object.assign(Od.prototype, {
        load: function(a, b, c, d) {
            var e = new Ja(this.manager);
            e.setResponseType("arraybuffer");
            e.load(a, function(a) {
                Md().decodeAudioData(a,
                function(a) {
                    b(a)
                })
            }, c, d)
        }
    });
    Object.assign(ze.prototype, {
        update: function() {
            var a,
                b,
                c,
                d,
                e,
                f,
                g,
                h = new J,
                k = new J;
            return function(l) {
                if (a !== this || b !== l.focus || c !== l.fov || d !== l.aspect * this.aspect || e !== l.near || f !== l.far || g !== l.zoom) {
                    a = this;
                    b = l.focus;
                    c = l.fov;
                    d = l.aspect * this.aspect;
                    e = l.near;
                    f = l.far;
                    g = l.zoom;
                    var q = l.projectionMatrix.clone(),
                        n = this.eyeSep / 2,
                        p = n * e / b,
                        r = e * Math.tan(T.DEG2RAD * c * .5) / g,
                        x;
                    k.elements[12] = -n;
                    h.elements[12] = n;
                    n = -r * d + p;
                    x = r * d + p;
                    q.elements[0] = 2 * e / (x - n);
                    q.elements[8] = (x + n) / (x - n);
                    this.cameraL.projectionMatrix.copy(q);
                    n = -r * d - p;
                    x = r * d - p;
                    q.elements[0] = 2 * e / (x - n);
                    q.elements[8] = (x + n) / (x - n);
                    this.cameraR.projectionMatrix.copy(q)
                }
                this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(k);
                this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(h)
            }
        }()
    });
    vd.prototype = Object.create(z.prototype);
    vd.prototype.constructor = vd;
    Pd.prototype = Object.assign(Object.create(z.prototype), {
        constructor: Pd,
        getInput: function() {
            return this.gain
        },
        removeFilter: function() {
            null !== this.filter && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination),
            this.gain.connect(this.context.destination), this.filter = null)
        },
        getFilter: function() {
            return this.filter
        },
        setFilter: function(a) {
            null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination);
            this.filter = a;
            this.gain.connect(this.filter);
            this.filter.connect(this.context.destination)
        },
        getMasterVolume: function() {
            return this.gain.gain.value
        },
        setMasterVolume: function(a) {
            this.gain.gain.value = a
        },
        updateMatrixWorld: function() {
            var a =
                new q,
                b = new ba,
                c = new q,
                d = new q;
            return function(e) {
                z.prototype.updateMatrixWorld.call(this, e);
                e = this.context.listener;
                var f = this.up;
                this.matrixWorld.decompose(a, b, c);
                d.set(0, 0, -1).applyQuaternion(b);
                e.setPosition(a.x, a.y, a.z);
                e.setOrientation(d.x, d.y, d.z, f.x, f.y, f.z)
            }
        }()
    });
    dc.prototype = Object.assign(Object.create(z.prototype), {
        constructor: dc,
        getOutput: function() {
            return this.gain
        },
        setNodeSource: function(a) {
            this.hasPlaybackControl = !1;
            this.sourceType = "audioNode";
            this.source = a;
            this.connect();
            return this
        },
        setBuffer: function(a) {
            this.source.buffer = a;
            this.sourceType = "buffer";
            this.autoplay && this.play();
            return this
        },
        play: function() {
            if (!0 === this.isPlaying)
                console.warn("THREE.Audio: Audio is already playing.");
            else if (!1 === this.hasPlaybackControl)
                console.warn("THREE.Audio: this Audio has no playback control.");
            else {
                var a = this.context.createBufferSource();
                a.buffer = this.source.buffer;
                a.loop = this.source.loop;
                a.onended = this.source.onended;
                a.start(0, this.startTime);
                a.playbackRate.value = this.playbackRate;
                this.isPlaying =
                !0;
                this.source = a;
                return this.connect()
            }
        },
        pause: function() {
            if (!1 === this.hasPlaybackControl)
                console.warn("THREE.Audio: this Audio has no playback control.");
            else
                return this.source.stop(), this.startTime = this.context.currentTime, this.isPlaying = !1, this
        },
        stop: function() {
            if (!1 === this.hasPlaybackControl)
                console.warn("THREE.Audio: this Audio has no playback control.");
            else
                return this.source.stop(), this.startTime = 0, this.isPlaying = !1, this
        },
        connect: function() {
            if (0 < this.filters.length) {
                this.source.connect(this.filters[0]);
                for (var a = 1, b = this.filters.length; a < b; a++)
                    this.filters[a - 1].connect(this.filters[a]);
                this.filters[this.filters.length - 1].connect(this.getOutput())
            } else
                this.source.connect(this.getOutput());
            return this
        },
        disconnect: function() {
            if (0 < this.filters.length) {
                this.source.disconnect(this.filters[0]);
                for (var a = 1, b = this.filters.length; a < b; a++)
                    this.filters[a - 1].disconnect(this.filters[a]);
                this.filters[this.filters.length - 1].disconnect(this.getOutput())
            } else
                this.source.disconnect(this.getOutput());
            return this
        },
        getFilters: function() {
            return this.filters
        },
        setFilters: function(a) {
            a || (a = []);
            !0 === this.isPlaying ? (this.disconnect(), this.filters = a, this.connect()) : this.filters = a;
            return this
        },
        getFilter: function() {
            return this.getFilters()[0]
        },
        setFilter: function(a) {
            return this.setFilters(a ? [a] : [])
        },
        setPlaybackRate: function(a) {
            if (!1 === this.hasPlaybackControl)
                console.warn("THREE.Audio: this Audio has no playback control.");
            else
                return this.playbackRate = a, !0 === this.isPlaying && (this.source.playbackRate.value = this.playbackRate),
                this
        },
        getPlaybackRate: function() {
            return this.playbackRate
        },
        onEnded: function() {
            this.isPlaying = !1
        },
        getLoop: function() {
            return !1 === this.hasPlaybackControl ? (console.warn("THREE.Audio: this Audio has no playback control."), !1) : this.source.loop
        },
        setLoop: function(a) {
            !1 === this.hasPlaybackControl ? console.warn("THREE.Audio: this Audio has no playback control.") : this.source.loop = a
        },
        getVolume: function() {
            return this.gain.gain.value
        },
        setVolume: function(a) {
            this.gain.gain.value = a;
            return this
        }
    });
    Qd.prototype = Object.assign(Object.create(dc.prototype),
    {
        constructor: Qd,
        getOutput: function() {
            return this.panner
        },
        getRefDistance: function() {
            return this.panner.refDistance
        },
        setRefDistance: function(a) {
            this.panner.refDistance = a
        },
        getRolloffFactor: function() {
            return this.panner.rolloffFactor
        },
        setRolloffFactor: function(a) {
            this.panner.rolloffFactor = a
        },
        getDistanceModel: function() {
            return this.panner.distanceModel
        },
        setDistanceModel: function(a) {
            this.panner.distanceModel = a
        },
        getMaxDistance: function() {
            return this.panner.maxDistance
        },
        setMaxDistance: function(a) {
            this.panner.maxDistance =
            a
        },
        updateMatrixWorld: function() {
            var a = new q;
            return function(b) {
                z.prototype.updateMatrixWorld.call(this, b);
                a.setFromMatrixPosition(this.matrixWorld);
                this.panner.setPosition(a.x, a.y, a.z)
            }
        }()
    });
    Object.assign(Rd.prototype, {
        getFrequencyData: function() {
            this.analyser.getByteFrequencyData(this.data);
            return this.data
        },
        getAverageFrequency: function() {
            for (var a = 0, b = this.getFrequencyData(), c = 0; c < b.length; c++)
                a += b[c];
            return a / b.length
        }
    });
    wd.prototype = {
        constructor: wd,
        accumulate: function(a, b) {
            var c = this.buffer,
                d =
                this.valueSize,
                e = a * d + d,
                f = this.cumulativeWeight;
            if (0 === f) {
                for (f = 0; f !== d; ++f)
                    c[e + f] = c[f];
                f = b
            } else
                f += b, this._mixBufferRegion(c, e, 0, b / f, d);
            this.cumulativeWeight = f
        },
        apply: function(a) {
            var b = this.valueSize,
                c = this.buffer;
            a = a * b + b;
            var d = this.cumulativeWeight,
                e = this.binding;
            this.cumulativeWeight = 0;
            1 > d && this._mixBufferRegion(c, a, 3 * b, 1 - d, b);
            for (var d = b, f = b + b; d !== f; ++d)
                if (c[d] !== c[d + b]) {
                    e.setValue(c, a);
                    break
                }
        },
        saveOriginalState: function() {
            var a = this.buffer,
                b = this.valueSize,
                c = 3 * b;
            this.binding.getValue(a, c);
            for (var d =
            b; d !== c; ++d)
                a[d] = a[c + d % b];
            this.cumulativeWeight = 0
        },
        restoreOriginalState: function() {
            this.binding.setValue(this.buffer, 3 * this.valueSize)
        },
        _select: function(a, b, c, d, e) {
            if (.5 <= d)
                for (d = 0; d !== e; ++d)
                    a[b + d] = a[c + d]
        },
        _slerp: function(a, b, c, d, e) {
            ba.slerpFlat(a, b, a, b, a, c, d)
        },
        _lerp: function(a, b, c, d, e) {
            for (var f = 1 - d, g = 0; g !== e; ++g) {
                var h = b + g;
                a[h] = a[h] * f + a[c + g] * d
            }
        }
    };
    fa.prototype = {
        constructor: fa,
        getValue: function(a, b) {
            this.bind();
            this.getValue(a, b)
        },
        setValue: function(a, b) {
            this.bind();
            this.setValue(a, b)
        },
        bind: function() {
            var a =
                this.node,
                b = this.parsedPath,
                c = b.objectName,
                d = b.propertyName,
                e = b.propertyIndex;
            a || (this.node = a = fa.findNode(this.rootNode, b.nodeName) || this.rootNode);
            this.getValue = this._getValue_unavailable;
            this.setValue = this._setValue_unavailable;
            if (a) {
                if (c) {
                    var f = b.objectIndex;
                    switch (c) {
                    case "materials":
                        if (!a.material) {
                            console.error("  can not bind to material as node does not have a material", this);
                            return
                        }
                        if (!a.material.materials) {
                            console.error("  can not bind to material.materials as node.material does not have a materials array",
                            this);
                            return
                        }
                        a = a.material.materials;
                        break;
                    case "bones":
                        if (!a.skeleton) {
                            console.error("  can not bind to bones as node does not have a skeleton", this);
                            return
                        }
                        a = a.skeleton.bones;
                        for (c = 0; c < a.length; c++)
                            if (a[c].name === f) {
                                f = c;
                                break
                            }
                        break;
                    default:
                        if (void 0 === a[c]) {
                            console.error("  can not bind to objectName of node, undefined", this);
                            return
                        }
                        a = a[c]
                    }
                    if (void 0 !== f) {
                        if (void 0 === a[f]) {
                            console.error("  trying to bind to objectIndex of objectName, but is undefined:", this, a);
                            return
                        }
                        a = a[f]
                    }
                }
                f = a[d];
                if (void 0 === f)
                    console.error("  trying to update property for track: " +
                    b.nodeName + "." + d + " but it wasn't found.", a);
                else {
                    b = this.Versioning.None;
                    void 0 !== a.needsUpdate ? (b = this.Versioning.NeedsUpdate, this.targetObject = a) : void 0 !== a.matrixWorldNeedsUpdate && (b = this.Versioning.MatrixWorldNeedsUpdate, this.targetObject = a);
                    c = this.BindingType.Direct;
                    if (void 0 !== e) {
                        if ("morphTargetInfluences" === d) {
                            if (!a.geometry) {
                                console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry", this);
                                return
                            }
                            if (!a.geometry.morphTargets) {
                                console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",
                                this);
                                return
                            }
                            for (c = 0; c < this.node.geometry.morphTargets.length; c++)
                                if (a.geometry.morphTargets[c].name === e) {
                                    e = c;
                                    break
                                }
                        }
                        c = this.BindingType.ArrayElement;
                        this.resolvedProperty = f;
                        this.propertyIndex = e
                    } else
                        void 0 !== f.fromArray && void 0 !== f.toArray ? (c = this.BindingType.HasFromToArray, this.resolvedProperty = f) : void 0 !== f.length ? (c = this.BindingType.EntireArray, this.resolvedProperty = f) : this.propertyName = d;
                    this.getValue = this.GetterByBindingType[c];
                    this.setValue = this.SetterByBindingTypeAndVersioning[c][b]
                }
            } else
                console.error("  trying to update node for track: " +
                this.path + " but it wasn't found.")
        },
        unbind: function() {
            this.node = null;
            this.getValue = this._getValue_unbound;
            this.setValue = this._setValue_unbound
        }
    };
    Object.assign(fa.prototype, {
        _getValue_unavailable: function() {},
        _setValue_unavailable: function() {},
        _getValue_unbound: fa.prototype.getValue,
        _setValue_unbound: fa.prototype.setValue,
        BindingType: {
            Direct: 0,
            EntireArray: 1,
            ArrayElement: 2,
            HasFromToArray: 3
        },
        Versioning: {
            None: 0,
            NeedsUpdate: 1,
            MatrixWorldNeedsUpdate: 2
        },
        GetterByBindingType: [function(a, b) {
            a[b] = this.node[this.propertyName]
        },
        function(a, b) {
            for (var c = this.resolvedProperty, d = 0, e = c.length; d !== e; ++d)
                a[b++] = c[d]
        }, function(a, b) {
            a[b] = this.resolvedProperty[this.propertyIndex]
        }, function(a, b) {
            this.resolvedProperty.toArray(a, b)
        }],
        SetterByBindingTypeAndVersioning: [[function(a, b) {
            this.node[this.propertyName] = a[b]
        }, function(a, b) {
            this.node[this.propertyName] = a[b];
            this.targetObject.needsUpdate = !0
        }, function(a, b) {
            this.node[this.propertyName] = a[b];
            this.targetObject.matrixWorldNeedsUpdate = !0
        }], [function(a, b) {
            for (var c = this.resolvedProperty,
                d = 0, e = c.length; d !== e; ++d)
                c[d] = a[b++]
        }, function(a, b) {
            for (var c = this.resolvedProperty, d = 0, e = c.length; d !== e; ++d)
                c[d] = a[b++];
            this.targetObject.needsUpdate = !0
        }, function(a, b) {
            for (var c = this.resolvedProperty, d = 0, e = c.length; d !== e; ++d)
                c[d] = a[b++];
            this.targetObject.matrixWorldNeedsUpdate = !0
        }], [function(a, b) {
            this.resolvedProperty[this.propertyIndex] = a[b]
        }, function(a, b) {
            this.resolvedProperty[this.propertyIndex] = a[b];
            this.targetObject.needsUpdate = !0
        }, function(a, b) {
            this.resolvedProperty[this.propertyIndex] = a[b];
            this.targetObject.matrixWorldNeedsUpdate = !0
        }], [function(a, b) {
            this.resolvedProperty.fromArray(a, b)
        }, function(a, b) {
            this.resolvedProperty.fromArray(a, b);
            this.targetObject.needsUpdate = !0
        }, function(a, b) {
            this.resolvedProperty.fromArray(a, b);
            this.targetObject.matrixWorldNeedsUpdate = !0
        }]]
    });
    fa.Composite = function(a, b, c) {
        c = c || fa.parseTrackName(b);
        this._targetGroup = a;
        this._bindings = a.subscribe_(b, c)
    };
    fa.Composite.prototype = {
        constructor: fa.Composite,
        getValue: function(a, b) {
            this.bind();
            var c = this._bindings[this._targetGroup.nCachedObjects_];
            void 0 !== c && c.getValue(a, b)
        },
        setValue: function(a, b) {
            for (var c = this._bindings, d = this._targetGroup.nCachedObjects_, e = c.length; d !== e; ++d)
                c[d].setValue(a, b)
        },
        bind: function() {
            for (var a = this._bindings, b = this._targetGroup.nCachedObjects_, c = a.length; b !== c; ++b)
                a[b].bind()
        },
        unbind: function() {
            for (var a = this._bindings, b = this._targetGroup.nCachedObjects_, c = a.length; b !== c; ++b)
                a[b].unbind()
        }
    };
    fa.create = function(a, b, c) {
        return a && a.isAnimationObjectGroup ? new fa.Composite(a, b, c) : new fa(a, b, c)
    };
    fa.parseTrackName = function(a) {
        var b =
        /^((?:\w+[\/:])*)(\w+)?(?:\.(\w+)(?:\[(.+)\])?)?\.(\w+)(?:\[(.+)\])?$/.exec(a);
        if (!b)
            throw Error("cannot parse trackName at all: " + a);
        b = {
            nodeName: b[2],
            objectName: b[3],
            objectIndex: b[4],
            propertyName: b[5],
            propertyIndex: b[6]
        };
        if (null === b.propertyName || 0 === b.propertyName.length)
            throw Error("can not parse propertyName from trackName: " + a);
        return b
    };
    fa.findNode = function(a, b) {
        if (!b || "" === b || "root" === b || "." === b || -1 === b || b === a.name || b === a.uuid)
            return a;
        if (a.skeleton) {
            var c = function(a) {
                for (var c = 0; c < a.bones.length; c++) {
                    var d =
                    a.bones[c];
                    if (d.name === b)
                        return d
                }
                return null
            }(a.skeleton);
            if (c)
                return c
        }
        if (a.children) {
            var d = function(a) {
                for (var c = 0; c < a.length; c++) {
                    var g = a[c];
                    if (g.name === b || g.uuid === b || (g = d(g.children)))
                        return g
                }
                return null
            };
            if (c = d(a.children))
                return c
        }
        return null
    };
    Sd.prototype = {
        constructor: Sd,
        isAnimationObjectGroup: !0,
        add: function(a) {
            for (var b = this._objects, c = b.length, d = this.nCachedObjects_, e = this._indicesByUUID, f = this._paths, g = this._parsedPaths, h = this._bindings, k = h.length, l = 0, q = arguments.length; l !== q; ++l) {
                var n =
                    arguments[l],
                    p = n.uuid,
                    r = e[p];
                if (void 0 === r) {
                    r = c++;
                    e[p] = r;
                    b.push(n);
                    for (var p = 0, x = k; p !== x; ++p)
                        h[p].push(new fa(n, f[p], g[p]))
                } else if (r < d) {
                    var t = b[r],
                        D = --d,
                        x = b[D];
                    e[x.uuid] = r;
                    b[r] = x;
                    e[p] = D;
                    b[D] = n;
                    p = 0;
                    for (x = k; p !== x; ++p) {
                        var u = h[p],
                            v = u[r];
                        u[r] = u[D];
                        void 0 === v && (v = new fa(n, f[p], g[p]));
                        u[D] = v
                    }
                } else
                    b[r] !== t && console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")
            }
            this.nCachedObjects_ = d
        },
        remove: function(a) {
            for (var b = this._objects,
                c = this.nCachedObjects_, d = this._indicesByUUID, e = this._bindings, f = e.length, g = 0, h = arguments.length; g !== h; ++g) {
                var k = arguments[g],
                    l = k.uuid,
                    q = d[l];
                if (void 0 !== q && q >= c) {
                    var n = c++,
                        p = b[n];
                    d[p.uuid] = q;
                    b[q] = p;
                    d[l] = n;
                    b[n] = k;
                    k = 0;
                    for (l = f; k !== l; ++k) {
                        var p = e[k],
                            r = p[q];
                        p[q] = p[n];
                        p[n] = r
                    }
                }
            }
            this.nCachedObjects_ = c
        },
        uncache: function(a) {
            for (var b = this._objects, c = b.length, d = this.nCachedObjects_, e = this._indicesByUUID, f = this._bindings, g = f.length, h = 0, k = arguments.length; h !== k; ++h) {
                var l = arguments[h].uuid,
                    q = e[l];
                if (void 0 !==
                q)
                    if (delete e[l], q < d) {
                        var l = --d,
                            n = b[l],
                            p = --c,
                            r = b[p];
                        e[n.uuid] = q;
                        b[q] = n;
                        e[r.uuid] = l;
                        b[l] = r;
                        b.pop();
                        n = 0;
                        for (r = g; n !== r; ++n) {
                            var x = f[n],
                                t = x[p];
                            x[q] = x[l];
                            x[l] = t;
                            x.pop()
                        }
                    } else
                        for (p = --c, r = b[p], e[r.uuid] = q, b[q] = r, b.pop(), n = 0, r = g; n !== r; ++n)
                            x = f[n], x[q] = x[p], x.pop()
            }
            this.nCachedObjects_ = d
        },
        subscribe_: function(a, b) {
            var c = this._bindingsIndicesByPath,
                d = c[a],
                e = this._bindings;
            if (void 0 !== d)
                return e[d];
            var f = this._paths,
                g = this._parsedPaths,
                h = this._objects,
                k = this.nCachedObjects_,
                l = Array(h.length),
                d = e.length;
            c[a] =
            d;
            f.push(a);
            g.push(b);
            e.push(l);
            c = k;
            for (d = h.length; c !== d; ++c)
                l[c] = new fa(h[c], a, b);
            return l
        },
        unsubscribe_: function(a) {
            var b = this._bindingsIndicesByPath,
                c = b[a];
            if (void 0 !== c) {
                var d = this._paths,
                    e = this._parsedPaths,
                    f = this._bindings,
                    g = f.length - 1,
                    h = f[g];
                b[a[g]] = c;
                f[c] = h;
                f.pop();
                e[c] = e[g];
                e.pop();
                d[c] = d[g];
                d.pop()
            }
        }
    };
    Td.prototype = {
        constructor: Td,
        play: function() {
            this._mixer._activateAction(this);
            return this
        },
        stop: function() {
            this._mixer._deactivateAction(this);
            return this.reset()
        },
        reset: function() {
            this.paused =
            !1;
            this.enabled = !0;
            this.time = 0;
            this._loopCount = -1;
            this._startTime = null;
            return this.stopFading().stopWarping()
        },
        isRunning: function() {
            return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this)
        },
        isScheduled: function() {
            return this._mixer._isActiveAction(this)
        },
        startAt: function(a) {
            this._startTime = a;
            return this
        },
        setLoop: function(a, b) {
            this.loop = a;
            this.repetitions = b;
            return this
        },
        setEffectiveWeight: function(a) {
            this.weight = a;
            this._effectiveWeight = this.enabled ?
            a : 0;
            return this.stopFading()
        },
        getEffectiveWeight: function() {
            return this._effectiveWeight
        },
        fadeIn: function(a) {
            return this._scheduleFading(a, 0, 1)
        },
        fadeOut: function(a) {
            return this._scheduleFading(a, 1, 0)
        },
        crossFadeFrom: function(a, b, c) {
            a.fadeOut(b);
            this.fadeIn(b);
            if (c) {
                c = this._clip.duration;
                var d = a._clip.duration,
                    e = c / d;
                a.warp(1, d / c, b);
                this.warp(e, 1, b)
            }
            return this
        },
        crossFadeTo: function(a, b, c) {
            return a.crossFadeFrom(this, b, c)
        },
        stopFading: function() {
            var a = this._weightInterpolant;
            null !== a && (this._weightInterpolant =
            null, this._mixer._takeBackControlInterpolant(a));
            return this
        },
        setEffectiveTimeScale: function(a) {
            this.timeScale = a;
            this._effectiveTimeScale = this.paused ? 0 : a;
            return this.stopWarping()
        },
        getEffectiveTimeScale: function() {
            return this._effectiveTimeScale
        },
        setDuration: function(a) {
            this.timeScale = this._clip.duration / a;
            return this.stopWarping()
        },
        syncWith: function(a) {
            this.time = a.time;
            this.timeScale = a.timeScale;
            return this.stopWarping()
        },
        halt: function(a) {
            return this.warp(this._effectiveTimeScale, 0, a)
        },
        warp: function(a,
        b, c) {
            var d = this._mixer,
                e = d.time,
                f = this._timeScaleInterpolant,
                g = this.timeScale;
            null === f && (this._timeScaleInterpolant = f = d._lendControlInterpolant());
            d = f.parameterPositions;
            f = f.sampleValues;
            d[0] = e;
            d[1] = e + c;
            f[0] = a / g;
            f[1] = b / g;
            return this
        },
        stopWarping: function() {
            var a = this._timeScaleInterpolant;
            null !== a && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(a));
            return this
        },
        getMixer: function() {
            return this._mixer
        },
        getClip: function() {
            return this._clip
        },
        getRoot: function() {
            return this._localRoot ||
                this._mixer._root
        },
        _update: function(a, b, c, d) {
            var e = this._startTime;
            if (null !== e) {
                b = (a - e) * c;
                if (0 > b || 0 === c)
                    return;
                this._startTime = null;
                b *= c
            }
            b *= this._updateTimeScale(a);
            c = this._updateTime(b);
            a = this._updateWeight(a);
            if (0 < a) {
                b = this._interpolants;
                for (var e = this._propertyBindings, f = 0, g = b.length; f !== g; ++f)
                    b[f].evaluate(c), e[f].accumulate(d, a)
            }
        },
        _updateWeight: function(a) {
            var b = 0;
            if (this.enabled) {
                var b = this.weight,
                    c = this._weightInterpolant;
                if (null !== c) {
                    var d = c.evaluate(a)[0],
                        b = b * d;
                    a > c.parameterPositions[1] &&
                    (this.stopFading(), 0 === d && (this.enabled = !1))
                }
            }
            return this._effectiveWeight = b
        },
        _updateTimeScale: function(a) {
            var b = 0;
            if (!this.paused) {
                var b = this.timeScale,
                    c = this._timeScaleInterpolant;
                if (null !== c) {
                    var d = c.evaluate(a)[0],
                        b = b * d;
                    a > c.parameterPositions[1] && (this.stopWarping(), 0 === b ? this.paused = !0 : this.timeScale = b)
                }
            }
            return this._effectiveTimeScale = b
        },
        _updateTime: function(a) {
            var b = this.time + a;
            if (0 === a)
                return b;
            var c = this._clip.duration,
                d = this.loop,
                e = this._loopCount;
            if (2200 === d)
                a:
                {
                    if (-1 === e && (this.loopCount =
                    0, this._setEndings(!0, !0, !1)), b >= c)
                        b = c;
                    else if (0 > b)
                        b = 0;
                    else
                        break a;
                    this.clampWhenFinished ? this.paused = !0 : this.enabled = !1;
                    this._mixer.dispatchEvent({
                        type: "finished",
                        action: this,
                        direction: 0 > a ? -1 : 1
                    })
                } else {
                d = 2202 === d;
                -1 === e && (0 <= a ? (e = 0, this._setEndings(!0, 0 === this.repetitions, d)) : this._setEndings(0 === this.repetitions, !0, d));
                if (b >= c || 0 > b) {
                    var f = Math.floor(b / c),
                        b = b - c * f,
                        e = e + Math.abs(f),
                        g = this.repetitions - e;
                    0 > g ? (this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, b = 0 < a ? c : 0, this._mixer.dispatchEvent({
                        type: "finished",
                        action: this,
                        direction: 0 < a ? 1 : -1
                    })) : (0 === g ? (a = 0 > a, this._setEndings(a, !a, d)) : this._setEndings(!1, !1, d), this._loopCount = e, this._mixer.dispatchEvent({
                        type: "loop",
                        action: this,
                        loopDelta: f
                    }))
                }
                if (d && 1 === (e & 1))
                    return this.time = b, c - b
            }
            return this.time = b
        },
        _setEndings: function(a, b, c) {
            var d = this._interpolantSettings;
            c ? (d.endingStart = 2401, d.endingEnd = 2401) : (d.endingStart = a ? this.zeroSlopeAtStart ? 2401 : 2400 : 2402, d.endingEnd = b ? this.zeroSlopeAtEnd ? 2401 : 2400 : 2402)
        },
        _scheduleFading: function(a, b, c) {
            var d = this._mixer,
                e = d.time,
                f = this._weightInterpolant;
            null === f && (this._weightInterpolant = f = d._lendControlInterpolant());
            d = f.parameterPositions;
            f = f.sampleValues;
            d[0] = e;
            f[0] = b;
            d[1] = e + a;
            f[1] = c;
            return this
        }
    };
    Object.assign(Ud.prototype, sa.prototype, {
        clipAction: function(a, b) {
            var c = b || this._root,
                d = c.uuid,
                e = "string" === typeof a ? Ha.findByName(c, a) : a,
                c = null !== e ? e.uuid : a,
                f = this._actionsByClip[c],
                g = null;
            if (void 0 !== f) {
                g = f.actionByRoot[d];
                if (void 0 !== g)
                    return g;
                g = f.knownActions[0];
                null === e && (e = g._clip)
            }
            if (null === e)
                return null;
            e = new Td(this,
            e, b);
            this._bindAction(e, g);
            this._addInactiveAction(e, c, d);
            return e
        },
        existingAction: function(a, b) {
            var c = b || this._root,
                d = c.uuid,
                c = "string" === typeof a ? Ha.findByName(c, a) : a,
                c = this._actionsByClip[c ? c.uuid : a];
            return void 0 !== c ? c.actionByRoot[d] || null : null
        },
        stopAllAction: function() {
            for (var a = this._actions, b = this._nActiveActions, c = this._bindings, d = this._nActiveBindings, e = this._nActiveBindings = this._nActiveActions = 0; e !== b; ++e)
                a[e].reset();
            for (e = 0; e !== d; ++e)
                c[e].useCount = 0;
            return this
        },
        update: function(a) {
            a *=
            this.timeScale;
            for (var b = this._actions, c = this._nActiveActions, d = this.time += a, e = Math.sign(a), f = this._accuIndex ^= 1, g = 0; g !== c; ++g) {
                var h = b[g];
                h.enabled && h._update(d, a, e, f)
            }
            a = this._bindings;
            b = this._nActiveBindings;
            for (g = 0; g !== b; ++g)
                a[g].apply(f);
            return this
        },
        getRoot: function() {
            return this._root
        },
        uncacheClip: function(a) {
            var b = this._actions;
            a = a.uuid;
            var c = this._actionsByClip,
                d = c[a];
            if (void 0 !== d) {
                for (var d = d.knownActions, e = 0, f = d.length; e !== f; ++e) {
                    var g = d[e];
                    this._deactivateAction(g);
                    var h = g._cacheIndex,
                        k = b[b.length - 1];
                    g._cacheIndex = null;
                    g._byClipCacheIndex = null;
                    k._cacheIndex = h;
                    b[h] = k;
                    b.pop();
                    this._removeInactiveBindingsForAction(g)
                }
                delete c[a]
            }
        },
        uncacheRoot: function(a) {
            a = a.uuid;
            var b = this._actionsByClip,
                c;
            for (c in b) {
                var d = b[c].actionByRoot[a];
                void 0 !== d && (this._deactivateAction(d), this._removeInactiveAction(d))
            }
            c = this._bindingsByRootAndName[a];
            if (void 0 !== c)
                for (var e in c)
                    a = c[e], a.restoreOriginalState(), this._removeInactiveBinding(a)
        },
        uncacheAction: function(a, b) {
            var c = this.existingAction(a, b);
            null !== c && (this._deactivateAction(c), this._removeInactiveAction(c))
        }
    });
    Object.assign(Ud.prototype, {
        _bindAction: function(a, b) {
            var c = a._localRoot || this._root,
                d = a._clip.tracks,
                e = d.length,
                f = a._propertyBindings,
                g = a._interpolants,
                h = c.uuid,
                k = this._bindingsByRootAndName,
                l = k[h];
            void 0 === l && (l = {}, k[h] = l);
            for (k = 0; k !== e; ++k) {
                var q = d[k],
                    n = q.name,
                    p = l[n];
                if (void 0 === p) {
                    p = f[k];
                    if (void 0 !== p) {
                        null === p._cacheIndex && (++p.referenceCount, this._addInactiveBinding(p, h, n));
                        continue
                    }
                    p = new wd(fa.create(c, n, b && b._propertyBindings[k].binding.parsedPath),
                    q.ValueTypeName, q.getValueSize());
                    ++p.referenceCount;
                    this._addInactiveBinding(p, h, n)
                }
                f[k] = p;
                g[k].resultBuffer = p.buffer
            }
        },
        _activateAction: function(a) {
            if (!this._isActiveAction(a)) {
                if (null === a._cacheIndex) {
                    var b = (a._localRoot || this._root).uuid,
                        c = a._clip.uuid,
                        d = this._actionsByClip[c];
                    this._bindAction(a, d && d.knownActions[0]);
                    this._addInactiveAction(a, c, b)
                }
                b = a._propertyBindings;
                c = 0;
                for (d = b.length; c !== d; ++c) {
                    var e = b[c];
                    0 === e.useCount++ && (this._lendBinding(e), e.saveOriginalState())
                }
                this._lendAction(a)
            }
        },
        _deactivateAction: function(a) {
            if (this._isActiveAction(a)) {
                for (var b = a._propertyBindings, c = 0, d = b.length; c !== d; ++c) {
                    var e = b[c];
                    0 === --e.useCount && (e.restoreOriginalState(), this._takeBackBinding(e))
                }
                this._takeBackAction(a)
            }
        },
        _initMemoryManager: function() {
            this._actions = [];
            this._nActiveActions = 0;
            this._actionsByClip = {};
            this._bindings = [];
            this._nActiveBindings = 0;
            this._bindingsByRootAndName = {};
            this._controlInterpolants = [];
            this._nActiveControlInterpolants = 0;
            var a = this;
            this.stats = {
                actions: {
                    get total() {
                        return a._actions.length
                    },
                    get inUse() {
                        return a._nActiveActions
                    }
                },
                bindings: {
                    get total() {
                        return a._bindings.length
                    },
                    get inUse() {
                        return a._nActiveBindings
                    }
                },
                controlInterpolants: {
                    get total() {
                        return a._controlInterpolants.length
                    },
                    get inUse() {
                        return a._nActiveControlInterpolants
                    }
                }
            }
        },
        _isActiveAction: function(a) {
            a = a._cacheIndex;
            return null !== a && a < this._nActiveActions
        },
        _addInactiveAction: function(a, b, c) {
            var d = this._actions,
                e = this._actionsByClip,
                f = e[b];
            void 0 === f ? (f = {
                knownActions: [a],
                actionByRoot: {}
            }, a._byClipCacheIndex = 0, e[b] = f) : (b =
            f.knownActions, a._byClipCacheIndex = b.length, b.push(a));
            a._cacheIndex = d.length;
            d.push(a);
            f.actionByRoot[c] = a
        },
        _removeInactiveAction: function(a) {
            var b = this._actions,
                c = b[b.length - 1],
                d = a._cacheIndex;
            c._cacheIndex = d;
            b[d] = c;
            b.pop();
            a._cacheIndex = null;
            var c = a._clip.uuid,
                d = this._actionsByClip,
                e = d[c],
                f = e.knownActions,
                g = f[f.length - 1],
                h = a._byClipCacheIndex;
            g._byClipCacheIndex = h;
            f[h] = g;
            f.pop();
            a._byClipCacheIndex = null;
            delete e.actionByRoot[(b._localRoot || this._root).uuid];
            0 === f.length && delete d[c];
            this._removeInactiveBindingsForAction(a)
        },
        _removeInactiveBindingsForAction: function(a) {
            a = a._propertyBindings;
            for (var b = 0, c = a.length; b !== c; ++b) {
                var d = a[b];
                0 === --d.referenceCount && this._removeInactiveBinding(d)
            }
        },
        _lendAction: function(a) {
            var b = this._actions,
                c = a._cacheIndex,
                d = this._nActiveActions++,
                e = b[d];
            a._cacheIndex = d;
            b[d] = a;
            e._cacheIndex = c;
            b[c] = e
        },
        _takeBackAction: function(a) {
            var b = this._actions,
                c = a._cacheIndex,
                d = --this._nActiveActions,
                e = b[d];
            a._cacheIndex = d;
            b[d] = a;
            e._cacheIndex = c;
            b[c] = e
        },
        _addInactiveBinding: function(a, b, c) {
            var d = this._bindingsByRootAndName,
                e = d[b],
                f = this._bindings;
            void 0 === e && (e = {}, d[b] = e);
            e[c] = a;
            a._cacheIndex = f.length;
            f.push(a)
        },
        _removeInactiveBinding: function(a) {
            var b = this._bindings,
                c = a.binding,
                d = c.rootNode.uuid,
                c = c.path,
                e = this._bindingsByRootAndName,
                f = e[d],
                g = b[b.length - 1];
            a = a._cacheIndex;
            g._cacheIndex = a;
            b[a] = g;
            b.pop();
            delete f[c];
            a:
            {
                for (var h in f)
                    break a;
                delete e[d]
            }
        },
        _lendBinding: function(a) {
            var b = this._bindings,
                c = a._cacheIndex,
                d = this._nActiveBindings++,
                e = b[d];
            a._cacheIndex = d;
            b[d] = a;
            e._cacheIndex = c;
            b[c] = e
        },
        _takeBackBinding: function(a) {
            var b =
                this._bindings,
                c = a._cacheIndex,
                d = --this._nActiveBindings,
                e = b[d];
            a._cacheIndex = d;
            b[d] = a;
            e._cacheIndex = c;
            b[c] = e
        },
        _lendControlInterpolant: function() {
            var a = this._controlInterpolants,
                b = this._nActiveControlInterpolants++,
                c = a[b];
            void 0 === c && (c = new Mc(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer), c.__cacheIndex = b, a[b] = c);
            return c
        },
        _takeBackControlInterpolant: function(a) {
            var b = this._controlInterpolants,
                c = a.__cacheIndex,
                d = --this._nActiveControlInterpolants,
                e = b[d];
            a.__cacheIndex =
            d;
            b[d] = a;
            e.__cacheIndex = c;
            b[c] = e
        },
        _controlInterpolantsResultBuffer: new Float32Array(1)
    });
    Bb.prototype = Object.create(G.prototype);
    Bb.prototype.constructor = Bb;
    Bb.prototype.isInstancedBufferGeometry = !0;
    Bb.prototype.addGroup = function(a, b, c) {
        this.groups.push({
            start: a,
            count: b,
            materialIndex: c
        })
    };
    Bb.prototype.copy = function(a) {
        var b = a.index;
        null !== b && this.setIndex(b.clone());
        var b = a.attributes,
            c;
        for (c in b)
            this.addAttribute(c, b[c].clone());
        a = a.groups;
        c = 0;
        for (b = a.length; c < b; c++) {
            var d = a[c];
            this.addGroup(d.start,
            d.count, d.materialIndex)
        }
        return this
    };
    Vd.prototype = {
        constructor: Vd,
        isInterleavedBufferAttribute: !0,
        get count() {
            return this.data.count
        },
        get array() {
            return this.data.array
        },
        setX: function(a, b) {
            this.data.array[a * this.data.stride + this.offset] = b;
            return this
        },
        setY: function(a, b) {
            this.data.array[a * this.data.stride + this.offset + 1] = b;
            return this
        },
        setZ: function(a, b) {
            this.data.array[a * this.data.stride + this.offset + 2] = b;
            return this
        },
        setW: function(a, b) {
            this.data.array[a * this.data.stride + this.offset + 3] = b;
            return this
        },
        getX: function(a) {
            return this.data.array[a * this.data.stride + this.offset]
        },
        getY: function(a) {
            return this.data.array[a * this.data.stride + this.offset + 1]
        },
        getZ: function(a) {
            return this.data.array[a * this.data.stride + this.offset + 2]
        },
        getW: function(a) {
            return this.data.array[a * this.data.stride + this.offset + 3]
        },
        setXY: function(a, b, c) {
            a = a * this.data.stride + this.offset;
            this.data.array[a + 0] = b;
            this.data.array[a + 1] = c;
            return this
        },
        setXYZ: function(a, b, c, d) {
            a = a * this.data.stride + this.offset;
            this.data.array[a + 0] = b;
            this.data.array[a +
            1] = c;
            this.data.array[a + 2] = d;
            return this
        },
        setXYZW: function(a, b, c, d, e) {
            a = a * this.data.stride + this.offset;
            this.data.array[a + 0] = b;
            this.data.array[a + 1] = c;
            this.data.array[a + 2] = d;
            this.data.array[a + 3] = e;
            return this
        }
    };
    ec.prototype = {
        constructor: ec,
        isInterleavedBuffer: !0,
        set needsUpdate(a) {
            !0 === a && this.version++
        },
        setArray: function(a) {
            if (Array.isArray(a))
                throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
            this.count = void 0 !== a ? a.length / this.stride : 0;
            this.array = a
        },
        setDynamic: function(a) {
            this.dynamic =
            a;
            return this
        },
        copy: function(a) {
            this.array = new a.array.constructor(a.array);
            this.count = a.count;
            this.stride = a.stride;
            this.dynamic = a.dynamic;
            return this
        },
        copyAt: function(a, b, c) {
            a *= this.stride;
            c *= b.stride;
            for (var d = 0, e = this.stride; d < e; d++)
                this.array[a + d] = b.array[c + d];
            return this
        },
        set: function(a, b) {
            void 0 === b && (b = 0);
            this.array.set(a, b);
            return this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        }
    };
    fc.prototype = Object.create(ec.prototype);
    fc.prototype.constructor = fc;
    fc.prototype.isInstancedInterleavedBuffer =
    !0;
    fc.prototype.copy = function(a) {
        ec.prototype.copy.call(this, a);
        this.meshPerAttribute = a.meshPerAttribute;
        return this
    };
    gc.prototype = Object.create(C.prototype);
    gc.prototype.constructor = gc;
    gc.prototype.isInstancedBufferAttribute = !0;
    gc.prototype.copy = function(a) {
        C.prototype.copy.call(this, a);
        this.meshPerAttribute = a.meshPerAttribute;
        return this
    };
    Wd.prototype = {
        constructor: Wd,
        linePrecision: 1,
        set: function(a, b) {
            this.ray.set(a, b)
        },
        setFromCamera: function(a, b) {
            b && b.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(b.matrixWorld),
            this.ray.direction.set(a.x, a.y, .5).unproject(b).sub(this.ray.origin).normalize()) : b && b.isOrthographicCamera ? (this.ray.origin.set(a.x, a.y, (b.near + b.far) / (b.near - b.far)).unproject(b), this.ray.direction.set(0, 0, -1).transformDirection(b.matrixWorld)) : console.error("THREE.Raycaster: Unsupported camera type.")
        },
        intersectObject: function(a, b) {
            var c = [];
            Xd(a, this, c, b);
            c.sort(Be);
            return c
        },
        intersectObjects: function(a, b) {
            var c = [];
            if (!1 === Array.isArray(a))
                return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),
                c;
            for (var d = 0, e = a.length; d < e; d++)
                Xd(a[d], this, c, b);
            c.sort(Be);
            return c
        }
    };
    Yd.prototype = {
        constructor: Yd,
        start: function() {
            this.oldTime = this.startTime = (performance || Date).now();
            this.elapsedTime = 0;
            this.running = !0
        },
        stop: function() {
            this.getElapsedTime();
            this.running = !1
        },
        getElapsedTime: function() {
            this.getDelta();
            return this.elapsedTime
        },
        getDelta: function() {
            var a = 0;
            this.autoStart && !this.running && this.start();
            if (this.running) {
                var b = (performance || Date).now(),
                    a = (b - this.oldTime) / 1E3;
                this.oldTime = b;
                this.elapsedTime +=
                a
            }
            return a
        }
    };
    Zd.prototype = {
        constructor: Zd,
        set: function(a, b, c) {
            this.radius = a;
            this.phi = b;
            this.theta = c;
            return this
        },
        clone: function() {
            return (new this.constructor).copy(this)
        },
        copy: function(a) {
            this.radius = a.radius;
            this.phi = a.phi;
            this.theta = a.theta;
            return this
        },
        makeSafe: function() {
            this.phi = Math.max(1E-6, Math.min(Math.PI - 1E-6, this.phi));
            return this
        },
        setFromVector3: function(a) {
            this.radius = a.length();
            0 === this.radius ? this.phi = this.theta = 0 : (this.theta = Math.atan2(a.x, a.z), this.phi = Math.acos(T.clamp(a.y / this.radius,
            -1, 1)));
            return this
        }
    };
    na.prototype = Object.create(ya.prototype);
    na.prototype.constructor = na;
    na.prototype.createAnimation = function(a, b, c, d) {
        b = {
            start: b,
            end: c,
            length: c - b + 1,
            fps: d,
            duration: (c - b) / d,
            lastFrame: 0,
            currentFrame: 0,
            active: !1,
            time: 0,
            direction: 1,
            weight: 1,
            directionBackwards: !1,
            mirroredLoop: !1
        };
        this.animationsMap[a] = b;
        this.animationsList.push(b)
    };
    na.prototype.autoCreateAnimations = function(a) {
        for (var b = /([a-z]+)_?(\d+)/i, c, d = {}, e = this.geometry, f = 0, g = e.morphTargets.length; f < g; f++) {
            var h = e.morphTargets[f].name.match(b);
            if (h && 1 < h.length) {
                var k = h[1];
                d[k] || (d[k] = {
                    start: Infinity,
                    end: -Infinity
                });
                h = d[k];
                f < h.start && (h.start = f);
                f > h.end && (h.end = f);
                c || (c = k)
            }
        }
        for (k in d)
            h = d[k], this.createAnimation(k, h.start, h.end, a);
        this.firstAnimation = c
    };
    na.prototype.setAnimationDirectionForward = function(a) {
        if (a = this.animationsMap[a])
            a.direction = 1, a.directionBackwards = !1
    };
    na.prototype.setAnimationDirectionBackward = function(a) {
        if (a = this.animationsMap[a])
            a.direction = -1, a.directionBackwards = !0
    };
    na.prototype.setAnimationFPS = function(a, b) {
        var c =
        this.animationsMap[a];
        c && (c.fps = b, c.duration = (c.end - c.start) / c.fps)
    };
    na.prototype.setAnimationDuration = function(a, b) {
        var c = this.animationsMap[a];
        c && (c.duration = b, c.fps = (c.end - c.start) / c.duration)
    };
    na.prototype.setAnimationWeight = function(a, b) {
        var c = this.animationsMap[a];
        c && (c.weight = b)
    };
    na.prototype.setAnimationTime = function(a, b) {
        var c = this.animationsMap[a];
        c && (c.time = b)
    };
    na.prototype.getAnimationTime = function(a) {
        var b = 0;
        if (a = this.animationsMap[a])
            b = a.time;
        return b
    };
    na.prototype.getAnimationDuration =
    function(a) {
        var b = -1;
        if (a = this.animationsMap[a])
            b = a.duration;
        return b
    };
    na.prototype.playAnimation = function(a) {
        var b = this.animationsMap[a];
        b ? (b.time = 0, b.active = !0) : console.warn("THREE.MorphBlendMesh: animation[" + a + "] undefined in .playAnimation()")
    };
    na.prototype.stopAnimation = function(a) {
        if (a = this.animationsMap[a])
            a.active = !1
    };
    na.prototype.update = function(a) {
        for (var b = 0, c = this.animationsList.length; b < c; b++) {
            var d = this.animationsList[b];
            if (d.active) {
                var e = d.duration / d.length;
                d.time += d.direction * a;
                if (d.mirroredLoop) {
                    if (d.time >
                    d.duration || 0 > d.time)
                        d.direction *= -1, d.time > d.duration && (d.time = d.duration, d.directionBackwards = !0), 0 > d.time && (d.time = 0, d.directionBackwards = !1)
                } else
                    d.time %= d.duration, 0 > d.time && (d.time += d.duration);
                var f = d.start + T.clamp(Math.floor(d.time / e), 0, d.length - 1),
                    g = d.weight;
                f !== d.currentFrame && (this.morphTargetInfluences[d.lastFrame] = 0, this.morphTargetInfluences[d.currentFrame] = 1 * g, this.morphTargetInfluences[f] = 0, d.lastFrame = d.currentFrame, d.currentFrame = f);
                e = d.time % e / e;
                d.directionBackwards && (e = 1 - e);
                d.currentFrame !==
                d.lastFrame ? (this.morphTargetInfluences[d.currentFrame] = e * g, this.morphTargetInfluences[d.lastFrame] = (1 - e) * g) : this.morphTargetInfluences[d.currentFrame] = g
            }
        }
    };
    Qc.prototype = Object.create(z.prototype);
    Qc.prototype.constructor = Qc;
    Qc.prototype.isImmediateRenderObject = !0;
    Rc.prototype = Object.create(la.prototype);
    Rc.prototype.constructor = Rc;
    Rc.prototype.update = function() {
        var a = new q,
            b = new q,
            c = new Ia;
        return function() {
            var d = ["a", "b", "c"];
            this.object.updateMatrixWorld(!0);
            c.getNormalMatrix(this.object.matrixWorld);
            var e = this.object.matrixWorld,
                f = this.geometry.attributes.position,
                g = this.object.geometry;
            if (g && g.isGeometry)
                for (var h = g.vertices, k = g.faces, l = g = 0, q = k.length; l < q; l++)
                    for (var n = k[l], p = 0, r = n.vertexNormals.length; p < r; p++) {
                        var x = n.vertexNormals[p];
                        a.copy(h[n[d[p]]]).applyMatrix4(e);
                        b.copy(x).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);
                        f.setXYZ(g, a.x, a.y, a.z);
                        g += 1;
                        f.setXYZ(g, b.x, b.y, b.z);
                        g += 1
                    }
            else if (g && g.isBufferGeometry)
                for (d = g.attributes.position, h = g.attributes.normal, p = g = 0, r = d.count; p <
                r; p++)
                    a.set(d.getX(p), d.getY(p), d.getZ(p)).applyMatrix4(e), b.set(h.getX(p), h.getY(p), h.getZ(p)), b.applyMatrix3(c).normalize().multiplyScalar(this.size).add(a), f.setXYZ(g, a.x, a.y, a.z), g += 1, f.setXYZ(g, b.x, b.y, b.z), g += 1;
            f.needsUpdate = !0;
            return this
        }
    }();
    hc.prototype = Object.create(z.prototype);
    hc.prototype.constructor = hc;
    hc.prototype.dispose = function() {
        this.cone.geometry.dispose();
        this.cone.material.dispose()
    };
    hc.prototype.update = function() {
        var a = new q,
            b = new q;
        return function() {
            var c = this.light.distance ?
                this.light.distance : 1E3,
                d = c * Math.tan(this.light.angle);
            this.cone.scale.set(d, d, c);
            a.setFromMatrixPosition(this.light.matrixWorld);
            b.setFromMatrixPosition(this.light.target.matrixWorld);
            this.cone.lookAt(b.sub(a));
            this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
        }
    }();
    ic.prototype = Object.create(la.prototype);
    ic.prototype.constructor = ic;
    ic.prototype.getBoneList = function(a) {
        var b = [];
        a && a.isBone && b.push(a);
        for (var c = 0; c < a.children.length; c++)
            b.push.apply(b, this.getBoneList(a.children[c]));
        return b
    };
    ic.prototype.update = function() {
        for (var a = this.geometry, b = (new J).getInverse(this.root.matrixWorld), c = new J, d = 0, e = 0; e < this.bones.length; e++) {
            var f = this.bones[e];
            f.parent && f.parent.isBone && (c.multiplyMatrices(b, f.matrixWorld), a.vertices[d].setFromMatrixPosition(c), c.multiplyMatrices(b, f.parent.matrixWorld), a.vertices[d + 1].setFromMatrixPosition(c), d += 2)
        }
        a.verticesNeedUpdate = !0;
        a.computeBoundingSphere()
    };
    jc.prototype = Object.create(ya.prototype);
    jc.prototype.constructor = jc;
    jc.prototype.dispose =
    function() {
        this.geometry.dispose();
        this.material.dispose()
    };
    jc.prototype.update = function() {
        this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)
    };
    kc.prototype = Object.create(z.prototype);
    kc.prototype.constructor = kc;
    kc.prototype.dispose = function() {
        this.lightSphere.geometry.dispose();
        this.lightSphere.material.dispose()
    };
    kc.prototype.update = function() {
        var a = new q;
        return function() {
            this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);
            this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);
            this.lightSphere.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate());
            this.lightSphere.geometry.colorsNeedUpdate = !0
        }
    }();
    Sc.prototype = Object.create(la.prototype);
    Sc.prototype.constructor = Sc;
    Sc.prototype.setColors = function() {
        console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")
    };
    Tc.prototype = Object.create(la.prototype);
    Tc.prototype.constructor = Tc;
    Tc.prototype.update = function() {
        var a = new q,
            b = new q,
            c = new Ia;
        return function() {
            this.object.updateMatrixWorld(!0);
            c.getNormalMatrix(this.object.matrixWorld);
            for (var d = this.object.matrixWorld, e = this.geometry.attributes.position, f = this.object.geometry, g = f.vertices, f = f.faces, h = 0, k = 0, l = f.length; k < l; k++) {
                var q = f[k],
                    n = q.normal;
                a.copy(g[q.a]).add(g[q.b]).add(g[q.c]).divideScalar(3).applyMatrix4(d);
                b.copy(n).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);
                e.setXYZ(h, a.x, a.y, a.z);
                h += 1;
                e.setXYZ(h, b.x, b.y, b.z);
                h += 1
            }
            e.needsUpdate = !0;
            return this
        }
    }();
    lc.prototype = Object.create(z.prototype);
    lc.prototype.constructor =
    lc;
    lc.prototype.dispose = function() {
        var a = this.children[0],
            b = this.children[1];
        a.geometry.dispose();
        a.material.dispose();
        b.geometry.dispose();
        b.material.dispose()
    };
    lc.prototype.update = function() {
        var a = new q,
            b = new q,
            c = new q;
        return function() {
            a.setFromMatrixPosition(this.light.matrixWorld);
            b.setFromMatrixPosition(this.light.target.matrixWorld);
            c.subVectors(b, a);
            var d = this.children[0],
                e = this.children[1];
            d.lookAt(c);
            d.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);
            e.lookAt(c);
            e.scale.z = c.length()
        }
    }();
    Uc.prototype = Object.create(la.prototype);
    Uc.prototype.constructor = Uc;
    Uc.prototype.update = function() {
        function a(a, g, h, k) {
            d.set(g, h, k).unproject(e);
            a = c[a];
            if (void 0 !== a)
                for (g = 0, h = a.length; g < h; g++)
                    b.vertices[a[g]].copy(d)
        }
        var b,
            c,
            d = new q,
            e = new Z;
        return function() {
            b = this.geometry;
            c = this.pointMap;
            e.projectionMatrix.copy(this.camera.projectionMatrix);
            a("c", 0, 0, -1);
            a("t", 0, 0, 1);
            a("n1", -1, -1, -1);
            a("n2", 1, -1, -1);
            a("n3", -1, 1, -1);
            a("n4", 1, 1, -1);
            a("f1", -1, -1, 1);
            a("f2", 1, -1, 1);
            a("f3",
            -1, 1, 1);
            a("f4", 1, 1, 1);
            a("u1", .7, 1.1, -1);
            a("u2", -.7, 1.1, -1);
            a("u3", 0, 2, -1);
            a("cf1", -1, 0, 1);
            a("cf2", 1, 0, 1);
            a("cf3", 0, -1, 1);
            a("cf4", 0, 1, 1);
            a("cn1", -1, 0, -1);
            a("cn2", 1, 0, -1);
            a("cn3", 0, -1, -1);
            a("cn4", 0, 1, -1);
            b.verticesNeedUpdate = !0
        }
    }();
    Vc.prototype = Object.create(ya.prototype);
    Vc.prototype.constructor = Vc;
    Vc.prototype.update = function() {
        this.box.setFromObject(this.object);
        this.box.getSize(this.scale);
        this.box.getCenter(this.position)
    };
    Wc.prototype = Object.create(la.prototype);
    Wc.prototype.constructor = Wc;
    Wc.prototype.update =
    function() {
        var a = new Ba;
        return function(b) {
            b && b.isBox3 ? a.copy(b) : a.setFromObject(b);
            if (!a.isEmpty()) {
                b = a.min;
                var c = a.max,
                    d = this.geometry.attributes.position,
                    e = d.array;
                e[0] = c.x;
                e[1] = c.y;
                e[2] = c.z;
                e[3] = b.x;
                e[4] = c.y;
                e[5] = c.z;
                e[6] = b.x;
                e[7] = b.y;
                e[8] = c.z;
                e[9] = c.x;
                e[10] = b.y;
                e[11] = c.z;
                e[12] = c.x;
                e[13] = c.y;
                e[14] = b.z;
                e[15] = b.x;
                e[16] = c.y;
                e[17] = b.z;
                e[18] = b.x;
                e[19] = b.y;
                e[20] = b.z;
                e[21] = c.x;
                e[22] = b.y;
                e[23] = b.z;
                d.needsUpdate = !0;
                this.geometry.computeBoundingSphere()
            }
        }
    }();
    var Ce = new G;
    Ce.addAttribute("position", new ha([0,
    0, 0, 0, 1, 0], 3));
    var De = new Ua(0, .5, 1, 5, 1);
    De.translate(0, -.5, 0);
    Cb.prototype = Object.create(z.prototype);
    Cb.prototype.constructor = Cb;
    Cb.prototype.setDirection = function() {
        var a = new q,
            b;
        return function(c) {
            .99999 < c.y ? this.quaternion.set(0, 0, 0, 1) : -.99999 > c.y ? this.quaternion.set(1, 0, 0, 0) : (a.set(c.z, 0, -c.x).normalize(), b = Math.acos(c.y), this.quaternion.setFromAxisAngle(a, b))
        }
    }();
    Cb.prototype.setLength = function(a, b, c) {
        void 0 === b && (b = .2 * a);
        void 0 === c && (c = .2 * b);
        this.line.scale.set(1, Math.max(0, a - b), 1);
        this.line.updateMatrix();
        this.cone.scale.set(c, b, c);
        this.cone.position.y = a;
        this.cone.updateMatrix()
    };
    Cb.prototype.setColor = function(a) {
        this.line.material.color.copy(a);
        this.cone.material.color.copy(a)
    };
    xd.prototype = Object.create(la.prototype);
    xd.prototype.constructor = xd;
    var $d = function() {
        function a() {}
        var b = new q,
            c = new a,
            d = new a,
            e = new a;
        a.prototype.init = function(a, b, c, d) {
            this.c0 = a;
            this.c1 = c;
            this.c2 = -3 * a + 3 * b - 2 * c - d;
            this.c3 = 2 * a - 2 * b + c + d
        };
        a.prototype.initNonuniformCatmullRom = function(a, b, c, d, e, l, n) {
            this.init(b, c, ((b - a) / e - (c - a) /
            (e + l) + (c - b) / l) * l, ((c - b) / l - (d - b) / (l + n) + (d - c) / n) * l)
        };
        a.prototype.initCatmullRom = function(a, b, c, d, e) {
            this.init(b, c, e * (c - a), e * (d - b))
        };
        a.prototype.calc = function(a) {
            var b = a * a;
            return this.c0 + this.c1 * a + this.c2 * b + this.c3 * b * a
        };
        return ia.create(function(a) {
            this.points = a || [];
            this.closed = !1
        }, function(a) {
            var g = this.points,
                h,
                k;
            k = g.length;
            2 > k && console.log("duh, you need at least 2 points");
            a *= k - (this.closed ? 0 : 1);
            h = Math.floor(a);
            a -= h;
            this.closed ? h += 0 < h ? 0 : (Math.floor(Math.abs(h) / g.length) + 1) * g.length : 0 === a && h === k -
            1 && (h = k - 2, a = 1);
            var l,
                w,
                n;
            this.closed || 0 < h ? l = g[(h - 1) % k] : (b.subVectors(g[0], g[1]).add(g[0]), l = b);
            w = g[h % k];
            n = g[(h + 1) % k];
            this.closed || h + 2 < k ? g = g[(h + 2) % k] : (b.subVectors(g[k - 1], g[k - 2]).add(g[k - 1]), g = b);
            if (void 0 === this.type || "centripetal" === this.type || "chordal" === this.type) {
                var p = "chordal" === this.type ? .5 : .25;
                k = Math.pow(l.distanceToSquared(w), p);
                h = Math.pow(w.distanceToSquared(n), p);
                p = Math.pow(n.distanceToSquared(g), p);
                1E-4 > h && (h = 1);
                1E-4 > k && (k = h);
                1E-4 > p && (p = h);
                c.initNonuniformCatmullRom(l.x, w.x, n.x, g.x, k,
                h, p);
                d.initNonuniformCatmullRom(l.y, w.y, n.y, g.y, k, h, p);
                e.initNonuniformCatmullRom(l.z, w.z, n.z, g.z, k, h, p)
            } else
                "catmullrom" === this.type && (k = void 0 !== this.tension ? this.tension : .5, c.initCatmullRom(l.x, w.x, n.x, g.x, k), d.initCatmullRom(l.y, w.y, n.y, g.y, k), e.initCatmullRom(l.z, w.z, n.z, g.z, k));
            return new q(c.calc(a), d.calc(a), e.calc(a))
        })
    }();
    Ee.prototype = Object.create($d.prototype);
    var Ef = ia.create(function(a) {
            console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3");
            this.points =
            void 0 === a ? [] : a
        }, function(a) {
            var b = this.points;
            a *= b.length - 1;
            var c = Math.floor(a);
            a -= c;
            var d = b[0 == c ? c : c - 1],
                e = b[c],
                f = b[c > b.length - 2 ? b.length - 1 : c + 1],
                b = b[c > b.length - 3 ? b.length - 1 : c + 2],
                c = Xc.interpolate;
            return new q(c(d.x, e.x, f.x, b.x, a), c(d.y, e.y, f.y, b.y, a), c(d.z, e.z, f.z, b.z, a))
        }),
        Ff = ia.create(function(a, b, c, d) {
            this.v0 = a;
            this.v1 = b;
            this.v2 = c;
            this.v3 = d
        }, function(a) {
            var b = ra.b3;
            return new q(b(a, this.v0.x, this.v1.x, this.v2.x, this.v3.x), b(a, this.v0.y, this.v1.y, this.v2.y, this.v3.y), b(a, this.v0.z, this.v1.z, this.v2.z,
            this.v3.z))
        }),
        Gf = ia.create(function(a, b, c) {
            this.v0 = a;
            this.v1 = b;
            this.v2 = c
        }, function(a) {
            var b = ra.b2;
            return new q(b(a, this.v0.x, this.v1.x, this.v2.x), b(a, this.v0.y, this.v1.y, this.v2.y), b(a, this.v0.z, this.v1.z, this.v2.z))
        }),
        Hf = ia.create(function(a, b) {
            this.v1 = a;
            this.v2 = b
        }, function(a) {
            if (1 === a)
                return this.v2.clone();
            var b = new q;
            b.subVectors(this.v2, this.v1);
            b.multiplyScalar(a);
            b.add(this.v1);
            return b
        });
    yd.prototype = Object.create(Va.prototype);
    yd.prototype.constructor = yd;
    Object.assign(mc.prototype, {
        center: function(a) {
            console.warn("THREE.Box2: .center() has been renamed to .getCenter().");
            return this.getCenter(a)
        },
        empty: function() {
            console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");
            return this.isEmpty()
        },
        isIntersectionBox: function(a) {
            console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");
            return this.intersectsBox(a)
        },
        size: function(a) {
            console.warn("THREE.Box2: .size() has been renamed to .getSize().");
            return this.getSize(a)
        }
    });
    Object.assign(Ba.prototype, {
        center: function(a) {
            console.warn("THREE.Box3: .center() has been renamed to .getCenter().");
            return this.getCenter(a)
        },
        empty: function() {
            console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");
            return this.isEmpty()
        },
        isIntersectionBox: function(a) {
            console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");
            return this.intersectsBox(a)
        },
        isIntersectionSphere: function(a) {
            console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");
            return this.intersectsSphere(a)
        },
        size: function(a) {
            console.warn("THREE.Box3: .size() has been renamed to .getSize().");
            return this.getSize(a)
        }
    });
    Object.assign(gb.prototype, {
        center: function(a) {
            console.warn("THREE.Line3: .center() has been renamed to .getCenter().");
            return this.getCenter(a)
        }
    });
    Object.assign(Ia.prototype, {
        multiplyVector3: function(a) {
            console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");
            return a.applyMatrix3(this)
        },
        multiplyVector3Array: function(a) {
            console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");
            return this.applyToVector3Array(a)
        }
    });
    Object.assign(J.prototype, {
        extractPosition: function(a) {
            console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");
            return this.copyPosition(a)
        },
        setRotationFromQuaternion: function(a) {
            console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");
            return this.makeRotationFromQuaternion(a)
        },
        multiplyVector3: function(a) {
            console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");
            return a.applyProjection(this)
        },
        multiplyVector4: function(a) {
            console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");
            return a.applyMatrix4(this)
        },
        multiplyVector3Array: function(a) {
            console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");
            return this.applyToVector3Array(a)
        },
        rotateAxis: function(a) {
            console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");
            a.transformDirection(this)
        },
        crossVector: function(a) {
            console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");
            return a.applyMatrix4(this)
        },
        translate: function(a) {
            console.error("THREE.Matrix4: .translate() has been removed.")
        },
        rotateX: function(a) {
            console.error("THREE.Matrix4: .rotateX() has been removed.")
        },
        rotateY: function(a) {
            console.error("THREE.Matrix4: .rotateY() has been removed.")
        },
        rotateZ: function(a) {
            console.error("THREE.Matrix4: .rotateZ() has been removed.")
        },
        rotateByAxis: function(a, b) {
            console.error("THREE.Matrix4: .rotateByAxis() has been removed.")
        }
    });
    Object.assign(va.prototype, {
        isIntersectionLine: function(a) {
            console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");
            return this.intersectsLine(a)
        }
    });
    Object.assign(ba.prototype, {
        multiplyVector3: function(a) {
            console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");
            return a.applyQuaternion(this)
        }
    });
    Object.assign(ab.prototype,
    {
        isIntersectionBox: function(a) {
            console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");
            return this.intersectsBox(a)
        },
        isIntersectionPlane: function(a) {
            console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");
            return this.intersectsPlane(a)
        },
        isIntersectionSphere: function(a) {
            console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");
            return this.intersectsSphere(a)
        }
    });
    Object.assign(Ab.prototype, {
        extrude: function(a) {
            console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");
            return new za(this, a)
        },
        makeGeometry: function(a) {
            console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");
            return new cb(this, a)
        }
    });
    Object.assign(q.prototype, {
        setEulerFromRotationMatrix: function() {
            console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")
        },
        setEulerFromQuaternion: function() {
            console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")
        },
        getPositionFromMatrix: function(a) {
            console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");
            return this.setFromMatrixPosition(a)
        },
        getScaleFromMatrix: function(a) {
            console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");
            return this.setFromMatrixScale(a)
        },
        getColumnFromMatrix: function(a, b) {
            console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");
            return this.setFromMatrixColumn(b,
            a)
        }
    });
    Object.assign(z.prototype, {
        getChildByName: function(a) {
            console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");
            return this.getObjectByName(a)
        },
        renderDepth: function(a) {
            console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")
        },
        translate: function(a, b) {
            console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");
            return this.translateOnAxis(b, a)
        }
    });
    Object.defineProperties(z.prototype,
    {
        eulerOrder: {
            get: function() {
                console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");
                return this.rotation.order
            },
            set: function(a) {
                console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");
                this.rotation.order = a
            }
        },
        useQuaternion: {
            get: function() {
                console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
            },
            set: function(a) {
                console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")
            }
        }
    });
    Object.defineProperties(rc.prototype, {
        objects: {
            get: function() {
                console.warn("THREE.LOD: .objects has been renamed to .levels.");
                return this.levels
            }
        }
    });
    Ea.prototype.setLens = function(a, b) {
        console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");
        void 0 !== b && (this.filmGauge = b);
        this.setFocalLength(a)
    };
    Object.defineProperties(pa.prototype, {
        onlyShadow: {
            set: function(a) {
                console.warn("THREE.Light: .onlyShadow has been removed.")
            }
        },
        shadowCameraFov: {
            set: function(a) {
                console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");
                this.shadow.camera.fov = a
            }
        },
        shadowCameraLeft: {
            set: function(a) {
                console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");
                this.shadow.camera.left = a
            }
        },
        shadowCameraRight: {
            set: function(a) {
                console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
                this.shadow.camera.right = a
            }
        },
        shadowCameraTop: {
            set: function(a) {
                console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");
                this.shadow.camera.top = a
            }
        },
        shadowCameraBottom: {
            set: function(a) {
                console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");
                this.shadow.camera.bottom = a
            }
        },
        shadowCameraNear: {
            set: function(a) {
                console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");
                this.shadow.camera.near = a
            }
        },
        shadowCameraFar: {
            set: function(a) {
                console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
                this.shadow.camera.far = a
            }
        },
        shadowCameraVisible: {
            set: function(a) {
                console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")
            }
        },
        shadowBias: {
            set: function(a) {
                console.warn("THREE.Light: .shadowBias is now .shadow.bias.");
                this.shadow.bias = a
            }
        },
        shadowDarkness: {
            set: function(a) {
                console.warn("THREE.Light: .shadowDarkness has been removed.")
            }
        },
        shadowMapWidth: {
            set: function(a) {
                console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
                this.shadow.mapSize.width = a
            }
        },
        shadowMapHeight: {
            set: function(a) {
                console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");
                this.shadow.mapSize.height = a
            }
        }
    });
    Object.defineProperties(C.prototype, {
        length: {
            get: function() {
                console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");
                return this.array.length
            }
        }
    });
    Object.assign(G.prototype, {
        addIndex: function(a) {
            console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");
            this.setIndex(a)
        },
        addDrawCall: function(a, b, c) {
            void 0 !== c && console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");
            console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");
            this.addGroup(a, b)
        },
        clearDrawCalls: function() {
            console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");
            this.clearGroups()
        },
        computeTangents: function() {
            console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")
        },
        computeOffsets: function() {
            console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")
        }
    });
    Object.defineProperties(G.prototype, {
        drawcalls: {
            get: function() {
                console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");
                return this.groups
            }
        },
        offsets: {
            get: function() {
                console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");
                return this.groups
            }
        }
    });
    Object.defineProperties(U.prototype, {
        wrapAround: {
            get: function() {
                console.warn("THREE." + this.type + ": .wrapAround has been removed.")
            },
            set: function(a) {
                console.warn("THREE." + this.type + ": .wrapAround has been removed.")
            }
        },
        wrapRGB: {
            get: function() {
                console.warn("THREE." + this.type + ": .wrapRGB has been removed.");
                return new O
            }
        }
    });
    Object.defineProperties(db.prototype, {
        metal: {
            get: function() {
                console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");
                return !1
            },
            set: function(a) {
                console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")
            }
        }
    });
    Object.defineProperties(Fa.prototype, {
        derivatives: {
            get: function() {
                console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");
                return this.extensions.derivatives
            },
            set: function(a) {
                console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");
                this.extensions.derivatives = a
            }
        }
    });
    sa.prototype = Object.assign(Object.create({
        constructor: sa,
        apply: function(a) {
            console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in.");
            Object.assign(a, this)
        }
    }), sa.prototype);
    Object.defineProperties(Ae.prototype, {
        dynamic: {
            set: function(a) {
                console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")
            }
        },
        onUpdate: {
            value: function() {
                console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");
                return this
            }
        }
    });
    Object.assign(Dd.prototype, {
        supportsFloatTextures: function() {
            console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");
            return this.extensions.get("OES_texture_float")
        },
        supportsHalfFloatTextures: function() {
            console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");
            return this.extensions.get("OES_texture_half_float")
        },
        supportsStandardDerivatives: function() {
            console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");
            return this.extensions.get("OES_standard_derivatives")
        },
        supportsCompressedTextureS3TC: function() {
            console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");
            return this.extensions.get("WEBGL_compressed_texture_s3tc")
        },
        supportsCompressedTexturePVRTC: function() {
            console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");
            return this.extensions.get("WEBGL_compressed_texture_pvrtc")
        },
        supportsBlendMinMax: function() {
            console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");
            return this.extensions.get("EXT_blend_minmax")
        },
        supportsVertexTextures: function() {
            return this.capabilities.vertexTextures
        },
        supportsInstancedArrays: function() {
            console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");
            return this.extensions.get("ANGLE_instanced_arrays")
        },
        enableScissorTest: function(a) {
            console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");
            this.setScissorTest(a)
        },
        initMaterial: function() {
            console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")
        },
        addPrePlugin: function() {
            console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")
        },
        addPostPlugin: function() {
            console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")
        },
        updateShadowMap: function() {
            console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")
        }
    });
    Object.defineProperties(Dd.prototype, {
        shadowMapEnabled: {
            get: function() {
                return this.shadowMap.enabled
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");
                this.shadowMap.enabled = a
            }
        },
        shadowMapType: {
            get: function() {
                return this.shadowMap.type
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");
                this.shadowMap.type = a
            }
        },
        shadowMapCullFace: {
            get: function() {
                return this.shadowMap.cullFace
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");
                this.shadowMap.cullFace = a
            }
        }
    });
    Object.defineProperties(pe.prototype, {
        cullFace: {
            get: function() {
                return this.renderReverseSided ? 2 : 1
            },
            set: function(a) {
                a = 1 !== a;
                console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to " + a + ".");
                this.renderReverseSided = a
            }
        }
    });
    Object.defineProperties(Db.prototype,
    {
        wrapS: {
            get: function() {
                console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");
                return this.texture.wrapS
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");
                this.texture.wrapS = a
            }
        },
        wrapT: {
            get: function() {
                console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");
                return this.texture.wrapT
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");
                this.texture.wrapT = a
            }
        },
        magFilter: {
            get: function() {
                console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");
                return this.texture.magFilter
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");
                this.texture.magFilter = a
            }
        },
        minFilter: {
            get: function() {
                console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");
                return this.texture.minFilter
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");
                this.texture.minFilter = a
            }
        },
        anisotropy: {
            get: function() {
                console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");
                return this.texture.anisotropy
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");
                this.texture.anisotropy = a
            }
        },
        offset: {
            get: function() {
                console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");
                return this.texture.offset
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");
                this.texture.offset = a
            }
        },
        repeat: {
            get: function() {
                console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");
                return this.texture.repeat
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");
                this.texture.repeat = a
            }
        },
        format: {
            get: function() {
                console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");
                return this.texture.format
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");
                this.texture.format = a
            }
        },
        type: {
            get: function() {
                console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
                return this.texture.type
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
                this.texture.type = a
            }
        },
        generateMipmaps: {
            get: function() {
                console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");
                return this.texture.generateMipmaps
            },
            set: function(a) {
                console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");
                this.texture.generateMipmaps = a
            }
        }
    });
    Object.assign(dc.prototype, {
        load: function(a) {
            console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");
            var b = this;
            (new Od).load(a, function(a) {
                b.setBuffer(a)
            });
            return this
        }
    });
    Object.assign(Rd.prototype, {
        getData: function(a) {
            console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");
            return this.getFrequencyData()
        }
    });
    l.WebGLRenderTargetCube = Eb;
    l.WebGLRenderTarget = Db;
    l.WebGLRenderer = Dd;
    l.ShaderLib = Gb;
    l.UniformsLib = W;
    l.UniformsUtils = La;
    l.ShaderChunk = X;
    l.FogExp2 = Ib;
    l.Fog = Jb;
    l.Scene = jb;
    l.LensFlare = Ed;
    l.Sprite = qc;
    l.LOD = rc;
    l.SkinnedMesh = dd;
    l.Skeleton = bd;
    l.Bone = cd;
    l.Mesh = ya;
    l.LineSegments = la;
    l.Line = Ta;
    l.Points = Kb;
    l.Group = sc;
    l.VideoTexture = ed;
    l.DataTexture =
    lb;
    l.CompressedTexture = Lb;
    l.CubeTexture = Xa;
    l.CanvasTexture = fd;
    l.DepthTexture = tc;
    l.TextureIdCount = function() {
        return ee++
    };
    l.Texture = da;
    l.MaterialIdCount = function() {
        return oe++
    };
    l.CompressedTextureLoader = we;
    l.BinaryTextureLoader = Gd;
    l.DataTextureLoader = Gd;
    l.CubeTextureLoader = Hd;
    l.TextureLoader = gd;
    l.ObjectLoader = xe;
    l.MaterialLoader = ud;
    l.BufferGeometryLoader = Id;
    l.DefaultLoadingManager = Ga;
    l.LoadingManager = Fd;
    l.JSONLoader = Jd;
    l.ImageLoader = Lc;
    l.FontLoader = ye;
    l.XHRLoader = Ja;
    l.Loader = wb;
    l.Cache = ce;
    l.AudioLoader =
    Od;
    l.SpotLightShadow = id;
    l.SpotLight = jd;
    l.PointLight = kd;
    l.HemisphereLight = hd;
    l.DirectionalLightShadow = ld;
    l.DirectionalLight = md;
    l.AmbientLight = nd;
    l.LightShadow = tb;
    l.Light = pa;
    l.StereoCamera = ze;
    l.PerspectiveCamera = Ea;
    l.OrthographicCamera = Hb;
    l.CubeCamera = vd;
    l.Camera = Z;
    l.AudioListener = Pd;
    l.PositionalAudio = Qd;
    l.getAudioContext = Md;
    l.AudioAnalyser = Rd;
    l.Audio = dc;
    l.VectorKeyframeTrack = bc;
    l.StringKeyframeTrack = rd;
    l.QuaternionKeyframeTrack = Nc;
    l.NumberKeyframeTrack = cc;
    l.ColorKeyframeTrack = td;
    l.BooleanKeyframeTrack =
    sd;
    l.PropertyMixer = wd;
    l.PropertyBinding = fa;
    l.KeyframeTrack = vb;
    l.AnimationUtils = ma;
    l.AnimationObjectGroup = Sd;
    l.AnimationMixer = Ud;
    l.AnimationClip = Ha;
    l.Uniform = Ae;
    l.InstancedBufferGeometry = Bb;
    l.BufferGeometry = G;
    l.GeometryIdCount = function() {
        return ad++
    };
    l.Geometry = Q;
    l.InterleavedBufferAttribute = Vd;
    l.InstancedInterleavedBuffer = fc;
    l.InterleavedBuffer = ec;
    l.InstancedBufferAttribute = gc;
    l.DynamicBufferAttribute = function(a, b) {
        console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");
        return (new C(a, b)).setDynamic(!0)
    };
    l.Float64Attribute = function(a, b) {
        return new C(new Float64Array(a), b)
    };
    l.Float32Attribute = ha;
    l.Uint32Attribute = $c;
    l.Int32Attribute = function(a, b) {
        return new C(new Int32Array(a), b)
    };
    l.Uint16Attribute = Zc;
    l.Int16Attribute = function(a, b) {
        return new C(new Int16Array(a), b)
    };
    l.Uint8ClampedAttribute = function(a, b) {
        return new C(new Uint8ClampedArray(a), b)
    };
    l.Uint8Attribute = function(a, b) {
        return new C(new Uint8Array(a), b)
    };
    l.Int8Attribute = function(a, b) {
        return new C(new Int8Array(a),
        b)
    };
    l.BufferAttribute = C;
    l.Face3 = ea;
    l.Object3DIdCount = function() {
        return qe++
    };
    l.Object3D = z;
    l.Raycaster = Wd;
    l.Layers = Yc;
    l.EventDispatcher = sa;
    l.Clock = Yd;
    l.QuaternionLinearInterpolant = qd;
    l.LinearInterpolant = Mc;
    l.DiscreteInterpolant = pd;
    l.CubicInterpolant = od;
    l.Interpolant = qa;
    l.Triangle = wa;
    l.Spline = function(a) {
        function b(a, b, c, d, e, f, g) {
            a = .5 * (c - a);
            d = .5 * (d - b);
            return (2 * (b - c) + a + d) * g + (-3 * (b - c) - 2 * a - d) * f + a * e + b
        }
        this.points = a;
        var c = [],
            d = {
                x: 0,
                y: 0,
                z: 0
            },
            e,
            f,
            g,
            h,
            k,
            l,
            w,
            n,
            p;
        this.initFromArray = function(a) {
            this.points = [];
            for (var b = 0; b < a.length; b++)
                this.points[b] = {
                    x: a[b][0],
                    y: a[b][1],
                    z: a[b][2]
                }
        };
        this.getPoint = function(a) {
            e = (this.points.length - 1) * a;
            f = Math.floor(e);
            g = e - f;
            c[0] = 0 === f ? f : f - 1;
            c[1] = f;
            c[2] = f > this.points.length - 2 ? this.points.length - 1 : f + 1;
            c[3] = f > this.points.length - 3 ? this.points.length - 1 : f + 2;
            l = this.points[c[0]];
            w = this.points[c[1]];
            n = this.points[c[2]];
            p = this.points[c[3]];
            h = g * g;
            k = g * h;
            d.x = b(l.x, w.x, n.x, p.x, g, h, k);
            d.y = b(l.y, w.y, n.y, p.y, g, h, k);
            d.z = b(l.z, w.z, n.z, p.z, g, h, k);
            return d
        };
        this.getControlPointsArray = function() {
            var a,
                b,
                c = this.points.length,
                d = [];
            for (a = 0; a < c; a++)
                b = this.points[a], d[a] = [b.x, b.y, b.z];
            return d
        };
        this.getLength = function(a) {
            var b,
                c,
                d,
                e = 0,
                f = new q,
                g = new q,
                h = [],
                k = 0;
            h[0] = 0;
            a || (a = 100);
            c = this.points.length * a;
            f.copy(this.points[0]);
            for (a = 1; a < c; a++)
                b = a / c, d = this.getPoint(b), g.copy(d), k += g.distanceTo(f), f.copy(d), b *= this.points.length - 1, b = Math.floor(b), b !== e && (h[b] = k, e = b);
            h[h.length] = k;
            return {
                chunks: h,
                total: k
            }
        };
        this.reparametrizeByArcLength = function(a) {
            var b,
                c,
                d,
                e,
                f,
                g,
                h = [],
                k = new q,
                l = this.getLength();
            h.push(k.copy(this.points[0]).clone());
            for (b = 1; b < this.points.length; b++) {
                c = l.chunks[b] - l.chunks[b - 1];
                g = Math.ceil(a * c / l.total);
                e = (b - 1) / (this.points.length - 1);
                f = b / (this.points.length - 1);
                for (c = 1; c < g - 1; c++)
                    d = e + 1 / g * c * (f - e), d = this.getPoint(d), h.push(k.copy(d).clone());
                h.push(k.copy(this.points[b]).clone())
            }
            this.points = h
        }
    };
    l.Math = T;
    l.Spherical = Zd;
    l.Plane = va;
    l.Frustum = nc;
    l.Sphere = Ca;
    l.Ray = ab;
    l.Matrix4 = J;
    l.Matrix3 = Ia;
    l.Box3 = Ba;
    l.Box2 = mc;
    l.Line3 = gb;
    l.Euler = bb;
    l.Vector4 = ga;
    l.Vector3 = q;
    l.Vector2 = B;
    l.Quaternion = ba;
    l.ColorKeywords = He;
    l.Color = O;
    l.MorphBlendMesh =
    na;
    l.ImmediateRenderObject = Qc;
    l.VertexNormalsHelper = Rc;
    l.SpotLightHelper = hc;
    l.SkeletonHelper = ic;
    l.PointLightHelper = jc;
    l.HemisphereLightHelper = kc;
    l.GridHelper = Sc;
    l.FaceNormalsHelper = Tc;
    l.DirectionalLightHelper = lc;
    l.CameraHelper = Uc;
    l.BoundingBoxHelper = Vc;
    l.BoxHelper = Wc;
    l.ArrowHelper = Cb;
    l.AxisHelper = xd;
    l.ClosedSplineCurve3 = Ee;
    l.CatmullRomCurve3 = $d;
    l.SplineCurve3 = Ef;
    l.CubicBezierCurve3 = Ff;
    l.QuadraticBezierCurve3 = Gf;
    l.LineCurve3 = Hf;
    l.ArcCurve = yd;
    l.EllipseCurve = Va;
    l.SplineCurve = xb;
    l.CubicBezierCurve = yb;
    l.QuadraticBezierCurve = zb;
    l.LineCurve = Sa;
    l.Shape = Ab;
    l.ShapePath = Kd;
    l.Path = Pc;
    l.Font = Ld;
    l.CurvePath = Oc;
    l.Curve = ia;
    l.ShapeUtils = ra;
    l.SceneUtils = {
        createMultiMaterialObject: function(a, b) {
            for (var c = new sc, d = 0, e = b.length; d < e; d++)
                c.add(new ya(a, b[d]));
            return c
        },
        detach: function(a, b, c) {
            a.applyMatrix(b.matrixWorld);
            b.remove(a);
            c.add(a)
        },
        attach: function(a, b, c) {
            var d = new J;
            d.getInverse(c.matrixWorld);
            a.applyMatrix(d);
            b.remove(a);
            c.add(a)
        }
    };
    l.CurveUtils = Xc;
    l.WireframeGeometry = Mb;
    l.ParametricGeometry = uc;
    l.ParametricBufferGeometry =
    Nb;
    l.TetrahedronGeometry = vc;
    l.TetrahedronBufferGeometry = Ob;
    l.OctahedronGeometry = wc;
    l.OctahedronBufferGeometry = Pb;
    l.IcosahedronGeometry = xc;
    l.IcosahedronBufferGeometry = Qb;
    l.DodecahedronGeometry = yc;
    l.DodecahedronBufferGeometry = Rb;
    l.PolyhedronGeometry = zc;
    l.PolyhedronBufferGeometry = ua;
    l.TubeGeometry = Ac;
    l.TubeBufferGeometry = Sb;
    l.TorusKnotGeometry = Bc;
    l.TorusKnotBufferGeometry = Tb;
    l.TorusGeometry = Cc;
    l.TorusBufferGeometry = Ub;
    l.TextGeometry = Dc;
    l.SphereBufferGeometry = mb;
    l.SphereGeometry = Vb;
    l.RingGeometry = Ec;
    l.RingBufferGeometry = Wb;
    l.PlaneBufferGeometry = ib;
    l.PlaneGeometry = Fc;
    l.LatheGeometry = Gc;
    l.LatheBufferGeometry = Xb;
    l.ShapeGeometry = cb;
    l.ExtrudeGeometry = za;
    l.EdgesGeometry = Yb;
    l.ConeGeometry = Hc;
    l.ConeBufferGeometry = Ic;
    l.CylinderGeometry = nb;
    l.CylinderBufferGeometry = Ua;
    l.CircleBufferGeometry = Zb;
    l.CircleGeometry = Jc;
    l.BoxBufferGeometry = hb;
    l.BoxGeometry = ob;
    l.ShadowMaterial = $b;
    l.SpriteMaterial = kb;
    l.RawShaderMaterial = ac;
    l.ShaderMaterial = Fa;
    l.PointsMaterial = xa;
    l.MultiMaterial = Kc;
    l.MeshPhysicalMaterial = pb;
    l.MeshStandardMaterial =
    Oa;
    l.MeshPhongMaterial = db;
    l.MeshNormalMaterial = qb;
    l.MeshLambertMaterial = rb;
    l.MeshDepthMaterial = Za;
    l.MeshBasicMaterial = Ma;
    l.LineDashedMaterial = sb;
    l.LineBasicMaterial = oa;
    l.Material = U;
    l.REVISION = "82";
    l.MOUSE = {
        LEFT: 0,
        MIDDLE: 1,
        RIGHT: 2
    };
    l.CullFaceNone = 0;
    l.CullFaceBack = 1;
    l.CullFaceFront = 2;
    l.CullFaceFrontBack = 3;
    l.FrontFaceDirectionCW = 0;
    l.FrontFaceDirectionCCW = 1;
    l.BasicShadowMap = 0;
    l.PCFShadowMap = 1;
    l.PCFSoftShadowMap = 2;
    l.FrontSide = 0;
    l.BackSide = 1;
    l.DoubleSide = 2;
    l.FlatShading = 1;
    l.SmoothShading = 2;
    l.NoColors = 0;
    l.FaceColors = 1;
    l.VertexColors = 2;
    l.NoBlending = 0;
    l.NormalBlending = 1;
    l.AdditiveBlending = 2;
    l.SubtractiveBlending = 3;
    l.MultiplyBlending = 4;
    l.CustomBlending = 5;
    l.BlendingMode = Fe;
    l.AddEquation = 100;
    l.SubtractEquation = 101;
    l.ReverseSubtractEquation = 102;
    l.MinEquation = 103;
    l.MaxEquation = 104;
    l.ZeroFactor = 200;
    l.OneFactor = 201;
    l.SrcColorFactor = 202;
    l.OneMinusSrcColorFactor = 203;
    l.SrcAlphaFactor = 204;
    l.OneMinusSrcAlphaFactor = 205;
    l.DstAlphaFactor = 206;
    l.OneMinusDstAlphaFactor = 207;
    l.DstColorFactor = 208;
    l.OneMinusDstColorFactor =
    209;
    l.SrcAlphaSaturateFactor = 210;
    l.NeverDepth = 0;
    l.AlwaysDepth = 1;
    l.LessDepth = 2;
    l.LessEqualDepth = 3;
    l.EqualDepth = 4;
    l.GreaterEqualDepth = 5;
    l.GreaterDepth = 6;
    l.NotEqualDepth = 7;
    l.MultiplyOperation = 0;
    l.MixOperation = 1;
    l.AddOperation = 2;
    l.NoToneMapping = 0;
    l.LinearToneMapping = 1;
    l.ReinhardToneMapping = 2;
    l.Uncharted2ToneMapping = 3;
    l.CineonToneMapping = 4;
    l.UVMapping = 300;
    l.CubeReflectionMapping = 301;
    l.CubeRefractionMapping = 302;
    l.EquirectangularReflectionMapping = 303;
    l.EquirectangularRefractionMapping = 304;
    l.SphericalReflectionMapping =
    305;
    l.CubeUVReflectionMapping = 306;
    l.CubeUVRefractionMapping = 307;
    l.TextureMapping = Ge;
    l.RepeatWrapping = 1E3;
    l.ClampToEdgeWrapping = 1001;
    l.MirroredRepeatWrapping = 1002;
    l.TextureWrapping = ae;
    l.NearestFilter = 1003;
    l.NearestMipMapNearestFilter = 1004;
    l.NearestMipMapLinearFilter = 1005;
    l.LinearFilter = 1006;
    l.LinearMipMapNearestFilter = 1007;
    l.LinearMipMapLinearFilter = 1008;
    l.TextureFilter = be;
    l.UnsignedByteType = 1009;
    l.ByteType = 1010;
    l.ShortType = 1011;
    l.UnsignedShortType = 1012;
    l.IntType = 1013;
    l.UnsignedIntType = 1014;
    l.FloatType =
    1015;
    l.HalfFloatType = 1016;
    l.UnsignedShort4444Type = 1017;
    l.UnsignedShort5551Type = 1018;
    l.UnsignedShort565Type = 1019;
    l.UnsignedInt248Type = 1020;
    l.AlphaFormat = 1021;
    l.RGBFormat = 1022;
    l.RGBAFormat = 1023;
    l.LuminanceFormat = 1024;
    l.LuminanceAlphaFormat = 1025;
    l.RGBEFormat = 1023;
    l.DepthFormat = 1026;
    l.DepthStencilFormat = 1027;
    l.RGB_S3TC_DXT1_Format = 2001;
    l.RGBA_S3TC_DXT1_Format = 2002;
    l.RGBA_S3TC_DXT3_Format = 2003;
    l.RGBA_S3TC_DXT5_Format = 2004;
    l.RGB_PVRTC_4BPPV1_Format = 2100;
    l.RGB_PVRTC_2BPPV1_Format = 2101;
    l.RGBA_PVRTC_4BPPV1_Format =
    2102;
    l.RGBA_PVRTC_2BPPV1_Format = 2103;
    l.RGB_ETC1_Format = 2151;
    l.LoopOnce = 2200;
    l.LoopRepeat = 2201;
    l.LoopPingPong = 2202;
    l.InterpolateDiscrete = 2300;
    l.InterpolateLinear = 2301;
    l.InterpolateSmooth = 2302;
    l.ZeroCurvatureEnding = 2400;
    l.ZeroSlopeEnding = 2401;
    l.WrapAroundEnding = 2402;
    l.TrianglesDrawMode = 0;
    l.TriangleStripDrawMode = 1;
    l.TriangleFanDrawMode = 2;
    l.LinearEncoding = 3E3;
    l.sRGBEncoding = 3001;
    l.GammaEncoding = 3007;
    l.RGBEEncoding = 3002;
    l.LogLuvEncoding = 3003;
    l.RGBM7Encoding = 3004;
    l.RGBM16Encoding = 3005;
    l.RGBDEncoding = 3006;
    l.BasicDepthPacking = 3200;
    l.RGBADepthPacking = 3201;
    l.CubeGeometry = ob;
    l.Face4 = function(a, b, c, d, e, f, g) {
        console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");
        return new ea(a, b, c, e, f, g)
    };
    l.LineStrip = 0;
    l.LinePieces = 1;
    l.MeshFaceMaterial = Kc;
    l.PointCloud = function(a, b) {
        console.warn("THREE.PointCloud has been renamed to THREE.Points.");
        return new Kb(a, b)
    };
    l.Particle = qc;
    l.ParticleSystem = function(a, b) {
        console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");
        return new Kb(a,
        b)
    };
    l.PointCloudMaterial = function(a) {
        console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");
        return new xa(a)
    };
    l.ParticleBasicMaterial = function(a) {
        console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");
        return new xa(a)
    };
    l.ParticleSystemMaterial = function(a) {
        console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");
        return new xa(a)
    };
    l.Vertex = function(a, b, c) {
        console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");
        return new q(a, b, c)
    };
    l.EdgesHelper = function(a, b) {
        console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");
        return new la(new Yb(a.geometry), new oa({
            color: void 0 !== b ? b : 16777215
        }))
    };
    l.WireframeHelper = function(a, b) {
        console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");
        return new la(new Mb(a.geometry), new oa({
            color: void 0 !== b ? b : 16777215
        }))
    };
    l.GeometryUtils = {
        merge: function(a, b, c) {
            console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");
            var d;
            b.isMesh && (b.matrixAutoUpdate && b.updateMatrix(), d = b.matrix, b = b.geometry);
            a.merge(b, d, c)
        },
        center: function(a) {
            console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");
            return a.center()
        }
    };
    l.ImageUtils = {
        crossOrigin: void 0,
        loadTexture: function(a, b, c, d) {
            console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");
            var e = new gd;
            e.setCrossOrigin(this.crossOrigin);
            a = e.load(a, c, void 0, d);
            b && (a.mapping = b);
            return a
        },
        loadTextureCube: function(a, b, c, d) {
            console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
            var e = new Hd;
            e.setCrossOrigin(this.crossOrigin);
            a = e.load(a, c, void 0, d);
            b && (a.mapping = b);
            return a
        },
        loadCompressedTexture: function() {
            console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")
        },
        loadCompressedTextureCube: function() {
            console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")
        }
    };
    l.Projector = function() {
        console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");
        this.projectVector = function(a, b) {
            console.warn("THREE.Projector: .projectVector() is now vector.project().");
            a.project(b)
        };
        this.unprojectVector = function(a, b) {
            console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");
            a.unproject(b)
        };
        this.pickingRay = function(a, b) {
            console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")
        }
    };
    l.CanvasRenderer = function() {
        console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");
        this.domElement = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
        this.clear = function() {};
        this.render = function() {};
        this.setClearColor = function() {};
        this.setSize = function() {}
    };
    Object.defineProperty(l, "__esModule", {
        value: !0
    });
    Object.defineProperty(l, "AudioContext", {
        get: function() {
            return l.getAudioContext()
        }
    })
});

/**
 * @author mrdoob / http://mrdoob.com/
 */

THREE.SpriteCanvasMaterial = function(parameters) {

    THREE.Material.call(this);

    this.type = 'SpriteCanvasMaterial';

    this.color = new THREE.Color(0xffffff);
    this.program = function(context, color) {};

    this.setValues(parameters);

};

THREE.SpriteCanvasMaterial.prototype = Object.create(THREE.Material.prototype);
THREE.SpriteCanvasMaterial.prototype.constructor = THREE.SpriteCanvasMaterial;

THREE.SpriteCanvasMaterial.prototype.clone = function() {

    var material = new THREE.SpriteCanvasMaterial();

    material.copy(this);
    material.color.copy(this.color);
    material.program = this.program;

    return material;

};

//

THREE.CanvasRenderer = function(parameters) {

    console.log('THREE.CanvasRenderer', THREE.REVISION);

    parameters = parameters || {};

    var _this = this,
        _renderData,
        _elements,
        _lights,
        _projector = new THREE.Projector(),

        _canvas = parameters.canvas !== undefined
        ? parameters.canvas
        : document.createElement('canvas'),

        _canvasWidth = _canvas.width,
        _canvasHeight = _canvas.height,
        _canvasWidthHalf = Math.floor(_canvasWidth / 2),
        _canvasHeightHalf = Math.floor(_canvasHeight / 2),

        _viewportX = 0,
        _viewportY = 0,
        _viewportWidth = _canvasWidth,
        _viewportHeight = _canvasHeight,

        _pixelRatio = 1,

        _context = _canvas.getContext('2d', {
            alpha: parameters.alpha === true
        }),

        _clearColor = new THREE.Color(0x000000),
        _clearAlpha = parameters.alpha === true ? 0 : 1,

        _contextGlobalAlpha = 1,
        _contextGlobalCompositeOperation = 0,
        _contextStrokeStyle = null,
        _contextFillStyle = null,
        _contextLineWidth = null,
        _contextLineCap = null,
        _contextLineJoin = null,
        _contextLineDash = [],

        _camera,

        _v1,
        _v2,
        _v3,
        _v4,
        _v5 = new THREE.RenderableVertex(),
        _v6 = new THREE.RenderableVertex(),

        _v1x,
        _v1y,
        _v2x,
        _v2y,
        _v3x,
        _v3y,
        _v4x,
        _v4y,
        _v5x,
        _v5y,
        _v6x,
        _v6y,

        _color = new THREE.Color(),
        _color1 = new THREE.Color(),
        _color2 = new THREE.Color(),
        _color3 = new THREE.Color(),
        _color4 = new THREE.Color(),

        _diffuseColor = new THREE.Color(),
        _emissiveColor = new THREE.Color(),

        _lightColor = new THREE.Color(),

        _patterns = {},

        _image,
        _uvs,
        _uv1x,
        _uv1y,
        _uv2x,
        _uv2y,
        _uv3x,
        _uv3y,

        _clipBox = new THREE.Box2(),
        _clearBox = new THREE.Box2(),
        _elemBox = new THREE.Box2(),

        _ambientLight = new THREE.Color(),
        _directionalLights = new THREE.Color(),
        _pointLights = new THREE.Color(),

        _vector3 = new THREE.Vector3(),
        // Needed for PointLight
        _centroid = new THREE.Vector3(),
        _normal = new THREE.Vector3(),
        _normalViewMatrix = new THREE.Matrix3();

    /* TODO
	_canvas.mozImageSmoothingEnabled = false;
	_canvas.webkitImageSmoothingEnabled = false;
	_canvas.msImageSmoothingEnabled = false;
	_canvas.imageSmoothingEnabled = false;
	*/

    // dash+gap fallbacks for Firefox and everything else

    if (_context.setLineDash === undefined) {

        _context.setLineDash = function() {};

    }

    this.domElement = _canvas;

    this.autoClear = true;
    this.sortObjects = true;
    this.sortElements = true;

    this.info = {

        render: {

            vertices: 0,
            faces: 0

        }

    };

    // WebGLRenderer compatibility

    this.supportsVertexTextures = function() {};
    this.setFaceCulling = function() {};

    // API

    this.getContext = function() {

        return _context;

    };

    this.getContextAttributes = function() {

        return _context.getContextAttributes();

    };

    this.getPixelRatio = function() {

        return _pixelRatio;

    };

    this.setPixelRatio = function(value) {

        if (value !== undefined)
            _pixelRatio = value;

    };

    this.setSize = function(width, height, updateStyle) {

        _canvasWidth = width * _pixelRatio;
        _canvasHeight = height * _pixelRatio;

        _canvas.width = _canvasWidth;
        _canvas.height = _canvasHeight;

        _canvasWidthHalf = Math.floor(_canvasWidth / 2);
        _canvasHeightHalf = Math.floor(_canvasHeight / 2);

        if (updateStyle !== false) {

            _canvas.style.width = width + 'px';
            _canvas.style.height = height + 'px';

        }

        _clipBox.min.set(-_canvasWidthHalf, -_canvasHeightHalf);
        _clipBox.max.set(_canvasWidthHalf, _canvasHeightHalf);

        _clearBox.min.set(-_canvasWidthHalf, -_canvasHeightHalf);
        _clearBox.max.set(_canvasWidthHalf, _canvasHeightHalf);

        _contextGlobalAlpha = 1;
        _contextGlobalCompositeOperation = 0;
        _contextStrokeStyle = null;
        _contextFillStyle = null;
        _contextLineWidth = null;
        _contextLineCap = null;
        _contextLineJoin = null;

        this.setViewport(0, 0, width, height);

    };

    this.setViewport = function(x, y, width, height) {

        _viewportX = x * _pixelRatio;
        _viewportY = y * _pixelRatio;

        _viewportWidth = width * _pixelRatio;
        _viewportHeight = height * _pixelRatio;

    };

    this.setScissor = function() {};
    this.setScissorTest = function() {};

    this.setClearColor = function(color, alpha) {

        _clearColor.set(color);
        _clearAlpha = alpha !== undefined ? alpha : 1;

        _clearBox.min.set(-_canvasWidthHalf, -_canvasHeightHalf);
        _clearBox.max.set(_canvasWidthHalf, _canvasHeightHalf);

    };

    this.setClearColorHex = function(hex, alpha) {

        console.warn('THREE.CanvasRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead.');
        this.setClearColor(hex, alpha);

    };

    this.getClearColor = function() {

        return _clearColor;

    };

    this.getClearAlpha = function() {

        return _clearAlpha;

    };

    this.getMaxAnisotropy = function() {

        return 0;

    };

    this.clear = function() {

        if (_clearBox.isEmpty() === false) {

            _clearBox.intersect(_clipBox);
            _clearBox.expandByScalar(2);

            _clearBox.min.x = _clearBox.min.x + _canvasWidthHalf;
            _clearBox.min.y = -_clearBox.min.y + _canvasHeightHalf; // higher y value !
            _clearBox.max.x = _clearBox.max.x + _canvasWidthHalf;
            _clearBox.max.y = -_clearBox.max.y + _canvasHeightHalf; // lower y value !

            if (_clearAlpha < 1) {

                _context.clearRect(
                _clearBox.min.x | 0,
                _clearBox.max.y | 0,
                (_clearBox.max.x - _clearBox.min.x) | 0,
                (_clearBox.min.y - _clearBox.max.y) | 0
                );

            }

            if (_clearAlpha > 0) {

                setBlending(THREE.NormalBlending);
                setOpacity(1);

                setFillStyle('rgba(' + Math.floor(_clearColor.r * 255) + ',' + Math.floor(_clearColor.g * 255) + ',' + Math.floor(_clearColor.b * 255) + ',' + _clearAlpha + ')');

                _context.fillRect(
                _clearBox.min.x | 0,
                _clearBox.max.y | 0,
                (_clearBox.max.x - _clearBox.min.x) | 0,
                (_clearBox.min.y - _clearBox.max.y) | 0
                );

            }

            _clearBox.makeEmpty();

        }

    };

    // compatibility

    this.clearColor = function() {};
    this.clearDepth = function() {};
    this.clearStencil = function() {};

    this.render = function(scene, camera) {

        if (camera instanceof THREE.Camera === false) {

            console.error('THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.');
            return;

        }

        if (this.autoClear === true)
            this.clear();

        _this.info.render.vertices = 0;
        _this.info.render.faces = 0;

        _context.setTransform(_viewportWidth / _canvasWidth, 0, 0, -_viewportHeight / _canvasHeight, _viewportX, _canvasHeight - _viewportY);
        _context.translate(_canvasWidthHalf, _canvasHeightHalf);

        _renderData = _projector.projectScene(scene, camera, this.sortObjects, this.sortElements);
        _elements = _renderData.elements;
        _lights = _renderData.lights;
        _camera = camera;

        _normalViewMatrix.getNormalMatrix(camera.matrixWorldInverse);

        /* DEBUG
		setFillStyle( 'rgba( 0, 255, 255, 0.5 )' );
		_context.fillRect( _clipBox.min.x, _clipBox.min.y, _clipBox.max.x - _clipBox.min.x, _clipBox.max.y - _clipBox.min.y );
		*/

        calculateLights();

        for (var e = 0, el = _elements.length; e < el; e++) {

            var element = _elements[e];

            var material = element.material;

            if (material === undefined || material.opacity === 0)
                continue;

            _elemBox.makeEmpty();

            if (element instanceof THREE.RenderableSprite) {

                _v1 = element;
                _v1.x *= _canvasWidthHalf;
                _v1.y *= _canvasHeightHalf;

                renderSprite(_v1, element, material);

            } else if (element instanceof THREE.RenderableLine) {

                _v1 = element.v1;
                _v2 = element.v2;

                _v1.positionScreen.x *= _canvasWidthHalf;
                _v1.positionScreen.y *= _canvasHeightHalf;
                _v2.positionScreen.x *= _canvasWidthHalf;
                _v2.positionScreen.y *= _canvasHeightHalf;

                _elemBox.setFromPoints([
                _v1.positionScreen,
                _v2.positionScreen
                ]);

                if (_clipBox.intersectsBox(_elemBox) === true) {

                    renderLine(_v1, _v2, element, material);

                }

            } else if (element instanceof THREE.RenderableFace) {

                _v1 = element.v1;
                _v2 = element.v2;
                _v3 = element.v3;

                if (_v1.positionScreen.z < -1 || _v1.positionScreen.z > 1)
                    continue;
                if (_v2.positionScreen.z < -1 || _v2.positionScreen.z > 1)
                    continue;
                if (_v3.positionScreen.z < -1 || _v3.positionScreen.z > 1)
                    continue;

                _v1.positionScreen.x *= _canvasWidthHalf;
                _v1.positionScreen.y *= _canvasHeightHalf;
                _v2.positionScreen.x *= _canvasWidthHalf;
                _v2.positionScreen.y *= _canvasHeightHalf;
                _v3.positionScreen.x *= _canvasWidthHalf;
                _v3.positionScreen.y *= _canvasHeightHalf;

                if (material.overdraw > 0) {

                    expand(_v1.positionScreen, _v2.positionScreen, material.overdraw);
                    expand(_v2.positionScreen, _v3.positionScreen, material.overdraw);
                    expand(_v3.positionScreen, _v1.positionScreen, material.overdraw);

                }

                _elemBox.setFromPoints([
                _v1.positionScreen,
                _v2.positionScreen,
                _v3.positionScreen
                ]);

                if (_clipBox.intersectsBox(_elemBox) === true) {

                    renderFace3(_v1, _v2, _v3, 0, 1, 2, element, material);

                }

            }

            /* DEBUG
			setLineWidth( 1 );
			setStrokeStyle( 'rgba( 0, 255, 0, 0.5 )' );
			_context.strokeRect( _elemBox.min.x, _elemBox.min.y, _elemBox.max.x - _elemBox.min.x, _elemBox.max.y - _elemBox.min.y );
			*/

            _clearBox.union(_elemBox);

        }

        /* DEBUG
		setLineWidth( 1 );
		setStrokeStyle( 'rgba( 255, 0, 0, 0.5 )' );
		_context.strokeRect( _clearBox.min.x, _clearBox.min.y, _clearBox.max.x - _clearBox.min.x, _clearBox.max.y - _clearBox.min.y );
		*/

        _context.setTransform(1, 0, 0, 1, 0, 0);

    };

    //

    function calculateLights() {

        _ambientLight.setRGB(0, 0, 0);
        _directionalLights.setRGB(0, 0, 0);
        _pointLights.setRGB(0, 0, 0);

        for (var l = 0, ll = _lights.length; l < ll; l++) {

            var light = _lights[l];
            var lightColor = light.color;

            if (light instanceof THREE.AmbientLight) {

                _ambientLight.add(lightColor);

            } else if (light instanceof THREE.DirectionalLight) {

                // for sprites

                _directionalLights.add(lightColor);

            } else if (light instanceof THREE.PointLight) {

                // for sprites

                _pointLights.add(lightColor);

            }

        }

    }

    function calculateLight(position, normal, color) {

        for (var l = 0, ll = _lights.length; l < ll; l++) {

            var light = _lights[l];

            _lightColor.copy(light.color);

            if (light instanceof THREE.DirectionalLight) {

                var lightPosition = _vector3.setFromMatrixPosition(light.matrixWorld).normalize();

                var amount = normal.dot(lightPosition);

                if (amount <= 0)
                    continue;

                amount *= light.intensity;

                color.add(_lightColor.multiplyScalar(amount));

            } else if (light instanceof THREE.PointLight) {

                var lightPosition = _vector3.setFromMatrixPosition(light.matrixWorld);

                var amount = normal.dot(_vector3.subVectors(lightPosition, position).normalize());

                if (amount <= 0)
                    continue;

                amount *= light.distance == 0 ? 1 : 1 - Math.min(position.distanceTo(lightPosition) / light.distance, 1);

                if (amount == 0)
                    continue;

                amount *= light.intensity;

                color.add(_lightColor.multiplyScalar(amount));

            }

        }

    }

    function renderSprite(v1, element, material) {

        setOpacity(material.opacity);
        setBlending(material.blending);

        var scaleX = element.scale.x * _canvasWidthHalf;
        var scaleY = element.scale.y * _canvasHeightHalf;

        var dist = 0.5 * Math.sqrt(scaleX * scaleX + scaleY * scaleY); // allow for rotated sprite
        _elemBox.min.set(v1.x - dist, v1.y - dist);
        _elemBox.max.set(v1.x + dist, v1.y + dist);

        if (material instanceof THREE.SpriteMaterial) {

            var texture = material.map;

            if (texture !== null) {

                var pattern = _patterns[texture.id];

                if (pattern === undefined || pattern.version !== texture.version) {

                    pattern = textureToPattern(texture);
                    _patterns[texture.id] = pattern;

                }

                if (pattern.canvas !== undefined) {

                    setFillStyle(pattern.canvas);

                    var bitmap = texture.image;

                    var ox = bitmap.width * texture.offset.x;
                    var oy = bitmap.height * texture.offset.y;

                    var sx = bitmap.width * texture.repeat.x;
                    var sy = bitmap.height * texture.repeat.y;

                    var cx = scaleX / sx;
                    var cy = scaleY / sy;

                    _context.save();
                    _context.translate(v1.x, v1.y);
                    if (material.rotation !== 0)
                        _context.rotate(material.rotation);
                    _context.translate(-scaleX / 2, -scaleY / 2);
                    _context.scale(cx, cy);
                    _context.translate(-ox, -oy);
                    _context.fillRect(ox, oy, sx, sy);
                    _context.restore();

                }

            } else {

                // no texture

                setFillStyle(material.color.getStyle());

                _context.save();
                _context.translate(v1.x, v1.y);
                if (material.rotation !== 0)
                    _context.rotate(material.rotation);
                _context.scale(scaleX, -scaleY);
                _context.fillRect(-0.5, -0.5, 1, 1);
                _context.restore();

            }

        } else if (material instanceof THREE.SpriteCanvasMaterial) {

            setStrokeStyle(material.color.getStyle());
            setFillStyle(material.color.getStyle());

            _context.save();
            _context.translate(v1.x, v1.y);
            if (material.rotation !== 0)
                _context.rotate(material.rotation);
            _context.scale(scaleX, scaleY);

            material.program(_context);

            _context.restore();

        }











    }
    /* DEBUG
		setStrokeStyle( 'rgb(255,255,0)' );
		_context.beginPath();
		_context.moveTo( v1.x - 10, v1.y );
		_context.lineTo( v1.x + 10, v1.y );
		_context.moveTo( v1.x, v1.y - 10 );
		_context.lineTo( v1.x, v1.y + 10 );
		_context.stroke();
		*/

    function renderLine(v1, v2, element, material) {

        setOpacity(material.opacity);
        setBlending(material.blending);

        _context.beginPath();
        _context.moveTo(v1.positionScreen.x, v1.positionScreen.y);
        _context.lineTo(v2.positionScreen.x, v2.positionScreen.y);

        if (material instanceof THREE.LineBasicMaterial) {

            setLineWidth(material.linewidth);
            setLineCap(material.linecap);
            setLineJoin(material.linejoin);

            if (material.vertexColors !== THREE.VertexColors) {

                setStrokeStyle(material.color.getStyle());

            } else {

                var colorStyle1 = element.vertexColors[0].getStyle();
                var colorStyle2 = element.vertexColors[1].getStyle();

                if (colorStyle1 === colorStyle2) {

                    setStrokeStyle(colorStyle1);

                } else {

                    try {

                        var grad = _context.createLinearGradient(
                        v1.positionScreen.x,
                        v1.positionScreen.y,
                        v2.positionScreen.x,
                        v2.positionScreen.y
                        );
                        grad.addColorStop(0, colorStyle1);
                        grad.addColorStop(1, colorStyle2);

                    } catch (exception) {

                        grad = colorStyle1;

                    }

                    setStrokeStyle(grad);

                }

            }

            _context.stroke();
            _elemBox.expandByScalar(material.linewidth * 2);

        } else if (material instanceof THREE.LineDashedMaterial) {

            setLineWidth(material.linewidth);
            setLineCap(material.linecap);
            setLineJoin(material.linejoin);
            setStrokeStyle(material.color.getStyle());
            setLineDash([material.dashSize, material.gapSize]);

            _context.stroke();

            _elemBox.expandByScalar(material.linewidth * 2);

            setLineDash([]);

        }

    }

    function renderFace3(v1, v2, v3, uv1, uv2, uv3, element, material) {

        _this.info.render.vertices += 3;
        _this.info.render.faces++;

        setOpacity(material.opacity);
        setBlending(material.blending);

        _v1x = v1.positionScreen.x;
        _v1y = v1.positionScreen.y;
        _v2x = v2.positionScreen.x;
        _v2y = v2.positionScreen.y;
        _v3x = v3.positionScreen.x;
        _v3y = v3.positionScreen.y;

        drawTriangle(_v1x, _v1y, _v2x, _v2y, _v3x, _v3y);

        if ((material instanceof THREE.MeshLambertMaterial || material instanceof THREE.MeshPhongMaterial) && material.map === null) {

            _diffuseColor.copy(material.color);
            _emissiveColor.copy(material.emissive);

            if (material.vertexColors === THREE.FaceColors) {

                _diffuseColor.multiply(element.color);

            }

            _color.copy(_ambientLight);

            _centroid.copy(v1.positionWorld).add(v2.positionWorld).add(v3.positionWorld).divideScalar(3);

            calculateLight(_centroid, element.normalModel, _color);

            _color.multiply(_diffuseColor).add(_emissiveColor);

            material.wireframe === true
            ? strokePath(_color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin)
            : fillPath(_color);

        } else if (material instanceof THREE.MeshBasicMaterial ||
        material instanceof THREE.MeshLambertMaterial ||
        material instanceof THREE.MeshPhongMaterial) {

            if (material.map !== null) {

                var mapping = material.map.mapping;

                if (mapping === THREE.UVMapping) {

                    _uvs = element.uvs;
                    patternPath(_v1x, _v1y, _v2x, _v2y, _v3x, _v3y, _uvs[uv1].x, _uvs[uv1].y, _uvs[uv2].x, _uvs[uv2].y, _uvs[uv3].x, _uvs[uv3].y, material.map);

                }

            } else if (material.envMap !== null) {

                if (material.envMap.mapping === THREE.SphericalReflectionMapping) {

                    _normal.copy(element.vertexNormalsModel[uv1]).applyMatrix3(_normalViewMatrix);
                    _uv1x = 0.5 * _normal.x + 0.5;
                    _uv1y = 0.5 * _normal.y + 0.5;

                    _normal.copy(element.vertexNormalsModel[uv2]).applyMatrix3(_normalViewMatrix);
                    _uv2x = 0.5 * _normal.x + 0.5;
                    _uv2y = 0.5 * _normal.y + 0.5;

                    _normal.copy(element.vertexNormalsModel[uv3]).applyMatrix3(_normalViewMatrix);
                    _uv3x = 0.5 * _normal.x + 0.5;
                    _uv3y = 0.5 * _normal.y + 0.5;

                    patternPath(_v1x, _v1y, _v2x, _v2y, _v3x, _v3y, _uv1x, _uv1y, _uv2x, _uv2y, _uv3x, _uv3y, material.envMap);

                }

            } else {

                _color.copy(material.color);

                if (material.vertexColors === THREE.FaceColors) {

                    _color.multiply(element.color);

                }

                material.wireframe === true
                ? strokePath(_color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin)
                : fillPath(_color);

            }

        } else if (material instanceof THREE.MeshNormalMaterial) {

            _normal.copy(element.normalModel).applyMatrix3(_normalViewMatrix);

            _color.setRGB(_normal.x, _normal.y, _normal.z).multiplyScalar(0.5).addScalar(0.5);

            material.wireframe === true
            ? strokePath(_color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin)
            : fillPath(_color);

        } else {

            _color.setRGB(1, 1, 1);

            material.wireframe === true
            ? strokePath(_color, material.wireframeLinewidth, material.wireframeLinecap, material.wireframeLinejoin)
            : fillPath(_color);

        }

    }

    //

    function drawTriangle(x0, y0, x1, y1, x2, y2) {

        _context.beginPath();
        _context.moveTo(x0, y0);
        _context.lineTo(x1, y1);
        _context.lineTo(x2, y2);
        _context.closePath();

    }

    function strokePath(color, linewidth, linecap, linejoin) {

        setLineWidth(linewidth);
        setLineCap(linecap);
        setLineJoin(linejoin);
        setStrokeStyle(color.getStyle());

        _context.stroke();

        _elemBox.expandByScalar(linewidth * 2);

    }

    function fillPath(color) {

        setFillStyle(color.getStyle());
        _context.fill();

    }

    function textureToPattern(texture) {

        if (texture.version === 0 ||
        texture instanceof THREE.CompressedTexture ||
        texture instanceof THREE.DataTexture) {

            return {
                canvas: undefined,
                version: texture.version
            };

        }

        var image = texture.image;

        if (image.complete === false) {

            return {
                canvas: undefined,
                version: 0
            };

        }

        var canvas = document.createElement('canvas');
        canvas.width = image.width;
        canvas.height = image.height;

        var context = canvas.getContext('2d');
        context.setTransform(1, 0, 0, -1, 0, image.height);
        context.drawImage(image, 0, 0);

        var repeatX = texture.wrapS === THREE.RepeatWrapping;
        var repeatY = texture.wrapT === THREE.RepeatWrapping;

        var repeat = 'no-repeat';

        if (repeatX === true && repeatY === true) {

            repeat = 'repeat';

        } else if (repeatX === true) {

            repeat = 'repeat-x';

        } else if (repeatY === true) {

            repeat = 'repeat-y';

        }

        var pattern = _context.createPattern(canvas, repeat);

        if (texture.onUpdate)
            texture.onUpdate(texture);

        return {
            canvas: pattern,
            version: texture.version
        };

    }

    function patternPath(x0, y0, x1, y1, x2, y2, u0, v0, u1, v1, u2, v2, texture) {

        var pattern = _patterns[texture.id];

        if (pattern === undefined || pattern.version !== texture.version) {

            pattern = textureToPattern(texture);
            _patterns[texture.id] = pattern;

        }

        if (pattern.canvas !== undefined) {

            setFillStyle(pattern.canvas);

        } else {

            setFillStyle('rgba( 0, 0, 0, 1)');
            _context.fill();
            return;

        }

        // http://extremelysatisfactorytotalitarianism.com/blog/?p=2120

        var a,
            b,
            c,
            d,
            e,
            f,
            det,
            idet,
            offsetX = texture.offset.x / texture.repeat.x,
            offsetY = texture.offset.y / texture.repeat.y,
            width = texture.image.width * texture.repeat.x,
            height = texture.image.height * texture.repeat.y;

        u0 = (u0 + offsetX) * width;
        v0 = (v0 + offsetY) * height;

        u1 = (u1 + offsetX) * width;
        v1 = (v1 + offsetY) * height;

        u2 = (u2 + offsetX) * width;
        v2 = (v2 + offsetY) * height;

        x1 -= x0;
        y1 -= y0;
        x2 -= x0;
        y2 -= y0;

        u1 -= u0;
        v1 -= v0;
        u2 -= u0;
        v2 -= v0;

        det = u1 * v2 - u2 * v1;

        if (det === 0)
            return;

        idet = 1 / det;

        a = (v2 * x1 - v1 * x2) * idet;
        b = (v2 * y1 - v1 * y2) * idet;
        c = (u1 * x2 - u2 * x1) * idet;
        d = (u1 * y2 - u2 * y1) * idet;

        e = x0 - a * u0 - c * v0;
        f = y0 - b * u0 - d * v0;

        _context.save();
        _context.transform(a, b, c, d, e, f);
        _context.fill();
        _context.restore();

    }

    function clipImage(x0, y0, x1, y1, x2, y2, u0, v0, u1, v1, u2, v2, image) {

        // http://extremelysatisfactorytotalitarianism.com/blog/?p=2120

        var a,
            b,
            c,
            d,
            e,
            f,
            det,
            idet,
            width = image.width - 1,
            height = image.height - 1;

        u0 *= width;
        v0 *= height;
        u1 *= width;
        v1 *= height;
        u2 *= width;
        v2 *= height;

        x1 -= x0;
        y1 -= y0;
        x2 -= x0;
        y2 -= y0;

        u1 -= u0;
        v1 -= v0;
        u2 -= u0;
        v2 -= v0;

        det = u1 * v2 - u2 * v1;

        idet = 1 / det;

        a = (v2 * x1 - v1 * x2) * idet;
        b = (v2 * y1 - v1 * y2) * idet;
        c = (u1 * x2 - u2 * x1) * idet;
        d = (u1 * y2 - u2 * y1) * idet;

        e = x0 - a * u0 - c * v0;
        f = y0 - b * u0 - d * v0;

        _context.save();
        _context.transform(a, b, c, d, e, f);
        _context.clip();
        _context.drawImage(image, 0, 0);
        _context.restore();

    }

    // Hide anti-alias gaps

    function expand(v1, v2, pixels) {

        var x = v2.x - v1.x,
            y = v2.y - v1.y,
            det = x * x + y * y,
            idet;

        if (det === 0)
            return;

        idet = pixels / Math.sqrt(det);

        x *= idet;
        y *= idet;

        v2.x += x;
        v2.y += y;
        v1.x -= x;
        v1.y -= y;

    }

    // Context cached methods.

    function setOpacity(value) {

        if (_contextGlobalAlpha !== value) {

            _context.globalAlpha = value;
            _contextGlobalAlpha = value;

        }

    }

    function setBlending(value) {

        if (_contextGlobalCompositeOperation !== value) {

            if (value === THREE.NormalBlending) {

                _context.globalCompositeOperation = 'source-over';

            } else if (value === THREE.AdditiveBlending) {

                _context.globalCompositeOperation = 'lighter';

            } else if (value === THREE.SubtractiveBlending) {

                _context.globalCompositeOperation = 'darker';

            } else if (value === THREE.MultiplyBlending) {

                _context.globalCompositeOperation = 'multiply';

            }

            _contextGlobalCompositeOperation = value;

        }

    }

    function setLineWidth(value) {

        if (_contextLineWidth !== value) {

            _context.lineWidth = value;
            _contextLineWidth = value;

        }

    }

    function setLineCap(value) {

        // "butt", "round", "square"

        if (_contextLineCap !== value) {

            _context.lineCap = value;
            _contextLineCap = value;

        }

    }

    function setLineJoin(value) {

        // "round", "bevel", "miter"

        if (_contextLineJoin !== value) {

            _context.lineJoin = value;
            _contextLineJoin = value;

        }

    }

    function setStrokeStyle(value) {

        if (_contextStrokeStyle !== value) {

            _context.strokeStyle = value;
            _contextStrokeStyle = value;

        }

    }

    function setFillStyle(value) {

        if (_contextFillStyle !== value) {

            _context.fillStyle = value;
            _contextFillStyle = value;

        }

    }

    function setLineDash(value) {

        if (_contextLineDash.length !== value.length) {

            _context.setLineDash(value);
            _contextLineDash = value;

        }

    }

};

/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
!function(a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : "object" == typeof exports ? module.exports = a(require("jquery")) : a(jQuery)
}(function(a) {
    function c(a) {
        return h.raw ? a : encodeURIComponent(a)
    }
    function d(a) {
        return h.raw ? a : decodeURIComponent(a)
    }
    function e(a) {
        return c(h.json ? JSON.stringify(a) : String(a))
    }
    function f(a) {
        0 === a.indexOf('"') && (a = a.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
        try {
            return a = decodeURIComponent(a.replace(b, " ")), h.json ? JSON.parse(a) : a
        } catch (a) {}
    }
    function g(b, c) {
        var d = h.raw ? b : f(b);
        return a.isFunction(c) ? c(d) : d
    }
    var b = /\+/g,
        h = a.cookie = function(b, f, i) {
            if (arguments.length > 1 && !a.isFunction(f)) {
                if (i = a.extend({}, h.defaults, i), "number" == typeof i.expires) {
                    var j = i.expires,
                        k = i.expires = new Date;
                    k.setMilliseconds(k.getMilliseconds() + 864e5 * j)
                }
                return document.cookie = [c(b), "=", e(f), i.expires ? "; expires=" + i.expires.toUTCString() : "", i.path ? "; path=" + i.path : "", i.domain ? "; domain=" + i.domain : "", i.secure ? "; secure" : ""].join("")
            }
            for (var l = b ? void 0 : {}, m = document.cookie ? document.cookie.split("; ") : [], n = 0, o = m.length; n < o; n++) {
                var p = m[n].split("="),
                    q = d(p.shift()),
                    r = p.join("=");
                if (b === q) {
                    l = g(r, f);
                    break
                }
                b || void 0 === (r = g(r)) || (l[q] = r)
            }
            return l
        };
    h.defaults = {}, a.removeCookie = function(b, c) {
        return a.cookie(b, "", a.extend({}, c, {
            expires: -1
        })), !a.cookie(b)
    }
});

/*
== malihu jquery custom scrollbar plugin == 
Version: 3.1.5 
Plugin URI: http://manos.malihu.gr/jquery-custom-content-scroller 
Author: malihu
Author URI: http://manos.malihu.gr
License: MIT License (MIT)
*/

/*
Copyright Manos Malihutsakis (email: manos@malihu.gr)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

/*
The code below is fairly long, fully commented and should be normally used in development. 
For production, use either the minified jquery.mCustomScrollbar.min.js script or 
the production-ready jquery.mCustomScrollbar.concat.min.js which contains the plugin 
and dependencies (minified). 
*/

(function(factory) {
    if (typeof define === "function" && define.amd) {
        define(["jquery"], factory);
    } else if (typeof module !== "undefined" && module.exports) {
        module.exports = factory;
    } else {
        factory(jQuery, window, document);
    }
}(function($) {
    (function(init) {
        var _rjs = typeof define === "function" && define.amd,
            /* RequireJS */
            _njs = typeof module !== "undefined" && module.exports,
            /* NodeJS */
            _dlp = ("https:" == document.location.protocol) ? "https:" : "http:",
            /* location protocol */
            _url = "cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";
        if (!_rjs) {
            if (_njs) {
                require("jquery-mousewheel")($);
            } else {
                /* load jquery-mousewheel plugin (via CDN) if it's not present or not loaded via RequireJS 
			(works when mCustomScrollbar fn is called on window load) */
                $.event.special.mousewheel || $("head").append(decodeURI("%3Cscript src=" + _dlp + "//" + _url + "%3E%3C/script%3E"));
            }
        }
        init();
    }(function() {

        /* 
	----------------------------------------
	PLUGIN NAMESPACE, PREFIX, DEFAULT SELECTOR(S) 
	----------------------------------------
	*/

        var pluginNS = "mCustomScrollbar",
            pluginPfx = "mCS",
            defaultSelector = ".mCustomScrollbar",

            /* 
	----------------------------------------
	DEFAULT OPTIONS 
	----------------------------------------
	*/

            defaults = {
                /*
			set element/content width/height programmatically 
			values: boolean, pixels, percentage 
				option						default
				-------------------------------------
				setWidth					false
				setHeight					false
			*/
                /*
			set the initial css top property of content  
			values: string (e.g. "-100px", "10%" etc.)
			*/
                setTop: 0,
                /*
			set the initial css left property of content  
			values: string (e.g. "-100px", "10%" etc.)
			*/
                setLeft: 0,
                /* 
			scrollbar axis (vertical and/or horizontal scrollbars) 
			values (string): "y", "x", "yx"
			*/
                axis: "y",
                /*
			position of scrollbar relative to content  
			values (string): "inside", "outside" ("outside" requires elements with position:relative)
			*/
                scrollbarPosition: "inside",
                /*
			scrolling inertia
			values: integer (milliseconds)
			*/
                scrollInertia: 950,
                /* 
			auto-adjust scrollbar dragger length
			values: boolean
			*/
                autoDraggerLength: true,
                /*
			auto-hide scrollbar when idle 
			values: boolean
				option						default
				-------------------------------------
				autoHideScrollbar			false
			*/
                /*
			auto-expands scrollbar on mouse-over and dragging
			values: boolean
				option						default
				-------------------------------------
				autoExpandScrollbar			false
			*/
                /*
			always show scrollbar, even when there's nothing to scroll 
			values: integer (0=disable, 1=always show dragger rail and buttons, 2=always show dragger rail, dragger and buttons), boolean
			*/
                alwaysShowScrollbar: 0,
                /*
			scrolling always snaps to a multiple of this number in pixels
			values: integer, array ([y,x])
				option						default
				-------------------------------------
				snapAmount					null
			*/
                /*
			when snapping, snap with this number in pixels as an offset 
			values: integer
			*/
                snapOffset: 0,
                /* 
			mouse-wheel scrolling
			*/
                mouseWheel: {
                    /* 
				enable mouse-wheel scrolling
				values: boolean
				*/
                    enable: true,
                    /* 
				scrolling amount in pixels
				values: "auto", integer 
				*/
                    scrollAmount: "auto",
                    /* 
				mouse-wheel scrolling axis 
				the default scrolling direction when both vertical and horizontal scrollbars are present 
				values (string): "y", "x" 
				*/
                    axis: "y",
                    /* 
				prevent the default behaviour which automatically scrolls the parent element(s) when end of scrolling is reached 
				values: boolean
					option						default
					-------------------------------------
					preventDefault				null
				*/
                    /*
				the reported mouse-wheel delta value. The number of lines (translated to pixels) one wheel notch scrolls.  
				values: "auto", integer 
				"auto" uses the default OS/browser value 
				*/
                    deltaFactor: "auto",
                    /*
				normalize mouse-wheel delta to -1 or 1 (disables mouse-wheel acceleration) 
				values: boolean
					option						default
					-------------------------------------
					normalizeDelta				null
				*/
                    /*
				invert mouse-wheel scrolling direction 
				values: boolean
					option						default
					-------------------------------------
					invert						null
				*/
                    /*
				the tags that disable mouse-wheel when cursor is over them
				*/
                    disableOver: ["select", "option", "keygen", "datalist", "textarea"]
                },
                /* 
			scrollbar buttons
			*/
                scrollButtons: {
                    /*
				enable scrollbar buttons
				values: boolean
					option						default
					-------------------------------------
					enable						null
				*/
                    /*
				scrollbar buttons scrolling type 
				values (string): "stepless", "stepped"
				*/
                    scrollType: "stepless",
                    /*
				scrolling amount in pixels
				values: "auto", integer 
				*/
                    scrollAmount: "auto"







                },
                /*
				tabindex of the scrollbar buttons
				values: false, integer
					option						default
					-------------------------------------
					tabindex					null
				*/
                /* 
			keyboard scrolling
			*/
                keyboard: {
                    /*
				enable scrolling via keyboard
				values: boolean
				*/
                    enable: true,
                    /*
				keyboard scrolling type 
				values (string): "stepless", "stepped"
				*/
                    scrollType: "stepless",
                    /*
				scrolling amount in pixels
				values: "auto", integer 
				*/
                    scrollAmount: "auto"
                },
                /*
			enable content touch-swipe scrolling 
			values: boolean, integer, string (number)
			integer values define the axis-specific minimum amount required for scrolling momentum
			*/
                contentTouchScroll: 25,
                /*
			enable/disable document (default) touch-swipe scrolling 
			*/
                documentTouchScroll: true,
                /*
			advanced option parameters
			*/
                advanced: {
                    /*
				auto-expand content horizontally (for "x" or "yx" axis) 
				values: boolean, integer (the value 2 forces the non scrollHeight/scrollWidth method, the value 3 forces the scrollHeight/scrollWidth method)
					option						default
					-------------------------------------
					autoExpandHorizontalScroll	null
				*/
                    /*
				auto-scroll to elements with focus
				*/
                    autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
                    /*
				auto-update scrollbars on content, element or viewport resize 
				should be true for fluid layouts/elements, adding/removing content dynamically, hiding/showing elements, content with images etc. 
				values: boolean
				*/
                    updateOnContentResize: true,
                    /*
				auto-update scrollbars each time each image inside the element is fully loaded 
				values: "auto", boolean
				*/
                    updateOnImageLoad: "auto",
                    /*
				auto-update scrollbars based on the amount and size changes of specific selectors 
				useful when you need to update the scrollbar(s) automatically, each time a type of element is added, removed or changes its size 
				values: boolean, string (e.g. "ul li" will auto-update scrollbars each time list-items inside the element are changed) 
				a value of true (boolean) will auto-update scrollbars each time any element is changed
					option						default
					-------------------------------------
					updateOnSelectorChange		null
				*/
                    /*
				extra selectors that'll allow scrollbar dragging upon mousemove/up, pointermove/up, touchend etc. (e.g. "selector-1, selector-2")
					option						default
					-------------------------------------
					extraDraggableSelectors		null
				*/
                    /*
				extra selectors that'll release scrollbar dragging upon mouseup, pointerup, touchend etc. (e.g. "selector-1, selector-2")
					option						default
					-------------------------------------
					releaseDraggableSelectors	null
				*/
                    /*
				auto-update timeout 
				values: integer (milliseconds)
				*/
                    autoUpdateTimeout: 60
                },
                /* 
			scrollbar theme 
			values: string (see CSS/plugin URI for a list of ready-to-use themes)
			*/
                theme: "light",
                /*
			user defined callback functions
			*/
                callbacks: {
                    /*
				Available callbacks: 
					callback					default
					-------------------------------------
					onCreate					null
					onInit						null
					onScrollStart				null
					onScroll					null
					onTotalScroll				null
					onTotalScrollBack			null
					whileScrolling				null
					onOverflowY					null
					onOverflowX					null
					onOverflowYNone				null
					onOverflowXNone				null
					onImageLoad					null
					onSelectorChange			null
					onBeforeUpdate				null
					onUpdate					null
				*/
                    onTotalScrollOffset: 0,
                    onTotalScrollBackOffset: 0,
                    alwaysTriggerOffsets: true
                }










            },
            /*
			add scrollbar(s) on all elements matching the current selector, now and in the future 
			values: boolean, string 
			string values: "on" (enable), "once" (disable after first invocation), "off" (disable)
			liveSelector values: string (selector)
				option						default
				-------------------------------------
				live						false
				liveSelector				null
			*/

            /* 
	----------------------------------------
	VARS, CONSTANTS 
	----------------------------------------
	*/

            totalInstances = 0,
            /* plugin instances amount */
            liveTimers = {},
            /* live option timers */
            oldIE = (window.attachEvent && !window.addEventListener) ? 1 : 0,
            /* detect IE < 9 */
            touchActive = false,
            touchable,
            /* global touch vars (for touch and pointer events) */
            /* general plugin classes */
            classes = [
            "mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag", "mCS_img_loaded", "mCS_disabled", "mCS_destroyed", "mCS_no_scrollbar",
            "mCS-autoHide", "mCS-dir-rtl", "mCS_no_scrollbar_y", "mCS_no_scrollbar_x", "mCS_y_hidden", "mCS_x_hidden", "mCSB_draggerContainer",
            "mCSB_buttonUp", "mCSB_buttonDown", "mCSB_buttonLeft", "mCSB_buttonRight"
            ],

            /* 
	----------------------------------------
	METHODS 
	----------------------------------------
	*/

            methods = {

                /* 
			plugin initialization method 
			creates the scrollbar(s), plugin data object and options
			----------------------------------------
			*/

                init: function(options) {

                    var options = $.extend(true, {}, defaults, options),
                        selector = _selector.call(this); /* validate selector */

                    /* 
				if live option is enabled, monitor for elements matching the current selector and 
				apply scrollbar(s) when found (now and in the future) 
				*/
                    if (options.live) {
                        var liveSelector = options.liveSelector || this.selector || defaultSelector,
                            /* live selector(s) */
                            $liveSelector = $(liveSelector); /* live selector(s) as jquery object */
                        if (options.live === "off") {
                            /* 
						disable live if requested 
						usage: $(selector).mCustomScrollbar({live:"off"}); 
						*/
                            removeLiveTimers(liveSelector);
                            return;
                        }
                        liveTimers[liveSelector] = setTimeout(function() {
                            /* call mCustomScrollbar fn on live selector(s) every half-second */
                            $liveSelector.mCustomScrollbar(options);
                            if (options.live === "once" && $liveSelector.length) {
                                /* disable live after first invocation */
                                removeLiveTimers(liveSelector);
                            }
                        }, 500);
                    } else {
                        removeLiveTimers(liveSelector);
                    }

                    /* options backward compatibility (for versions < 3.0.0) and normalization */
                    options.setWidth = (options.set_width) ? options.set_width : options.setWidth;
                    options.setHeight = (options.set_height) ? options.set_height : options.setHeight;
                    options.axis = (options.horizontalScroll) ? "x" : _findAxis(options.axis);
                    options.scrollInertia = options.scrollInertia > 0 && options.scrollInertia < 17 ? 17 : options.scrollInertia;
                    if (typeof options.mouseWheel !== "object" && options.mouseWheel == true) {
                        /* old school mouseWheel option (non-object) */
                        options.mouseWheel = {
                            enable: true,
                            scrollAmount: "auto",
                            axis: "y",
                            preventDefault: false,
                            deltaFactor: "auto",
                            normalizeDelta: false,
                            invert: false
                        }
                    }
                    options.mouseWheel.scrollAmount = !options.mouseWheelPixels ? options.mouseWheel.scrollAmount : options.mouseWheelPixels;
                    options.mouseWheel.normalizeDelta = !options.advanced.normalizeMouseWheelDelta ? options.mouseWheel.normalizeDelta : options.advanced.normalizeMouseWheelDelta;
                    options.scrollButtons.scrollType = _findScrollButtonsType(options.scrollButtons.scrollType);

                    _theme(options); /* theme-specific options */

                    /* plugin constructor */
                    return $(selector).each(function() {

                        var $this = $(this);

                        if (!$this.data(pluginPfx)) {
                            /* prevent multiple instantiations */

                            /* store options and create objects in jquery data */
                            $this.data(pluginPfx, {
                                idx: ++totalInstances,
                                /* instance index */
                                opt: options,
                                /* options */
                                scrollRatio: {
                                    y: null,
                                    x: null
                                },
                                /* scrollbar to content ratio */
                                overflowed: null,
                                /* overflowed axis */
                                contentReset: {
                                    y: null,
                                    x: null
                                },
                                /* object to check when content resets */
                                bindEvents: false,
                                /* object to check if events are bound */
                                tweenRunning: false,
                                /* object to check if tween is running */
                                sequential: {},
                                /* sequential scrolling object */
                                langDir: $this.css("direction"),
                                /* detect/store direction (ltr or rtl) */
                                cbOffsets: null,
                                /* object to check whether callback offsets always trigger */
                                /* 
							object to check how scrolling events where last triggered 
							"internal" (default - triggered by this script), "external" (triggered by other scripts, e.g. via scrollTo method) 
							usage: object.data("mCS").trigger
							*/
                                trigger: null,
                                /* 
							object to check for changes in elements in order to call the update method automatically 
							*/
                                poll: {
                                    size: {
                                        o: 0,
                                        n: 0
                                    },
                                    img: {
                                        o: 0,
                                        n: 0
                                    },
                                    change: {
                                        o: 0,
                                        n: 0
                                    }
                                }
                            });

                            var d = $this.data(pluginPfx),
                                o = d.opt,
                                /* HTML data attributes */
                                htmlDataAxis = $this.data("mcs-axis"),
                                htmlDataSbPos = $this.data("mcs-scrollbar-position"),
                                htmlDataTheme = $this.data("mcs-theme");

                            if (htmlDataAxis) {
                                o.axis = htmlDataAxis;
                            } /* usage example: data-mcs-axis="y" */
                            if (htmlDataSbPos) {
                                o.scrollbarPosition = htmlDataSbPos;
                            } /* usage example: data-mcs-scrollbar-position="outside" */
                            if (htmlDataTheme) {
                                /* usage example: data-mcs-theme="minimal" */
                                o.theme = htmlDataTheme;
                                _theme(o); /* theme-specific options */
                            }

                            _pluginMarkup.call(this); /* add plugin markup */

                            if (d && o.callbacks.onCreate && typeof o.callbacks.onCreate === "function") {
                                o.callbacks.onCreate.call(this);
                            } /* callbacks: onCreate */

                            $("#mCSB_" + d.idx + "_container img:not(." + classes[2] + ")").addClass(classes[2]); /* flag loaded images */

                            methods.update.call(null, $this); /* call the update method */

                        }

                    });

                },
                /* ---------------------------------------- */

                /* 
			plugin update method 
			updates content and scrollbar(s) values, events and status 
			----------------------------------------
			usage: $(selector).mCustomScrollbar("update");
			*/

                update: function(el, cb) {

                    var selector = el || _selector.call(this); /* validate selector */

                    return $(selector).each(function() {

                        var $this = $(this);

                        if ($this.data(pluginPfx)) {
                            /* check if plugin has initialized */

                            var d = $this.data(pluginPfx),
                                o = d.opt,
                                mCSB_container = $("#mCSB_" + d.idx + "_container"),
                                mCustomScrollBox = $("#mCSB_" + d.idx),
                                mCSB_dragger = [$("#mCSB_" + d.idx + "_dragger_vertical"), $("#mCSB_" + d.idx + "_dragger_horizontal")];

                            if (!mCSB_container.length) {
                                return;
                            }

                            if (d.tweenRunning) {
                                _stop($this);
                            } /* stop any running tweens while updating */

                            if (cb && d && o.callbacks.onBeforeUpdate && typeof o.callbacks.onBeforeUpdate === "function") {
                                o.callbacks.onBeforeUpdate.call(this);
                            } /* callbacks: onBeforeUpdate */

                            /* if element was disabled or destroyed, remove class(es) */
                            if ($this.hasClass(classes[3])) {
                                $this.removeClass(classes[3]);
                            }
                            if ($this.hasClass(classes[4])) {
                                $this.removeClass(classes[4]);
                            }

                            /* css flexbox fix, detect/set max-height */
                            mCustomScrollBox.css("max-height", "none");
                            if (mCustomScrollBox.height() !== $this.height()) {
                                mCustomScrollBox.css("max-height", $this.height());
                            }

                            _expandContentHorizontally.call(this); /* expand content horizontally */

                            if (o.axis !== "y" && !o.advanced.autoExpandHorizontalScroll) {
                                mCSB_container.css("width", _contentWidth(mCSB_container));
                            }

                            d.overflowed = _overflowed.call(this); /* determine if scrolling is required */

                            _scrollbarVisibility.call(this); /* show/hide scrollbar(s) */

                            /* auto-adjust scrollbar dragger length analogous to content */
                            if (o.autoDraggerLength) {
                                _setDraggerLength.call(this);
                            }

                            _scrollRatio.call(this); /* calculate and store scrollbar to content ratio */

                            _bindEvents.call(this); /* bind scrollbar events */

                            /* reset scrolling position and/or events */
                            var to = [Math.abs(mCSB_container[0].offsetTop), Math.abs(mCSB_container[0].offsetLeft)];
                            if (o.axis !== "x") {
                                /* y/yx axis */
                                if (!d.overflowed[0]) {
                                    /* y scrolling is not required */
                                    _resetContentPosition.call(this); /* reset content position */
                                    if (o.axis === "y") {
                                        _unbindEvents.call(this);
                                    } else if (o.axis === "yx" && d.overflowed[1]) {
                                        _scrollTo($this, to[1].toString(), {
                                            dir: "x",
                                            dur: 0,
                                            overwrite: "none"
                                        });
                                    }
                                } else if (mCSB_dragger[0].height() > mCSB_dragger[0].parent().height()) {
                                    _resetContentPosition.call(this); /* reset content position */
                                } else {
                                    /* y scrolling is required */
                                    _scrollTo($this, to[0].toString(), {
                                        dir: "y",
                                        dur: 0,
                                        overwrite: "none"
                                    });
                                    d.contentReset.y = null;
                                }
                            }
                            if (o.axis !== "y") {
                                /* x/yx axis */
                                if (!d.overflowed[1]) {
                                    /* x scrolling is not required */
                                    _resetContentPosition.call(this); /* reset content position */
                                    if (o.axis === "x") {
                                        _unbindEvents.call(this);
                                    } else if (o.axis === "yx" && d.overflowed[0]) {
                                        _scrollTo($this, to[0].toString(), {
                                            dir: "y",
                                            dur: 0,
                                            overwrite: "none"
                                        });
                                    }
                                } else if (mCSB_dragger[1].width() > mCSB_dragger[1].parent().width()) {
                                    _resetContentPosition.call(this); /* reset content position */
                                } else {
                                    /* x scrolling is required */
                                    _scrollTo($this, to[1].toString(), {
                                        dir: "x",
                                        dur: 0,
                                        overwrite: "none"
                                    });
                                    d.contentReset.x = null;
                                }
                            }

                            /* callbacks: onImageLoad, onSelectorChange, onUpdate */
                            if (cb && d) {
                                if (cb === 2 && o.callbacks.onImageLoad && typeof o.callbacks.onImageLoad === "function") {
                                    o.callbacks.onImageLoad.call(this);
                                } else if (cb === 3 && o.callbacks.onSelectorChange && typeof o.callbacks.onSelectorChange === "function") {
                                    o.callbacks.onSelectorChange.call(this);
                                } else if (o.callbacks.onUpdate && typeof o.callbacks.onUpdate === "function") {
                                    o.callbacks.onUpdate.call(this);
                                }
                            }

                            _autoUpdate.call(this); /* initialize automatic updating (for dynamic content, fluid layouts etc.) */

                        }

                    });

                },
                /* ---------------------------------------- */

                /* 
			plugin scrollTo method 
			triggers a scrolling event to a specific value
			----------------------------------------
			usage: $(selector).mCustomScrollbar("scrollTo",value,options);
			*/

                scrollTo: function(val, options) {

                    /* prevent silly things like $(selector).mCustomScrollbar("scrollTo",undefined); */
                    if (typeof val == "undefined" || val == null) {
                        return;
                    }

                    var selector = _selector.call(this); /* validate selector */

                    return $(selector).each(function() {

                        var $this = $(this);

                        if ($this.data(pluginPfx)) {
                            /* check if plugin has initialized */

                            var d = $this.data(pluginPfx),
                                o = d.opt,
                                /* method default options */
                                methodDefaults = {
                                    trigger: "external",
                                    /* method is by default triggered externally (e.g. from other scripts) */
                                    scrollInertia: o.scrollInertia,
                                    /* scrolling inertia (animation duration) */
                                    scrollEasing: "mcsEaseInOut",
                                    /* animation easing */
                                    moveDragger: false,
                                    /* move dragger instead of content */
                                    timeout: 60,
                                    /* scroll-to delay */
                                    callbacks: true,
                                    /* enable/disable callbacks */
                                    onStart: true,
                                    onUpdate: true,
                                    onComplete: true
                                },
                                methodOptions = $.extend(true, {}, methodDefaults, options),
                                to = _arr.call(this, val),
                                dur = methodOptions.scrollInertia > 0 && methodOptions.scrollInertia < 17 ? 17 : methodOptions.scrollInertia;

                            /* translate yx values to actual scroll-to positions */
                            to[0] = _to.call(this, to[0], "y");
                            to[1] = _to.call(this, to[1], "x");

                            /* 
						check if scroll-to value moves the dragger instead of content. 
						Only pixel values apply on dragger (e.g. 100, "100px", "-=100" etc.) 
						*/
                            if (methodOptions.moveDragger) {
                                to[0] *= d.scrollRatio.y;
                                to[1] *= d.scrollRatio.x;
                            }

                            methodOptions.dur = _isTabHidden() ? 0 : dur; //skip animations if browser tab is hidden

                            setTimeout(function() {
                                /* do the scrolling */
                                if (to[0] !== null && typeof to[0] !== "undefined" && o.axis !== "x" && d.overflowed[0]) {
                                    /* scroll y */
                                    methodOptions.dir = "y";
                                    methodOptions.overwrite = "all";
                                    _scrollTo($this, to[0].toString(), methodOptions);
                                }
                                if (to[1] !== null && typeof to[1] !== "undefined" && o.axis !== "y" && d.overflowed[1]) {
                                    /* scroll x */
                                    methodOptions.dir = "x";
                                    methodOptions.overwrite = "none";
                                    _scrollTo($this, to[1].toString(), methodOptions);
                                }
                            }, methodOptions.timeout);

                        }

                    });

                },
                /* ---------------------------------------- */

                /*
			plugin stop method 
			stops scrolling animation
			----------------------------------------
			usage: $(selector).mCustomScrollbar("stop");
			*/
                stop: function() {

                    var selector = _selector.call(this); /* validate selector */

                    return $(selector).each(function() {

                        var $this = $(this);

                        if ($this.data(pluginPfx)) {
                            /* check if plugin has initialized */

                            _stop($this);

                        }

                    });

                },
                /* ---------------------------------------- */

                /*
			plugin disable method 
			temporarily disables the scrollbar(s) 
			----------------------------------------
			usage: $(selector).mCustomScrollbar("disable",reset); 
			reset (boolean): resets content position to 0 
			*/
                disable: function(r) {

                    var selector = _selector.call(this); /* validate selector */

                    return $(selector).each(function() {

                        var $this = $(this);

                        if ($this.data(pluginPfx)) {
                            /* check if plugin has initialized */

                            var d = $this.data(pluginPfx);

                            _autoUpdate.call(this, "remove"); /* remove automatic updating */

                            _unbindEvents.call(this); /* unbind events */

                            if (r) {
                                _resetContentPosition.call(this);
                            } /* reset content position */

                            _scrollbarVisibility.call(this, true); /* show/hide scrollbar(s) */

                            $this.addClass(classes[3]); /* add disable class */

                        }

                    });

                },
                /* ---------------------------------------- */

                /*
			plugin destroy method 
			completely removes the scrollbar(s) and returns the element to its original state
			----------------------------------------
			usage: $(selector).mCustomScrollbar("destroy"); 
			*/
                destroy: function() {

                    var selector = _selector.call(this); /* validate selector */

                    return $(selector).each(function() {

                        var $this = $(this);

                        if ($this.data(pluginPfx)) {
                            /* check if plugin has initialized */

                            var d = $this.data(pluginPfx),
                                o = d.opt,
                                mCustomScrollBox = $("#mCSB_" + d.idx),
                                mCSB_container = $("#mCSB_" + d.idx + "_container"),
                                scrollbar = $(".mCSB_" + d.idx + "_scrollbar");

                            if (o.live) {
                                removeLiveTimers(o.liveSelector || $(selector).selector);
                            } /* remove live timers */

                            _autoUpdate.call(this, "remove"); /* remove automatic updating */

                            _unbindEvents.call(this); /* unbind events */

                            _resetContentPosition.call(this); /* reset content position */

                            $this.removeData(pluginPfx); /* remove plugin data object */

                            _delete(this, "mcs"); /* delete callbacks object */

                            /* remove plugin markup */
                            scrollbar.remove(); /* remove scrollbar(s) first (those can be either inside or outside plugin's inner wrapper) */
                            mCSB_container.find("img." + classes[2]).removeClass(classes[2]); /* remove loaded images flag */
                            mCustomScrollBox.replaceWith(mCSB_container.contents()); /* replace plugin's inner wrapper with the original content */
                            /* remove plugin classes from the element and add destroy class */
                            $this.removeClass(pluginNS + " _" + pluginPfx + "_" + d.idx + " " + classes[6] + " " + classes[7] + " " + classes[5] + " " + classes[3]).addClass(classes[4]);

                        }

                    });

                }


            },
            /* ---------------------------------------- */

            /* 
	----------------------------------------
	FUNCTIONS
	----------------------------------------
	*/

            /* validates selector (if selector is invalid or undefined uses the default one) */
            _selector = function() {
                return (typeof $(this) !== "object" || $(this).length < 1) ? defaultSelector : this;
            },
            /* -------------------- */

            /* changes options according to theme */
            _theme = function(obj) {
                var fixedSizeScrollbarThemes = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"],
                    nonExpandedScrollbarThemes = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"],
                    disabledScrollButtonsThemes = ["minimal", "minimal-dark"],
                    enabledAutoHideScrollbarThemes = ["minimal", "minimal-dark"],
                    scrollbarPositionOutsideThemes = ["minimal", "minimal-dark"];
                obj.autoDraggerLength = $.inArray(obj.theme, fixedSizeScrollbarThemes) > -1 ? false : obj.autoDraggerLength;
                obj.autoExpandScrollbar = $.inArray(obj.theme, nonExpandedScrollbarThemes) > -1 ? false : obj.autoExpandScrollbar;
                obj.scrollButtons.enable = $.inArray(obj.theme, disabledScrollButtonsThemes) > -1 ? false : obj.scrollButtons.enable;
                obj.autoHideScrollbar = $.inArray(obj.theme, enabledAutoHideScrollbarThemes) > -1 ? true : obj.autoHideScrollbar;
                obj.scrollbarPosition = $.inArray(obj.theme, scrollbarPositionOutsideThemes) > -1 ? "outside" : obj.scrollbarPosition;
            },
            /* -------------------- */

            /* live option timers removal */
            removeLiveTimers = function(selector) {
                if (liveTimers[selector]) {
                    clearTimeout(liveTimers[selector]);
                    _delete(liveTimers, selector);
                }
            },
            /* -------------------- */

            /* normalizes axis option to valid values: "y", "x", "yx" */
            _findAxis = function(val) {
                return (val === "yx" || val === "xy" || val === "auto") ? "yx" : (val === "x" || val === "horizontal") ? "x" : "y";
            },
            /* -------------------- */

            /* normalizes scrollButtons.scrollType option to valid values: "stepless", "stepped" */
            _findScrollButtonsType = function(val) {
                return (val === "stepped" || val === "pixels" || val === "step" || val === "click") ? "stepped" : "stepless";
            },
            /* -------------------- */

            /* generates plugin markup */
            _pluginMarkup = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    expandClass = o.autoExpandScrollbar ? " " + classes[1] + "_expand" : "",
                    scrollbar = ["<div id='mCSB_" + d.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + d.idx + "_scrollbar mCS-" + o.theme + " mCSB_scrollTools_vertical" + expandClass + "'><div class='" + classes[12] + "'><div id='mCSB_" + d.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + d.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + d.idx + "_scrollbar mCS-" + o.theme + " mCSB_scrollTools_horizontal" + expandClass + "'><div class='" + classes[12] + "'><div id='mCSB_" + d.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],
                    wrapperClass = o.axis === "yx" ? "mCSB_vertical_horizontal" : o.axis === "x" ? "mCSB_horizontal" : "mCSB_vertical",
                    scrollbars = o.axis === "yx" ? scrollbar[0] + scrollbar[1] : o.axis === "x" ? scrollbar[1] : scrollbar[0],
                    contentWrapper = o.axis === "yx" ? "<div id='mCSB_" + d.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : "",
                    autoHideClass = o.autoHideScrollbar ? " " + classes[6] : "",
                    scrollbarDirClass = (o.axis !== "x" && d.langDir === "rtl") ? " " + classes[7] : "";
                if (o.setWidth) {
                    $this.css("width", o.setWidth);
                } /* set element width */
                if (o.setHeight) {
                    $this.css("height", o.setHeight);
                } /* set element height */
                o.setLeft = (o.axis !== "y" && d.langDir === "rtl") ? "989999px" : o.setLeft; /* adjust left position for rtl direction */
                $this.addClass(pluginNS + " _" + pluginPfx + "_" + d.idx + autoHideClass + scrollbarDirClass).wrapInner("<div id='mCSB_" + d.idx + "' class='mCustomScrollBox mCS-" + o.theme + " " + wrapperClass + "'><div id='mCSB_" + d.idx + "_container' class='mCSB_container' style='position:relative; top:" + o.setTop + "; left:" + o.setLeft + ";' dir='" + d.langDir + "' /></div>");
                var mCustomScrollBox = $("#mCSB_" + d.idx),
                    mCSB_container = $("#mCSB_" + d.idx + "_container");
                if (o.axis !== "y" && !o.advanced.autoExpandHorizontalScroll) {
                    mCSB_container.css("width", _contentWidth(mCSB_container));
                }
                if (o.scrollbarPosition === "outside") {
                    if ($this.css("position") === "static") {
                        /* requires elements with non-static position */
                        $this.css("position", "relative");
                    }
                    $this.css("overflow", "visible");
                    mCustomScrollBox.addClass("mCSB_outside").after(scrollbars);
                } else {
                    mCustomScrollBox.addClass("mCSB_inside").append(scrollbars);
                    mCSB_container.wrap(contentWrapper);
                }
                _scrollButtons.call(this); /* add scrollbar buttons */
                /* minimum dragger length */
                var mCSB_dragger = [$("#mCSB_" + d.idx + "_dragger_vertical"), $("#mCSB_" + d.idx + "_dragger_horizontal")];
                mCSB_dragger[0].css("min-height", mCSB_dragger[0].height());
                mCSB_dragger[1].css("min-width", mCSB_dragger[1].width());
            },
            /* -------------------- */

            /* calculates content width */
            _contentWidth = function(el) {
                var val = [el[0].scrollWidth, Math.max.apply(Math, el.children().map(function() {
                        return $(this).outerWidth(true);
                    }).get())],
                    w = el.parent().width();
                return val[0] > w ? val[0] : val[1] > w ? val[1] : "100%";
            },
            /* -------------------- */

            /* expands content horizontally */
            _expandContentHorizontally = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    mCSB_container = $("#mCSB_" + d.idx + "_container");
                if (o.advanced.autoExpandHorizontalScroll && o.axis !== "y") {
                    /* calculate scrollWidth */
                    mCSB_container.css({
                        "width": "auto",
                        "min-width": 0,
                        "overflow-x": "scroll"
                    });
                    var w = Math.ceil(mCSB_container[0].scrollWidth);
                    if (o.advanced.autoExpandHorizontalScroll === 3 || (o.advanced.autoExpandHorizontalScroll !== 2 && w > mCSB_container.parent().width())) {
                        mCSB_container.css({
                            "width": w,
                            "min-width": "100%",
                            "overflow-x": "inherit"
                        });
                    } else {
                        /* 
					wrap content with an infinite width div and set its position to absolute and width to auto. 
					Setting width to auto before calculating the actual width is important! 
					We must let the browser set the width as browser zoom values are impossible to calculate.
					*/
                        mCSB_container.css({
                            "overflow-x": "inherit",
                            "position": "absolute"
                        })
                        .wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />")
                        .css({
                            /* set actual width, original position and un-wrap */
                            /* 
							get the exact width (with decimals) and then round-up. 
							Using jquery outerWidth() will round the width value which will mess up with inner elements that have non-integer width
							*/
                            "width": (Math.ceil(mCSB_container[0].getBoundingClientRect().right + 0.4) - Math.floor(mCSB_container[0].getBoundingClientRect().left)),
                            "min-width": "100%",
                            "position": "relative"
                        }).unwrap();
                    }
                }
            },
            /* -------------------- */

            /* adds scrollbar buttons */
            _scrollButtons = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    mCSB_scrollTools = $(".mCSB_" + d.idx + "_scrollbar:first"),
                    tabindex = !_isNumeric(o.scrollButtons.tabindex) ? "" : "tabindex='" + o.scrollButtons.tabindex + "'",
                    btnHTML = [
                    "<a href='#' class='" + classes[13] + "' " + tabindex + " />",
                    "<a href='#' class='" + classes[14] + "' " + tabindex + " />",
                    "<a href='#' class='" + classes[15] + "' " + tabindex + " />",
                    "<a href='#' class='" + classes[16] + "' " + tabindex + " />"
                    ],
                    btn = [(o.axis === "x" ? btnHTML[2] : btnHTML[0]), (o.axis === "x" ? btnHTML[3] : btnHTML[1]), btnHTML[2], btnHTML[3]];
                if (o.scrollButtons.enable) {
                    mCSB_scrollTools.prepend(btn[0]).append(btn[1]).next(".mCSB_scrollTools").prepend(btn[2]).append(btn[3]);
                }
            },
            /* -------------------- */

            /* auto-adjusts scrollbar dragger length */
            _setDraggerLength = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    mCustomScrollBox = $("#mCSB_" + d.idx),
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    mCSB_dragger = [$("#mCSB_" + d.idx + "_dragger_vertical"), $("#mCSB_" + d.idx + "_dragger_horizontal")],
                    ratio = [mCustomScrollBox.height() / mCSB_container.outerHeight(false), mCustomScrollBox.width() / mCSB_container.outerWidth(false)],
                    l = [
                    parseInt(mCSB_dragger[0].css("min-height")), Math.round(ratio[0] * mCSB_dragger[0].parent().height()),
                    parseInt(mCSB_dragger[1].css("min-width")), Math.round(ratio[1] * mCSB_dragger[1].parent().width())
                    ],
                    h = oldIE && (l[1] < l[0]) ? l[0] : l[1],
                    w = oldIE && (l[3] < l[2]) ? l[2] : l[3];
                mCSB_dragger[0].css({
                    "height": h,
                    "max-height": (mCSB_dragger[0].parent().height() - 10)
                }).find(".mCSB_dragger_bar").css({
                    "line-height": l[0] + "px"
                });
                mCSB_dragger[1].css({
                    "width": w,
                    "max-width": (mCSB_dragger[1].parent().width() - 10)
                });
            },
            /* -------------------- */

            /* calculates scrollbar to content ratio */
            _scrollRatio = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    mCustomScrollBox = $("#mCSB_" + d.idx),
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    mCSB_dragger = [$("#mCSB_" + d.idx + "_dragger_vertical"), $("#mCSB_" + d.idx + "_dragger_horizontal")],
                    scrollAmount = [mCSB_container.outerHeight(false) - mCustomScrollBox.height(), mCSB_container.outerWidth(false) - mCustomScrollBox.width()],
                    ratio = [
                    scrollAmount[0] / (mCSB_dragger[0].parent().height() - mCSB_dragger[0].height()),
                    scrollAmount[1] / (mCSB_dragger[1].parent().width() - mCSB_dragger[1].width())
                    ];
                d.scrollRatio = {
                    y: ratio[0],
                    x: ratio[1]
                };
            },
            /* -------------------- */

            /* toggles scrolling classes */
            _onDragClasses = function(el, action, xpnd) {
                var expandClass = xpnd ? classes[0] + "_expanded" : "",
                    scrollbar = el.closest(".mCSB_scrollTools");
                if (action === "active") {
                    el.toggleClass(classes[0] + " " + expandClass);
                    scrollbar.toggleClass(classes[1]);
                    el[0]._draggable = el[0]._draggable ? 0 : 1;
                } else {
                    if (!el[0]._draggable) {
                        if (action === "hide") {
                            el.removeClass(classes[0]);
                            scrollbar.removeClass(classes[1]);
                        } else {
                            el.addClass(classes[0]);
                            scrollbar.addClass(classes[1]);
                        }
                    }
                }
            },
            /* -------------------- */

            /* checks if content overflows its container to determine if scrolling is required */
            _overflowed = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    mCustomScrollBox = $("#mCSB_" + d.idx),
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    contentHeight = d.overflowed == null ? mCSB_container.height() : mCSB_container.outerHeight(false),
                    contentWidth = d.overflowed == null ? mCSB_container.width() : mCSB_container.outerWidth(false),
                    h = mCSB_container[0].scrollHeight,
                    w = mCSB_container[0].scrollWidth;
                if (h > contentHeight) {
                    contentHeight = h;
                }
                if (w > contentWidth) {
                    contentWidth = w;
                }
                return [contentHeight > mCustomScrollBox.height(), contentWidth > mCustomScrollBox.width()];
            },
            /* -------------------- */

            /* resets content position to 0 */
            _resetContentPosition = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    mCustomScrollBox = $("#mCSB_" + d.idx),
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    mCSB_dragger = [$("#mCSB_" + d.idx + "_dragger_vertical"), $("#mCSB_" + d.idx + "_dragger_horizontal")];
                _stop($this); /* stop any current scrolling before resetting */
                if ((o.axis !== "x" && !d.overflowed[0]) || (o.axis === "y" && d.overflowed[0])) {
                    /* reset y */
                    mCSB_dragger[0].add(mCSB_container).css("top", 0);
                    _scrollTo($this, "_resetY");
                }
                if ((o.axis !== "y" && !d.overflowed[1]) || (o.axis === "x" && d.overflowed[1])) {
                    /* reset x */
                    var cx = dx = 0;
                    if (d.langDir === "rtl") {
                        /* adjust left position for rtl direction */
                        cx = mCustomScrollBox.width() - mCSB_container.outerWidth(false);
                        dx = Math.abs(cx / d.scrollRatio.x);
                    }
                    mCSB_container.css("left", cx);
                    mCSB_dragger[1].css("left", dx);
                    _scrollTo($this, "_resetX");
                }
            },
            /* -------------------- */

            /* binds scrollbar events */
            _bindEvents = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt;
                if (!d.bindEvents) {
                    /* check if events are already bound */
                    _draggable.call(this);
                    if (o.contentTouchScroll) {
                        _contentDraggable.call(this);
                    }
                    _selectable.call(this);
                    if (o.mouseWheel.enable) {
                        /* bind mousewheel fn when plugin is available */
                        function _mwt() {
                            mousewheelTimeout = setTimeout(function() {
                                if (!$.event.special.mousewheel) {
                                    _mwt();
                                } else {
                                    clearTimeout(mousewheelTimeout);
                                    _mousewheel.call($this[0]);
                                }
                            }, 100);
                        }
                        var mousewheelTimeout;
                        _mwt();
                    }
                    _draggerRail.call(this);
                    _wrapperScroll.call(this);
                    if (o.advanced.autoScrollOnFocus) {
                        _focus.call(this);
                    }
                    if (o.scrollButtons.enable) {
                        _buttons.call(this);
                    }
                    if (o.keyboard.enable) {
                        _keyboard.call(this);
                    }
                    d.bindEvents = true;
                }
            },
            /* -------------------- */

            /* unbinds scrollbar events */
            _unbindEvents = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    namespace = pluginPfx + "_" + d.idx,
                    sb = ".mCSB_" + d.idx + "_scrollbar",
                    sel = $("#mCSB_" + d.idx + ",#mCSB_" + d.idx + "_container,#mCSB_" + d.idx + "_container_wrapper," + sb + " ." + classes[12] + ",#mCSB_" + d.idx + "_dragger_vertical,#mCSB_" + d.idx + "_dragger_horizontal," + sb + ">a"),
                    mCSB_container = $("#mCSB_" + d.idx + "_container");
                if (o.advanced.releaseDraggableSelectors) {
                    sel.add($(o.advanced.releaseDraggableSelectors));
                }
                if (o.advanced.extraDraggableSelectors) {
                    sel.add($(o.advanced.extraDraggableSelectors));
                }
                if (d.bindEvents) {
                    /* check if events are bound */
                    /* unbind namespaced events from document/selectors */
                    $(document).add($(!_canAccessIFrame() || top.document)).unbind("." + namespace);
                    sel.each(function() {
                        $(this).unbind("." + namespace);
                    });
                    /* clear and delete timeouts/objects */
                    clearTimeout($this[0]._focusTimeout);
                    _delete($this[0], "_focusTimeout");
                    clearTimeout(d.sequential.step);
                    _delete(d.sequential, "step");
                    clearTimeout(mCSB_container[0].onCompleteTimeout);
                    _delete(mCSB_container[0], "onCompleteTimeout");
                    d.bindEvents = false;
                }
            },
            /* -------------------- */

            /* toggles scrollbar visibility */
            _scrollbarVisibility = function(disabled) {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    contentWrapper = $("#mCSB_" + d.idx + "_container_wrapper"),
                    content = contentWrapper.length ? contentWrapper : $("#mCSB_" + d.idx + "_container"),
                    scrollbar = [$("#mCSB_" + d.idx + "_scrollbar_vertical"), $("#mCSB_" + d.idx + "_scrollbar_horizontal")],
                    mCSB_dragger = [scrollbar[0].find(".mCSB_dragger"), scrollbar[1].find(".mCSB_dragger")];
                if (o.axis !== "x") {
                    if (d.overflowed[0] && !disabled) {
                        scrollbar[0].add(mCSB_dragger[0]).add(scrollbar[0].children("a")).css("display", "block");
                        content.removeClass(classes[8] + " " + classes[10]);
                    } else {
                        if (o.alwaysShowScrollbar) {
                            if (o.alwaysShowScrollbar !== 2) {
                                mCSB_dragger[0].css("display", "none");
                            }
                            content.removeClass(classes[10]);
                        } else {
                            scrollbar[0].css("display", "none");
                            content.addClass(classes[10]);
                        }
                        content.addClass(classes[8]);
                    }
                }
                if (o.axis !== "y") {
                    if (d.overflowed[1] && !disabled) {
                        scrollbar[1].add(mCSB_dragger[1]).add(scrollbar[1].children("a")).css("display", "block");
                        content.removeClass(classes[9] + " " + classes[11]);
                    } else {
                        if (o.alwaysShowScrollbar) {
                            if (o.alwaysShowScrollbar !== 2) {
                                mCSB_dragger[1].css("display", "none");
                            }
                            content.removeClass(classes[11]);
                        } else {
                            scrollbar[1].css("display", "none");
                            content.addClass(classes[11]);
                        }
                        content.addClass(classes[9]);
                    }
                }
                if (!d.overflowed[0] && !d.overflowed[1]) {
                    $this.addClass(classes[5]);
                } else {
                    $this.removeClass(classes[5]);
                }
            },
            /* -------------------- */

            /* returns input coordinates of pointer, touch and mouse events (relative to document) */
            _coordinates = function(e) {
                var t = e.type,
                    o = e.target.ownerDocument !== document && frameElement !== null ? [$(frameElement).offset().top, $(frameElement).offset().left] : null,
                    io = _canAccessIFrame() && e.target.ownerDocument !== top.document && frameElement !== null ? [$(e.view.frameElement).offset().top, $(e.view.frameElement).offset().left] : [0, 0];
                switch (t) {
                case "pointerdown":
                case "MSPointerDown":
                case "pointermove":
                case "MSPointerMove":
                case "pointerup":
                case "MSPointerUp":
                    return o ? [e.originalEvent.pageY - o[0] + io[0], e.originalEvent.pageX - o[1] + io[1], false] : [e.originalEvent.pageY, e.originalEvent.pageX, false];
                    break;
                case "touchstart":
                case "touchmove":
                case "touchend":
                    var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0],
                        touches = e.originalEvent.touches.length || e.originalEvent.changedTouches.length;
                    return e.target.ownerDocument !== document ? [touch.screenY, touch.screenX, touches > 1] : [touch.pageY, touch.pageX, touches > 1];
                    break;
                default:
                    return o ? [e.pageY - o[0] + io[0], e.pageX - o[1] + io[1], false] : [e.pageY, e.pageX, false];
                }
            },
            /* -------------------- */

            /* 
		SCROLLBAR DRAG EVENTS
		scrolls content via scrollbar dragging 
		*/
            _draggable = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    namespace = pluginPfx + "_" + d.idx,
                    draggerId = ["mCSB_" + d.idx + "_dragger_vertical", "mCSB_" + d.idx + "_dragger_horizontal"],
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    mCSB_dragger = $("#" + draggerId[0] + ",#" + draggerId[1]),
                    draggable,
                    dragY,
                    dragX,
                    rds = o.advanced.releaseDraggableSelectors ? mCSB_dragger.add($(o.advanced.releaseDraggableSelectors)) : mCSB_dragger,
                    eds = o.advanced.extraDraggableSelectors ? $(!_canAccessIFrame() || top.document).add($(o.advanced.extraDraggableSelectors)) : $(!_canAccessIFrame() || top.document);
                mCSB_dragger.bind("contextmenu." + namespace, function(e) {
                    e.preventDefault(); //prevent right click
                }).bind("mousedown." + namespace + " touchstart." + namespace + " pointerdown." + namespace + " MSPointerDown." + namespace, function(e) {
                    e.stopImmediatePropagation();
                    e.preventDefault();
                    if (!_mouseBtnLeft(e)) {
                        return;
                    } /* left mouse button only */
                    touchActive = true;
                    if (oldIE) {
                        document.onselectstart = function() {
                            return false;
                        }
                    } /* disable text selection for IE < 9 */
                    _iframe.call(mCSB_container, false); /* enable scrollbar dragging over iframes by disabling their events */
                    _stop($this);
                    draggable = $(this);
                    var offset = draggable.offset(),
                        y = _coordinates(e)[0] - offset.top,
                        x = _coordinates(e)[1] - offset.left,
                        h = draggable.height() + offset.top,
                        w = draggable.width() + offset.left;
                    if (y < h && y > 0 && x < w && x > 0) {
                        dragY = y;
                        dragX = x;
                    }
                    _onDragClasses(draggable, "active", o.autoExpandScrollbar);
                }).bind("touchmove." + namespace, function(e) {
                    e.stopImmediatePropagation();
                    e.preventDefault();
                    var offset = draggable.offset(),
                        y = _coordinates(e)[0] - offset.top,
                        x = _coordinates(e)[1] - offset.left;
                    _drag(dragY, dragX, y, x);
                });
                $(document).add(eds).bind("mousemove." + namespace + " pointermove." + namespace + " MSPointerMove." + namespace, function(e) {
                    if (draggable) {
                        var offset = draggable.offset(),
                            y = _coordinates(e)[0] - offset.top,
                            x = _coordinates(e)[1] - offset.left;
                        if (dragY === y && dragX === x) {
                            return;
                        } /* has it really moved? */
                        _drag(dragY, dragX, y, x);
                    }
                }).add(rds).bind("mouseup." + namespace + " touchend." + namespace + " pointerup." + namespace + " MSPointerUp." + namespace, function(e) {
                    if (draggable) {
                        _onDragClasses(draggable, "active", o.autoExpandScrollbar);
                        draggable = null;
                    }
                    touchActive = false;
                    if (oldIE) {
                        document.onselectstart = null;
                    } /* enable text selection for IE < 9 */
                    _iframe.call(mCSB_container, true); /* enable iframes events */
                });
                function _drag(dragY, dragX, y, x) {
                    mCSB_container[0].idleTimer = o.scrollInertia < 233 ? 250 : 0;
                    if (draggable.attr("id") === draggerId[1]) {
                        var dir = "x",
                            to = ((draggable[0].offsetLeft - dragX) + x) * d.scrollRatio.x;
                    } else {
                        var dir = "y",
                            to = ((draggable[0].offsetTop - dragY) + y) * d.scrollRatio.y;
                    }
                    _scrollTo($this, to.toString(), {
                        dir: dir,
                        drag: true
                    });
                }
            },
            /* -------------------- */

            /* 
		TOUCH SWIPE EVENTS
		scrolls content via touch swipe 
		Emulates the native touch-swipe scrolling with momentum found in iOS, Android and WP devices 
		*/
            _contentDraggable = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    namespace = pluginPfx + "_" + d.idx,
                    mCustomScrollBox = $("#mCSB_" + d.idx),
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    mCSB_dragger = [$("#mCSB_" + d.idx + "_dragger_vertical"), $("#mCSB_" + d.idx + "_dragger_horizontal")],
                    draggable,
                    dragY,
                    dragX,
                    touchStartY,
                    touchStartX,
                    touchMoveY = [],
                    touchMoveX = [],
                    startTime,
                    runningTime,
                    endTime,
                    distance,
                    speed,
                    amount,
                    durA = 0,
                    durB,
                    overwrite = o.axis === "yx" ? "none" : "all",
                    touchIntent = [],
                    touchDrag,
                    docDrag,
                    iframe = mCSB_container.find("iframe"),
                    events = [
                    "touchstart." + namespace + " pointerdown." + namespace + " MSPointerDown." + namespace, //start
                    "touchmove." + namespace + " pointermove." + namespace + " MSPointerMove." + namespace, //move
                    "touchend." + namespace + " pointerup." + namespace + " MSPointerUp." + namespace //end
                    ],
                    touchAction = document.body.style.touchAction !== undefined && document.body.style.touchAction !== "";
                mCSB_container.bind(events[0], function(e) {
                    _onTouchstart(e);
                }).bind(events[1], function(e) {
                    _onTouchmove(e);
                });
                mCustomScrollBox.bind(events[0], function(e) {
                    _onTouchstart2(e);
                }).bind(events[2], function(e) {
                    _onTouchend(e);
                });
                if (iframe.length) {
                    iframe.each(function() {
                        $(this).bind("load", function() {
                            /* bind events on accessible iframes */
                            if (_canAccessIFrame(this)) {
                                $(this.contentDocument || this.contentWindow.document).bind(events[0], function(e) {
                                    _onTouchstart(e);
                                    _onTouchstart2(e);
                                }).bind(events[1], function(e) {
                                    _onTouchmove(e);
                                }).bind(events[2], function(e) {
                                    _onTouchend(e);
                                });
                            }
                        });
                    });
                }
                function _onTouchstart(e) {
                    if (!_pointerTouch(e) || touchActive || _coordinates(e)[2]) {
                        touchable = 0;
                        return;
                    }
                    touchable = 1;
                    touchDrag = 0;
                    docDrag = 0;
                    draggable = 1;
                    $this.removeClass("mCS_touch_action");
                    var offset = mCSB_container.offset();
                    dragY = _coordinates(e)[0] - offset.top;
                    dragX = _coordinates(e)[1] - offset.left;
                    touchIntent = [_coordinates(e)[0], _coordinates(e)[1]];
                }
                function _onTouchmove(e) {
                    if (!_pointerTouch(e) || touchActive || _coordinates(e)[2]) {
                        return;
                    }
                    if (!o.documentTouchScroll) {
                        e.preventDefault();
                    }
                    e.stopImmediatePropagation();
                    if (docDrag && !touchDrag) {
                        return;
                    }
                    if (draggable) {
                        runningTime = _getTime();
                        var offset = mCustomScrollBox.offset(),
                            y = _coordinates(e)[0] - offset.top,
                            x = _coordinates(e)[1] - offset.left,
                            easing = "mcsLinearOut";
                        touchMoveY.push(y);
                        touchMoveX.push(x);
                        touchIntent[2] = Math.abs(_coordinates(e)[0] - touchIntent[0]);
                        touchIntent[3] = Math.abs(_coordinates(e)[1] - touchIntent[1]);
                        if (d.overflowed[0]) {
                            var limit = mCSB_dragger[0].parent().height() - mCSB_dragger[0].height(),
                                prevent = ((dragY - y) > 0 && (y - dragY) > -(limit * d.scrollRatio.y) && (touchIntent[3] * 2 < touchIntent[2] || o.axis === "yx"));
                        }
                        if (d.overflowed[1]) {
                            var limitX = mCSB_dragger[1].parent().width() - mCSB_dragger[1].width(),
                                preventX = ((dragX - x) > 0 && (x - dragX) > -(limitX * d.scrollRatio.x) && (touchIntent[2] * 2 < touchIntent[3] || o.axis === "yx"));
                        }
                        if (prevent || preventX) {
                            /* prevent native document scrolling */
                            if (!touchAction) {
                                e.preventDefault();
                            }
                            touchDrag = 1;
                        } else {
                            docDrag = 1;
                            $this.addClass("mCS_touch_action");
                        }
                        if (touchAction) {
                            e.preventDefault();
                        }
                        amount = o.axis === "yx" ? [(dragY - y), (dragX - x)] : o.axis === "x" ? [null, (dragX - x)] : [(dragY - y), null];
                        mCSB_container[0].idleTimer = 250;
                        if (d.overflowed[0]) {
                            _drag(amount[0], durA, easing, "y", "all", true);
                        }
                        if (d.overflowed[1]) {
                            _drag(amount[1], durA, easing, "x", overwrite, true);
                        }
                    }
                }
                function _onTouchstart2(e) {
                    if (!_pointerTouch(e) || touchActive || _coordinates(e)[2]) {
                        touchable = 0;
                        return;
                    }
                    touchable = 1;
                    e.stopImmediatePropagation();
                    _stop($this);
                    startTime = _getTime();
                    var offset = mCustomScrollBox.offset();
                    touchStartY = _coordinates(e)[0] - offset.top;
                    touchStartX = _coordinates(e)[1] - offset.left;
                    touchMoveY = [];
                    touchMoveX = [];
                }
                function _onTouchend(e) {
                    if (!_pointerTouch(e) || touchActive || _coordinates(e)[2]) {
                        return;
                    }
                    draggable = 0;
                    e.stopImmediatePropagation();
                    touchDrag = 0;
                    docDrag = 0;
                    endTime = _getTime();
                    var offset = mCustomScrollBox.offset(),
                        y = _coordinates(e)[0] - offset.top,
                        x = _coordinates(e)[1] - offset.left;
                    if ((endTime - runningTime) > 30) {
                        return;
                    }
                    speed = 1000 / (endTime - startTime);
                    var easing = "mcsEaseOut",
                        slow = speed < 2.5,
                        diff = slow ? [touchMoveY[touchMoveY.length - 2], touchMoveX[touchMoveX.length - 2]] : [0, 0];
                    distance = slow ? [(y - diff[0]), (x - diff[1])] : [y - touchStartY, x - touchStartX];
                    var absDistance = [Math.abs(distance[0]), Math.abs(distance[1])];
                    speed = slow ? [Math.abs(distance[0] / 4), Math.abs(distance[1] / 4)] : [speed, speed];
                    var a = [
                    Math.abs(mCSB_container[0].offsetTop) - (distance[0] * _m((absDistance[0] / speed[0]), speed[0])),
                    Math.abs(mCSB_container[0].offsetLeft) - (distance[1] * _m((absDistance[1] / speed[1]), speed[1]))
                    ];
                    amount = o.axis === "yx" ? [a[0], a[1]] : o.axis === "x" ? [null, a[1]] : [a[0], null];
                    durB = [(absDistance[0] * 4) + o.scrollInertia, (absDistance[1] * 4) + o.scrollInertia];
                    var md = parseInt(o.contentTouchScroll) || 0; /* absolute minimum distance required */
                    amount[0] = absDistance[0] > md ? amount[0] : 0;
                    amount[1] = absDistance[1] > md ? amount[1] : 0;
                    if (d.overflowed[0]) {
                        _drag(amount[0], durB[0], easing, "y", overwrite, false);
                    }
                    if (d.overflowed[1]) {
                        _drag(amount[1], durB[1], easing, "x", overwrite, false);
                    }
                }
                function _m(ds, s) {
                    var r = [s * 1.5, s * 2, s / 1.5, s / 2];
                    if (ds > 90) {
                        return s > 4 ? r[0] : r[3];
                    } else if (ds > 60) {
                        return s > 3 ? r[3] : r[2];
                    } else if (ds > 30) {
                        return s > 8 ? r[1] : s > 6 ? r[0] : s > 4 ? s : r[2];
                    } else {
                        return s > 8 ? s : r[3];
                    }
                }
                function _drag(amount, dur, easing, dir, overwrite, drag) {
                    if (!amount) {
                        return;
                    }
                    _scrollTo($this, amount.toString(), {
                        dur: dur,
                        scrollEasing: easing,
                        dir: dir,
                        overwrite: overwrite,
                        drag: drag
                    });
                }
            },
            /* -------------------- */

            /* 
		SELECT TEXT EVENTS 
		scrolls content when text is selected 
		*/
            _selectable = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    seq = d.sequential,
                    namespace = pluginPfx + "_" + d.idx,
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    wrapper = mCSB_container.parent(),
                    action;
                mCSB_container.bind("mousedown." + namespace, function(e) {
                    if (touchable) {
                        return;
                    }
                    if (!action) {
                        action = 1;
                        touchActive = true;
                    }
                }).add(document).bind("mousemove." + namespace, function(e) {
                    if (!touchable && action && _sel()) {
                        var offset = mCSB_container.offset(),
                            y = _coordinates(e)[0] - offset.top + mCSB_container[0].offsetTop,
                            x = _coordinates(e)[1] - offset.left + mCSB_container[0].offsetLeft;
                        if (y > 0 && y < wrapper.height() && x > 0 && x < wrapper.width()) {
                            if (seq.step) {
                                _seq("off", null, "stepped");
                            }
                        } else {
                            if (o.axis !== "x" && d.overflowed[0]) {
                                if (y < 0) {
                                    _seq("on", 38);
                                } else if (y > wrapper.height()) {
                                    _seq("on", 40);
                                }
                            }
                            if (o.axis !== "y" && d.overflowed[1]) {
                                if (x < 0) {
                                    _seq("on", 37);
                                } else if (x > wrapper.width()) {
                                    _seq("on", 39);
                                }
                            }
                        }
                    }
                }).bind("mouseup." + namespace + " dragend." + namespace, function(e) {
                    if (touchable) {
                        return;
                    }
                    if (action) {
                        action = 0;
                        _seq("off", null);
                    }
                    touchActive = false;
                });
                function _sel() {
                    return window.getSelection ? window.getSelection().toString() :
                    document.selection && document.selection.type != "Control" ? document.selection.createRange().text : 0;
                }
                function _seq(a, c, s) {
                    seq.type = s && action ? "stepped" : "stepless";
                    seq.scrollAmount = 10;
                    _sequentialScroll($this, a, c, "mcsLinearOut", s ? 60 : null);
                }
            },
            /* -------------------- */

            /* 
		MOUSE WHEEL EVENT
		scrolls content via mouse-wheel 
		via mouse-wheel plugin (https://github.com/brandonaaron/jquery-mousewheel)
		*/
            _mousewheel = function() {
                if (!$(this).data(pluginPfx)) {
                    return;
                } /* Check if the scrollbar is ready to use mousewheel events (issue: #185) */
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    namespace = pluginPfx + "_" + d.idx,
                    mCustomScrollBox = $("#mCSB_" + d.idx),
                    mCSB_dragger = [$("#mCSB_" + d.idx + "_dragger_vertical"), $("#mCSB_" + d.idx + "_dragger_horizontal")],
                    iframe = $("#mCSB_" + d.idx + "_container").find("iframe");
                if (iframe.length) {
                    iframe.each(function() {
                        $(this).bind("load", function() {
                            /* bind events on accessible iframes */
                            if (_canAccessIFrame(this)) {
                                $(this.contentDocument || this.contentWindow.document).bind("mousewheel." + namespace, function(e, delta) {
                                    _onMousewheel(e, delta);
                                });
                            }
                        });
                    });
                }
                mCustomScrollBox.bind("mousewheel." + namespace, function(e, delta) {
                    _onMousewheel(e, delta);
                });
                function _onMousewheel(e, delta) {
                    _stop($this);
                    if (_disableMousewheel($this, e.target)) {
                        return;
                    } /* disables mouse-wheel when hovering specific elements */
                    var deltaFactor = o.mouseWheel.deltaFactor !== "auto" ? parseInt(o.mouseWheel.deltaFactor) : (oldIE && e.deltaFactor < 100) ? 100 : e.deltaFactor || 100,
                        dur = o.scrollInertia;
                    if (o.axis === "x" || o.mouseWheel.axis === "x") {
                        var dir = "x",
                            px = [Math.round(deltaFactor * d.scrollRatio.x), parseInt(o.mouseWheel.scrollAmount)],
                            amount = o.mouseWheel.scrollAmount !== "auto" ? px[1] : px[0] >= mCustomScrollBox.width() ? mCustomScrollBox.width() * 0.9 : px[0],
                            contentPos = Math.abs($("#mCSB_" + d.idx + "_container")[0].offsetLeft),
                            draggerPos = mCSB_dragger[1][0].offsetLeft,
                            limit = mCSB_dragger[1].parent().width() - mCSB_dragger[1].width(),
                            dlt = o.mouseWheel.axis === "y" ? (e.deltaY || delta) : e.deltaX;
                    } else {
                        var dir = "y",
                            px = [Math.round(deltaFactor * d.scrollRatio.y), parseInt(o.mouseWheel.scrollAmount)],
                            amount = o.mouseWheel.scrollAmount !== "auto" ? px[1] : px[0] >= mCustomScrollBox.height() ? mCustomScrollBox.height() * 0.9 : px[0],
                            contentPos = Math.abs($("#mCSB_" + d.idx + "_container")[0].offsetTop),
                            draggerPos = mCSB_dragger[0][0].offsetTop,
                            limit = mCSB_dragger[0].parent().height() - mCSB_dragger[0].height(),
                            dlt = e.deltaY || delta;
                    }
                    if ((dir === "y" && !d.overflowed[0]) || (dir === "x" && !d.overflowed[1])) {
                        return;
                    }
                    if (o.mouseWheel.invert || e.webkitDirectionInvertedFromDevice) {
                        dlt = -dlt;
                    }
                    if (o.mouseWheel.normalizeDelta) {
                        dlt = dlt < 0 ? -1 : 1;
                    }
                    if ((dlt > 0 && draggerPos !== 0) || (dlt < 0 && draggerPos !== limit) || o.mouseWheel.preventDefault) {
                        e.stopImmediatePropagation();
                        e.preventDefault();
                    }
                    if (e.deltaFactor < 5 && !o.mouseWheel.normalizeDelta) {
                        //very low deltaFactor values mean some kind of delta acceleration (e.g. osx trackpad), so adjusting scrolling accordingly
                        amount = e.deltaFactor;
                        dur = 17;
                    }
                    _scrollTo($this, (contentPos - (dlt * amount)).toString(), {
                        dir: dir,
                        dur: dur
                    });
                }
            },
            /* -------------------- */

            /* checks if iframe can be accessed */
            _canAccessIFrameCache = new Object(),
            _canAccessIFrame = function(iframe) {
                var result = false,
                    cacheKey = false,
                    html = null;
                if (iframe === undefined) {
                    cacheKey = "#empty";
                } else if ($(iframe).attr("id") !== undefined) {
                    cacheKey = $(iframe).attr("id");
                }
                if (cacheKey !== false && _canAccessIFrameCache[cacheKey] !== undefined) {
                    return _canAccessIFrameCache[cacheKey];
                }
                if (!iframe) {
                    try {
                        var doc = top.document;
                        html = doc.body.innerHTML;
                    } catch (err) {}
                    result = (html !== null);
                } else {
                    try {
                        var doc = iframe.contentDocument || iframe.contentWindow.document;
                        html = doc.body.innerHTML;
                    } catch (err) {}
                    result = (html !== null);
                }
                if (cacheKey !== false) {
                    _canAccessIFrameCache[cacheKey] = result;
                }
                return result;
            },
            /* -------------------- */

            /* switches iframe's pointer-events property (drag, mousewheel etc. over cross-domain iframes) */
            _iframe = function(evt) {
                var el = this.find("iframe");
                if (!el.length) {
                    return;
                } /* check if content contains iframes */
                var val = !evt ? "none" : "auto";
                el.css("pointer-events", val); /* for IE11, iframe's display property should not be "block" */
            },
            /* -------------------- */

            /* disables mouse-wheel when hovering specific elements like select, datalist etc. */
            _disableMousewheel = function(el, target) {
                var tag = target.nodeName.toLowerCase(),
                    tags = el.data(pluginPfx).opt.mouseWheel.disableOver,
                    /* elements that require focus */
                    focusTags = ["select", "textarea"];
                return $.inArray(tag, tags) > -1 && !($.inArray(tag, focusTags) > -1 && !$(target).is(":focus"));
            },
            /* -------------------- */

            /* 
		DRAGGER RAIL CLICK EVENT
		scrolls content via dragger rail 
		*/
            _draggerRail = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    namespace = pluginPfx + "_" + d.idx,
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    wrapper = mCSB_container.parent(),
                    mCSB_draggerContainer = $(".mCSB_" + d.idx + "_scrollbar ." + classes[12]),
                    clickable;
                mCSB_draggerContainer.bind("mousedown." + namespace + " touchstart." + namespace + " pointerdown." + namespace + " MSPointerDown." + namespace, function(e) {
                    touchActive = true;
                    if (!$(e.target).hasClass("mCSB_dragger")) {
                        clickable = 1;
                    }
                }).bind("touchend." + namespace + " pointerup." + namespace + " MSPointerUp." + namespace, function(e) {
                    touchActive = false;
                }).bind("click." + namespace, function(e) {
                    if (!clickable) {
                        return;
                    }
                    clickable = 0;
                    if ($(e.target).hasClass(classes[12]) || $(e.target).hasClass("mCSB_draggerRail")) {
                        _stop($this);
                        var el = $(this),
                            mCSB_dragger = el.find(".mCSB_dragger");
                        if (el.parent(".mCSB_scrollTools_horizontal").length > 0) {
                            if (!d.overflowed[1]) {
                                return;
                            }
                            var dir = "x",
                                clickDir = e.pageX > mCSB_dragger.offset().left ? -1 : 1,
                                to = Math.abs(mCSB_container[0].offsetLeft) - (clickDir * (wrapper.width() * 0.9));
                        } else {
                            if (!d.overflowed[0]) {
                                return;
                            }
                            var dir = "y",
                                clickDir = e.pageY > mCSB_dragger.offset().top ? -1 : 1,
                                to = Math.abs(mCSB_container[0].offsetTop) - (clickDir * (wrapper.height() * 0.9));
                        }
                        _scrollTo($this, to.toString(), {
                            dir: dir,
                            scrollEasing: "mcsEaseInOut"
                        });
                    }
                });
            },
            /* -------------------- */

            /* 
		FOCUS EVENT
		scrolls content via element focus (e.g. clicking an input, pressing TAB key etc.)
		*/
            _focus = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    namespace = pluginPfx + "_" + d.idx,
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    wrapper = mCSB_container.parent();
                mCSB_container.bind("focusin." + namespace, function(e) {
                    var el = $(document.activeElement),
                        nested = mCSB_container.find(".mCustomScrollBox").length,
                        dur = 0;
                    if (!el.is(o.advanced.autoScrollOnFocus)) {
                        return;
                    }
                    _stop($this);
                    clearTimeout($this[0]._focusTimeout);
                    $this[0]._focusTimer = nested ? (dur + 17) * nested : 0;
                    $this[0]._focusTimeout = setTimeout(function() {
                        var to = [_childPos(el)[0], _childPos(el)[1]],
                            contentPos = [mCSB_container[0].offsetTop, mCSB_container[0].offsetLeft],
                            isVisible = [
                            (contentPos[0] + to[0] >= 0 && contentPos[0] + to[0] < wrapper.height() - el.outerHeight(false)),
                            (contentPos[1] + to[1] >= 0 && contentPos[0] + to[1] < wrapper.width() - el.outerWidth(false))
                            ],
                            overwrite = (o.axis === "yx" && !isVisible[0] && !isVisible[1]) ? "none" : "all";
                        if (o.axis !== "x" && !isVisible[0]) {
                            _scrollTo($this, to[0].toString(), {
                                dir: "y",
                                scrollEasing: "mcsEaseInOut",
                                overwrite: overwrite,
                                dur: dur
                            });
                        }
                        if (o.axis !== "y" && !isVisible[1]) {
                            _scrollTo($this, to[1].toString(), {
                                dir: "x",
                                scrollEasing: "mcsEaseInOut",
                                overwrite: overwrite,
                                dur: dur
                            });
                        }
                    }, $this[0]._focusTimer);
                });
            },
            /* -------------------- */

            /* sets content wrapper scrollTop/scrollLeft always to 0 */
            _wrapperScroll = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    namespace = pluginPfx + "_" + d.idx,
                    wrapper = $("#mCSB_" + d.idx + "_container").parent();
                wrapper.bind("scroll." + namespace, function(e) {
                    if (wrapper.scrollTop() !== 0 || wrapper.scrollLeft() !== 0) {
                        $(".mCSB_" + d.idx + "_scrollbar").css("visibility", "hidden"); /* hide scrollbar(s) */
                    }
                });
            },
            /* -------------------- */

            /* 
		BUTTONS EVENTS
		scrolls content via up, down, left and right buttons 
		*/
            _buttons = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    seq = d.sequential,
                    namespace = pluginPfx + "_" + d.idx,
                    sel = ".mCSB_" + d.idx + "_scrollbar",
                    btn = $(sel + ">a");
                btn.bind("contextmenu." + namespace, function(e) {
                    e.preventDefault(); //prevent right click
                }).bind("mousedown." + namespace + " touchstart." + namespace + " pointerdown." + namespace + " MSPointerDown." + namespace + " mouseup." + namespace + " touchend." + namespace + " pointerup." + namespace + " MSPointerUp." + namespace + " mouseout." + namespace + " pointerout." + namespace + " MSPointerOut." + namespace + " click." + namespace, function(e) {
                    e.preventDefault();
                    if (!_mouseBtnLeft(e)) {
                        return;
                    } /* left mouse button only */
                    var btnClass = $(this).attr("class");
                    seq.type = o.scrollButtons.scrollType;
                    switch (e.type) {
                    case "mousedown":
                    case "touchstart":
                    case "pointerdown":
                    case "MSPointerDown":
                        if (seq.type === "stepped") {
                            return;
                        }
                        touchActive = true;
                        d.tweenRunning = false;
                        _seq("on", btnClass);
                        break;
                    case "mouseup":
                    case "touchend":
                    case "pointerup":
                    case "MSPointerUp":
                    case "mouseout":
                    case "pointerout":
                    case "MSPointerOut":
                        if (seq.type === "stepped") {
                            return;
                        }
                        touchActive = false;
                        if (seq.dir) {
                            _seq("off", btnClass);
                        }
                        break;
                    case "click":
                        if (seq.type !== "stepped" || d.tweenRunning) {
                            return;
                        }
                        _seq("on", btnClass);
                        break;
                    }
                    function _seq(a, c) {
                        seq.scrollAmount = o.scrollButtons.scrollAmount;
                        _sequentialScroll($this, a, c);
                    }
                });
            },
            /* -------------------- */

            /* 
		KEYBOARD EVENTS
		scrolls content via keyboard 
		Keys: up arrow, down arrow, left arrow, right arrow, PgUp, PgDn, Home, End
		*/
            _keyboard = function() {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    seq = d.sequential,
                    namespace = pluginPfx + "_" + d.idx,
                    mCustomScrollBox = $("#mCSB_" + d.idx),
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    wrapper = mCSB_container.parent(),
                    editables = "input,textarea,select,datalist,keygen,[contenteditable='true']",
                    iframe = mCSB_container.find("iframe"),
                    events = ["blur." + namespace + " keydown." + namespace + " keyup." + namespace];
                if (iframe.length) {
                    iframe.each(function() {
                        $(this).bind("load", function() {
                            /* bind events on accessible iframes */
                            if (_canAccessIFrame(this)) {
                                $(this.contentDocument || this.contentWindow.document).bind(events[0], function(e) {
                                    _onKeyboard(e);
                                });
                            }
                        });
                    });
                }
                mCustomScrollBox.attr("tabindex", "0").bind(events[0], function(e) {
                    _onKeyboard(e);
                });
                function _onKeyboard(e) {
                    switch (e.type) {
                    case "blur":
                        if (d.tweenRunning && seq.dir) {
                            _seq("off", null);
                        }
                        break;
                    case "keydown":
                    case "keyup":
                        var code = e.keyCode ? e.keyCode : e.which,
                            action = "on";
                        if ((o.axis !== "x" && (code === 38 || code === 40)) || (o.axis !== "y" && (code === 37 || code === 39))) {
                            /* up (38), down (40), left (37), right (39) arrows */
                            if (((code === 38 || code === 40) && !d.overflowed[0]) || ((code === 37 || code === 39) && !d.overflowed[1])) {
                                return;
                            }
                            if (e.type === "keyup") {
                                action = "off";
                            }
                            if (!$(document.activeElement).is(editables)) {
                                e.preventDefault();
                                e.stopImmediatePropagation();
                                _seq(action, code);
                            }
                        } else if (code === 33 || code === 34) {
                            /* PgUp (33), PgDn (34) */
                            if (d.overflowed[0] || d.overflowed[1]) {
                                e.preventDefault();
                                e.stopImmediatePropagation();
                            }
                            if (e.type === "keyup") {
                                _stop($this);
                                var keyboardDir = code === 34 ? -1 : 1;
                                if (o.axis === "x" || (o.axis === "yx" && d.overflowed[1] && !d.overflowed[0])) {
                                    var dir = "x",
                                        to = Math.abs(mCSB_container[0].offsetLeft) - (keyboardDir * (wrapper.width() * 0.9));
                                } else {
                                    var dir = "y",
                                        to = Math.abs(mCSB_container[0].offsetTop) - (keyboardDir * (wrapper.height() * 0.9));
                                }
                                _scrollTo($this, to.toString(), {
                                    dir: dir,
                                    scrollEasing: "mcsEaseInOut"
                                });
                            }
                        } else if (code === 35 || code === 36) {
                            /* End (35), Home (36) */
                            if (!$(document.activeElement).is(editables)) {
                                if (d.overflowed[0] || d.overflowed[1]) {
                                    e.preventDefault();
                                    e.stopImmediatePropagation();
                                }
                                if (e.type === "keyup") {
                                    if (o.axis === "x" || (o.axis === "yx" && d.overflowed[1] && !d.overflowed[0])) {
                                        var dir = "x",
                                            to = code === 35 ? Math.abs(wrapper.width() - mCSB_container.outerWidth(false)) : 0;
                                    } else {
                                        var dir = "y",
                                            to = code === 35 ? Math.abs(wrapper.height() - mCSB_container.outerHeight(false)) : 0;
                                    }
                                    _scrollTo($this, to.toString(), {
                                        dir: dir,
                                        scrollEasing: "mcsEaseInOut"
                                    });
                                }
                            }
                        }
                        break;
                    }
                    function _seq(a, c) {
                        seq.type = o.keyboard.scrollType;
                        seq.scrollAmount = o.keyboard.scrollAmount;
                        if (seq.type === "stepped" && d.tweenRunning) {
                            return;
                        }
                        _sequentialScroll($this, a, c);
                    }
                }
            },
            /* -------------------- */

            /* scrolls content sequentially (used when scrolling via buttons, keyboard arrows etc.) */
            _sequentialScroll = function(el, action, trigger, e, s) {
                var d = el.data(pluginPfx),
                    o = d.opt,
                    seq = d.sequential,
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    once = seq.type === "stepped" ? true : false,
                    steplessSpeed = o.scrollInertia < 26 ? 26 : o.scrollInertia,
                    /* 26/1.5=17 */
                    steppedSpeed = o.scrollInertia < 1 ? 17 : o.scrollInertia;
                switch (action) {
                case "on":
                    seq.dir = [
                    (trigger === classes[16] || trigger === classes[15] || trigger === 39 || trigger === 37 ? "x" : "y"),
                    (trigger === classes[13] || trigger === classes[15] || trigger === 38 || trigger === 37 ? -1 : 1)
                    ];
                    _stop(el);
                    if (_isNumeric(trigger) && seq.type === "stepped") {
                        return;
                    }
                    _on(once);
                    break;
                case "off":
                    _off();
                    if (once || (d.tweenRunning && seq.dir)) {
                        _on(true);
                    }
                    break;
                }

                /* starts sequence */
                function _on(once) {
                    if (o.snapAmount) {
                        seq.scrollAmount = !(o.snapAmount instanceof Array) ? o.snapAmount : seq.dir[0] === "x" ? o.snapAmount[1] : o.snapAmount[0];
                    } /* scrolling snapping */
                    var c = seq.type !== "stepped",
                        /* continuous scrolling */
                        t = s ? s : !once ? 1000 / 60 : c ? steplessSpeed / 1.5 : steppedSpeed,
                        /* timer */
                        m = !once ? 2.5 : c ? 7.5 : 40,
                        /* multiplier */
                        contentPos = [Math.abs(mCSB_container[0].offsetTop), Math.abs(mCSB_container[0].offsetLeft)],
                        ratio = [d.scrollRatio.y > 10 ? 10 : d.scrollRatio.y, d.scrollRatio.x > 10 ? 10 : d.scrollRatio.x],
                        amount = seq.dir[0] === "x" ? contentPos[1] + (seq.dir[1] * (ratio[1] * m)) : contentPos[0] + (seq.dir[1] * (ratio[0] * m)),
                        px = seq.dir[0] === "x" ? contentPos[1] + (seq.dir[1] * parseInt(seq.scrollAmount)) : contentPos[0] + (seq.dir[1] * parseInt(seq.scrollAmount)),
                        to = seq.scrollAmount !== "auto" ? px : amount,
                        easing = e ? e : !once ? "mcsLinear" : c ? "mcsLinearOut" : "mcsEaseInOut",
                        onComplete = !once ? false : true;
                    if (once && t < 17) {
                        to = seq.dir[0] === "x" ? contentPos[1] : contentPos[0];
                    }
                    _scrollTo(el, to.toString(), {
                        dir: seq.dir[0],
                        scrollEasing: easing,
                        dur: t,
                        onComplete: onComplete
                    });
                    if (once) {
                        seq.dir = false;
                        return;
                    }
                    clearTimeout(seq.step);
                    seq.step = setTimeout(function() {
                        _on();
                    }, t);
                }
                /* stops sequence */
                function _off() {
                    clearTimeout(seq.step);
                    _delete(seq, "step");
                    _stop(el);
                }
            },
            /* -------------------- */

            /* returns a yx array from value */
            _arr = function(val) {
                var o = $(this).data(pluginPfx).opt,
                    vals = [];
                if (typeof val === "function") {
                    val = val();
                } /* check if the value is a single anonymous function */
                /* check if value is object or array, its length and create an array with yx values */
                if (!(val instanceof Array)) {
                    /* object value (e.g. {y:"100",x:"100"}, 100 etc.) */
                    vals[0] = val.y ? val.y : val.x || o.axis === "x" ? null : val;
                    vals[1] = val.x ? val.x : val.y || o.axis === "y" ? null : val;
                } else {
                    /* array value (e.g. [100,100]) */
                    vals = val.length > 1 ? [val[0], val[1]] : o.axis === "x" ? [null, val[0]] : [val[0], null];
                }
                /* check if array values are anonymous functions */
                if (typeof vals[0] === "function") {
                    vals[0] = vals[0]();
                }
                if (typeof vals[1] === "function") {
                    vals[1] = vals[1]();
                }
                return vals;
            },
            /* -------------------- */

            /* translates values (e.g. "top", 100, "100px", "#id") to actual scroll-to positions */
            _to = function(val, dir) {
                if (val == null || typeof val == "undefined") {
                    return;
                }
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    wrapper = mCSB_container.parent(),
                    t = typeof val;
                if (!dir) {
                    dir = o.axis === "x" ? "x" : "y";
                }
                var contentLength = dir === "x" ? mCSB_container.outerWidth(false) - wrapper.width() : mCSB_container.outerHeight(false) - wrapper.height(),
                    contentPos = dir === "x" ? mCSB_container[0].offsetLeft : mCSB_container[0].offsetTop,
                    cssProp = dir === "x" ? "left" : "top";
                switch (t) {
                case "function":
                    /* this currently is not used. Consider removing it */
                    return val();
                    break;
                case "object":
                    /* js/jquery object */
                    var obj = val.jquery ? val : $(val);
                    if (!obj.length) {
                        return;
                    }
                    return dir === "x" ? _childPos(obj)[1] : _childPos(obj)[0];
                    break;
                case "string":
                case "number":
                    if (_isNumeric(val)) {
                        /* numeric value */
                        return Math.abs(val);
                    } else if (val.indexOf("%") !== -1) {
                        /* percentage value */
                        return Math.abs(contentLength * parseInt(val) / 100);
                    } else if (val.indexOf("-=") !== -1) {
                        /* decrease value */
                        return Math.abs(contentPos - parseInt(val.split("-=")[1]));
                    } else if (val.indexOf("+=") !== -1) {
                        /* inrease value */
                        var p = (contentPos + parseInt(val.split("+=")[1]));
                        return p >= 0 ? 0 : Math.abs(p);
                    } else if (val.indexOf("px") !== -1 && _isNumeric(val.split("px")[0])) {
                        /* pixels string value (e.g. "100px") */
                        return Math.abs(val.split("px")[0]);
                    } else {
                        if (val === "top" || val === "left") {
                            /* special strings */
                            return 0;
                        } else if (val === "bottom") {
                            return Math.abs(wrapper.height() - mCSB_container.outerHeight(false));
                        } else if (val === "right") {
                            return Math.abs(wrapper.width() - mCSB_container.outerWidth(false));
                        } else if (val === "first" || val === "last") {
                            var obj = mCSB_container.find(":" + val);
                            return dir === "x" ? _childPos(obj)[1] : _childPos(obj)[0];
                        } else {
                            if ($(val).length) {
                                /* jquery selector */
                                return dir === "x" ? _childPos($(val))[1] : _childPos($(val))[0];
                            } else {
                                /* other values (e.g. "100em") */
                                mCSB_container.css(cssProp, val);
                                methods.update.call(null, $this[0]);
                                return;
                            }
                        }
                    }
                    break;
                }
            },
            /* -------------------- */

            /* calls the update method automatically */
            _autoUpdate = function(rem) {
                var $this = $(this),
                    d = $this.data(pluginPfx),
                    o = d.opt,
                    mCSB_container = $("#mCSB_" + d.idx + "_container");
                if (rem) {
                    /* 
				removes autoUpdate timer 
				usage: _autoUpdate.call(this,"remove");
				*/
                    clearTimeout(mCSB_container[0].autoUpdate);
                    _delete(mCSB_container[0], "autoUpdate");
                    return;
                }
                upd();
                function upd() {
                    clearTimeout(mCSB_container[0].autoUpdate);
                    if ($this.parents("html").length === 0) {
                        /* check element in dom tree */
                        $this = null;
                        return;
                    }
                    mCSB_container[0].autoUpdate = setTimeout(function() {
                        /* update on specific selector(s) length and size change */
                        if (o.advanced.updateOnSelectorChange) {
                            d.poll.change.n = sizesSum();
                            if (d.poll.change.n !== d.poll.change.o) {
                                d.poll.change.o = d.poll.change.n;
                                doUpd(3);
                                return;
                            }
                        }
                        /* update on main element and scrollbar size changes */
                        if (o.advanced.updateOnContentResize) {
                            d.poll.size.n = $this[0].scrollHeight + $this[0].scrollWidth + mCSB_container[0].offsetHeight + $this[0].offsetHeight + $this[0].offsetWidth;
                            if (d.poll.size.n !== d.poll.size.o) {
                                d.poll.size.o = d.poll.size.n;
                                doUpd(1);
                                return;
                            }
                        }
                        /* update on image load */
                        if (o.advanced.updateOnImageLoad) {
                            if (!(o.advanced.updateOnImageLoad === "auto" && o.axis === "y")) {
                                //by default, it doesn't run on vertical content
                                d.poll.img.n = mCSB_container.find("img").length;
                                if (d.poll.img.n !== d.poll.img.o) {
                                    d.poll.img.o = d.poll.img.n;
                                    mCSB_container.find("img").each(function() {
                                        imgLoader(this);
                                    });
                                    return;
                                }
                            }
                        }
                        if (o.advanced.updateOnSelectorChange || o.advanced.updateOnContentResize || o.advanced.updateOnImageLoad) {
                            upd();
                        }
                    }, o.advanced.autoUpdateTimeout);
                }
                /* a tiny image loader */
                function imgLoader(el) {
                    if ($(el).hasClass(classes[2])) {
                        doUpd();
                        return;
                    }
                    var img = new Image();
                    function createDelegate(contextObject, delegateMethod) {
                        return function() {
                            return delegateMethod.apply(contextObject, arguments);
                        }
                    }
                    function imgOnLoad() {
                        this.onload = null;
                        $(el).addClass(classes[2]);
                        doUpd(2);
                    }
                    img.onload = createDelegate(img, imgOnLoad);
                    img.src = el.src;
                }
                /* returns the total height and width sum of all elements matching the selector */
                function sizesSum() {
                    if (o.advanced.updateOnSelectorChange === true) {
                        o.advanced.updateOnSelectorChange = "*";
                    }
                    var total = 0,
                        sel = mCSB_container.find(o.advanced.updateOnSelectorChange);
                    if (o.advanced.updateOnSelectorChange && sel.length > 0) {
                        sel.each(function() {
                            total += this.offsetHeight + this.offsetWidth;
                        });
                    }
                    return total;
                }
                /* calls the update method */
                function doUpd(cb) {
                    clearTimeout(mCSB_container[0].autoUpdate);
                    methods.update.call(null, $this[0], cb);
                }
            },
            /* -------------------- */

            /* snaps scrolling to a multiple of a pixels number */
            _snapAmount = function(to, amount, offset) {
                return ( Math.round(to / amount) * amount - offset) ;
            },
            /* -------------------- */

            /* stops content and scrollbar animations */
            _stop = function(el) {
                var d = el.data(pluginPfx),
                    sel = $("#mCSB_" + d.idx + "_container,#mCSB_" + d.idx + "_container_wrapper,#mCSB_" + d.idx + "_dragger_vertical,#mCSB_" + d.idx + "_dragger_horizontal");
                sel.each(function() {
                    _stopTween.call(this);
                });
            },
            /* -------------------- */

            /* 
		ANIMATES CONTENT 
		This is where the actual scrolling happens
		*/
            _scrollTo = function(el, to, options) {
                var d = el.data(pluginPfx),
                    o = d.opt,
                    defaults = {
                        trigger: "internal",
                        dir: "y",
                        scrollEasing: "mcsEaseOut",
                        drag: false,
                        dur: o.scrollInertia,
                        overwrite: "all",
                        callbacks: true,
                        onStart: true,
                        onUpdate: true,
                        onComplete: true
                    },
                    options = $.extend(defaults, options),
                    dur = [options.dur, (options.drag ? 0 : options.dur)],
                    mCustomScrollBox = $("#mCSB_" + d.idx),
                    mCSB_container = $("#mCSB_" + d.idx + "_container"),
                    wrapper = mCSB_container.parent(),
                    totalScrollOffsets = o.callbacks.onTotalScrollOffset ? _arr.call(el, o.callbacks.onTotalScrollOffset) : [0, 0],
                    totalScrollBackOffsets = o.callbacks.onTotalScrollBackOffset ? _arr.call(el, o.callbacks.onTotalScrollBackOffset) : [0, 0];
                d.trigger = options.trigger;
                if (wrapper.scrollTop() !== 0 || wrapper.scrollLeft() !== 0) {
                    /* always reset scrollTop/Left */
                    $(".mCSB_" + d.idx + "_scrollbar").css("visibility", "visible");
                    wrapper.scrollTop(0).scrollLeft(0);
                }
                if (to === "_resetY" && !d.contentReset.y) {
                    /* callbacks: onOverflowYNone */
                    if (_cb("onOverflowYNone")) {
                        o.callbacks.onOverflowYNone.call(el[0]);
                    }
                    d.contentReset.y = 1;
                }
                if (to === "_resetX" && !d.contentReset.x) {
                    /* callbacks: onOverflowXNone */
                    if (_cb("onOverflowXNone")) {
                        o.callbacks.onOverflowXNone.call(el[0]);
                    }
                    d.contentReset.x = 1;
                }
                if (to === "_resetY" || to === "_resetX") {
                    return;
                }
                if ((d.contentReset.y || !el[0].mcs) && d.overflowed[0]) {
                    /* callbacks: onOverflowY */
                    if (_cb("onOverflowY")) {
                        o.callbacks.onOverflowY.call(el[0]);
                    }
                    d.contentReset.x = null;
                }
                if ((d.contentReset.x || !el[0].mcs) && d.overflowed[1]) {
                    /* callbacks: onOverflowX */
                    if (_cb("onOverflowX")) {
                        o.callbacks.onOverflowX.call(el[0]);
                    }
                    d.contentReset.x = null;
                }
                if (o.snapAmount) {
                    /* scrolling snapping */
                    var snapAmount = !(o.snapAmount instanceof Array) ? o.snapAmount : options.dir === "x" ? o.snapAmount[1] : o.snapAmount[0];
                    to = _snapAmount(to, snapAmount, o.snapOffset);
                }
                switch (options.dir) {
                case "x":
                    var mCSB_dragger = $("#mCSB_" + d.idx + "_dragger_horizontal"),
                        property = "left",
                        contentPos = mCSB_container[0].offsetLeft,
                        limit = [
                        mCustomScrollBox.width() - mCSB_container.outerWidth(false),
                        mCSB_dragger.parent().width() - mCSB_dragger.width()
                        ],
                        scrollTo = [to, to === 0 ? 0 : (to / d.scrollRatio.x)],
                        tso = totalScrollOffsets[1],
                        tsbo = totalScrollBackOffsets[1],
                        totalScrollOffset = tso > 0 ? tso / d.scrollRatio.x : 0,
                        totalScrollBackOffset = tsbo > 0 ? tsbo / d.scrollRatio.x : 0;
                    break;
                case "y":
                    var mCSB_dragger = $("#mCSB_" + d.idx + "_dragger_vertical"),
                        property = "top",
                        contentPos = mCSB_container[0].offsetTop,
                        limit = [
                        mCustomScrollBox.height() - mCSB_container.outerHeight(false),
                        mCSB_dragger.parent().height() - mCSB_dragger.height()
                        ],
                        scrollTo = [to, to === 0 ? 0 : (to / d.scrollRatio.y)],
                        tso = totalScrollOffsets[0],
                        tsbo = totalScrollBackOffsets[0],
                        totalScrollOffset = tso > 0 ? tso / d.scrollRatio.y : 0,
                        totalScrollBackOffset = tsbo > 0 ? tsbo / d.scrollRatio.y : 0;
                    break;
                }
                if (scrollTo[1] < 0 || (scrollTo[0] === 0 && scrollTo[1] === 0)) {
                    scrollTo = [0, 0];
                } else if (scrollTo[1] >= limit[1]) {
                    scrollTo = [limit[0], limit[1]];
                } else {
                    scrollTo[0] = -scrollTo[0];
                }
                if (!el[0].mcs) {
                    _mcs(); /* init mcs object (once) to make it available before callbacks */
                    if (_cb("onInit")) {
                        o.callbacks.onInit.call(el[0]);
                    } /* callbacks: onInit */
                }
                clearTimeout(mCSB_container[0].onCompleteTimeout);
                _tweenTo(mCSB_dragger[0], property, Math.round(scrollTo[1]), dur[1], options.scrollEasing);
                if (!d.tweenRunning && ((contentPos === 0 && scrollTo[0] >= 0) || (contentPos === limit[0] && scrollTo[0] <= limit[0]))) {
                    return;
                }
                _tweenTo(mCSB_container[0], property, Math.round(scrollTo[0]), dur[0], options.scrollEasing, options.overwrite, {
                    onStart: function() {
                        if (options.callbacks && options.onStart && !d.tweenRunning) {
                            /* callbacks: onScrollStart */
                            if (_cb("onScrollStart")) {
                                _mcs();
                                o.callbacks.onScrollStart.call(el[0]);
                            }
                            d.tweenRunning = true;
                            _onDragClasses(mCSB_dragger);
                            d.cbOffsets = _cbOffsets();
                        }
                    },
                    onUpdate: function() {
                        if (options.callbacks && options.onUpdate) {
                            /* callbacks: whileScrolling */
                            if (_cb("whileScrolling")) {
                                _mcs();
                                o.callbacks.whileScrolling.call(el[0]);
                            }
                        }
                    },
                    onComplete: function() {
                        if (options.callbacks && options.onComplete) {
                            if (o.axis === "yx") {
                                clearTimeout(mCSB_container[0].onCompleteTimeout);
                            }
                            var t = mCSB_container[0].idleTimer || 0;
                            mCSB_container[0].onCompleteTimeout = setTimeout(function() {
                                /* callbacks: onScroll, onTotalScroll, onTotalScrollBack */
                                if (_cb("onScroll")) {
                                    _mcs();
                                    o.callbacks.onScroll.call(el[0]);
                                }
                                if (_cb("onTotalScroll") && scrollTo[1] >= limit[1] - totalScrollOffset && d.cbOffsets[0]) {
                                    _mcs();
                                    o.callbacks.onTotalScroll.call(el[0]);
                                }
                                if (_cb("onTotalScrollBack") && scrollTo[1] <= totalScrollBackOffset && d.cbOffsets[1]) {
                                    _mcs();
                                    o.callbacks.onTotalScrollBack.call(el[0]);
                                }
                                d.tweenRunning = false;
                                mCSB_container[0].idleTimer = 0;
                                _onDragClasses(mCSB_dragger, "hide");
                            }, t);
                        }
                    }
                });
                /* checks if callback function exists */
                function _cb(cb) {
                    return d && o.callbacks[cb] && typeof o.callbacks[cb] === "function";
                }
                /* checks whether callback offsets always trigger */
                function _cbOffsets() {
                    return [o.callbacks.alwaysTriggerOffsets || contentPos >= limit[0] + tso, o.callbacks.alwaysTriggerOffsets || contentPos <= -tsbo];
                }
                /* 
			populates object with useful values for the user 
			values: 
				content: this.mcs.content
				content top position: this.mcs.top 
				content left position: this.mcs.left 
				dragger top position: this.mcs.draggerTop 
				dragger left position: this.mcs.draggerLeft 
				scrolling y percentage: this.mcs.topPct 
				scrolling x percentage: this.mcs.leftPct 
				scrolling direction: this.mcs.direction
			*/
                function _mcs() {
                    var cp = [mCSB_container[0].offsetTop, mCSB_container[0].offsetLeft],
                        /* content position */
                        dp = [mCSB_dragger[0].offsetTop, mCSB_dragger[0].offsetLeft],
                        /* dragger position */
                        cl = [mCSB_container.outerHeight(false), mCSB_container.outerWidth(false)],
                        /* content length */
                        pl = [mCustomScrollBox.height(), mCustomScrollBox.width()]; /* content parent length */
                    el[0].mcs = {
                        content: mCSB_container,
                        /* original content wrapper as jquery object */
                        top: cp[0],
                        left: cp[1],
                        draggerTop: dp[0],
                        draggerLeft: dp[1],
                        topPct: Math.round((100 * Math.abs(cp[0])) / (Math.abs(cl[0]) - pl[0])),
                        leftPct: Math.round((100 * Math.abs(cp[1])) / (Math.abs(cl[1]) - pl[1])),
                        direction: options.dir
                    };




                }
            },
            /* 
				this refers to the original element containing the scrollbar(s)
				usage: this.mcs.top, this.mcs.leftPct etc. 
				*/
            /* -------------------- */

            /* 
		CUSTOM JAVASCRIPT ANIMATION TWEEN 
		Lighter and faster than jquery animate() and css transitions 
		Animates top/left properties and includes easings 
		*/
            _tweenTo = function(el, prop, to, duration, easing, overwrite, callbacks) {
                if (!el._mTween) {
                    el._mTween = {
                        top: {},
                        left: {}
                    };
                }
                var callbacks = callbacks || {},
                    onStart = callbacks.onStart || function() {},
                    onUpdate = callbacks.onUpdate || function() {},
                    onComplete = callbacks.onComplete || function() {},
                    startTime = _getTime(),
                    _delay,
                    progress = 0,
                    from = el.offsetTop,
                    elStyle = el.style,
                    _request,
                    tobj = el._mTween[prop];
                if (prop === "left") {
                    from = el.offsetLeft;
                }
                var diff = to - from;
                tobj.stop = 0;
                if (overwrite !== "none") {
                    _cancelTween();
                }
                _startTween();
                function _step() {
                    if (tobj.stop) {
                        return;
                    }
                    if (!progress) {
                        onStart.call();
                    }
                    progress = _getTime() - startTime;
                    _tween();
                    if (progress >= tobj.time) {
                        tobj.time = (progress > tobj.time) ? progress + _delay - (progress - tobj.time) : progress + _delay - 1;
                        if (tobj.time < progress + 1) {
                            tobj.time = progress + 1;
                        }
                    }
                    if (tobj.time < duration) {
                        tobj.id = _request(_step);
                    } else {
                        onComplete.call();
                    }
                }
                function _tween() {
                    if (duration > 0) {
                        tobj.currVal = _ease(tobj.time, from, diff, duration, easing);
                        elStyle[prop] = Math.round(tobj.currVal) + "px";
                    } else {
                        elStyle[prop] = to + "px";
                    }
                    onUpdate.call();
                }
                function _startTween() {
                    _delay = 1000 / 60;
                    tobj.time = progress + _delay;
                    _request = (!window.requestAnimationFrame) ? function(f) {
                        _tween();
                        return setTimeout(f, 0.01);
                    } : window.requestAnimationFrame;
                    tobj.id = _request(_step);
                }
                function _cancelTween() {
                    if (tobj.id == null) {
                        return;
                    }
                    if (!window.requestAnimationFrame) {
                        clearTimeout(tobj.id);
                    } else {
                        window.cancelAnimationFrame(tobj.id);
                    }
                    tobj.id = null;
                }
                function _ease(t, b, c, d, type) {
                    switch (type) {
                    case "linear":
                    case "mcsLinear":
                        return c * t / d + b;
                        break;
                    case "mcsLinearOut":
                        t /= d;
                        t--;
                        return c * Math.sqrt(1 - t * t) + b;
                        break;
                    case "easeInOutSmooth":
                        t /= d / 2;
                        if (t < 1)
                            return c / 2 * t * t + b;
                        t--;
                        return -c / 2 * (t * (t - 2) - 1) + b;
                        break;
                    case "easeInOutStrong":
                        t /= d / 2;
                        if (t < 1)
                            return c / 2 * Math.pow(2, 10 * (t - 1)) + b;
                        t--;
                        return c / 2 * (-Math.pow(2, -10 * t) + 2) + b;
                        break;
                    case "easeInOut":
                    case "mcsEaseInOut":
                        t /= d / 2;
                        if (t < 1)
                            return c / 2 * t * t * t + b;
                        t -= 2;
                        return c / 2 * (t * t * t + 2) + b;
                        break;
                    case "easeOutSmooth":
                        t /= d;
                        t--;
                        return -c * (t * t * t * t - 1) + b;
                        break;
                    case "easeOutStrong":
                        return c * (-Math.pow(2, -10 * t / d) + 1) + b;
                        break;
                    case "easeOut":
                    case "mcsEaseOut":
                    default:
                        var ts = (t /= d) * t,
                            tc = ts * t;
                        return b + c * (0.499999999999997 * tc * ts + -2.5 * ts * ts + 5.5 * tc + -6.5 * ts + 4 * t);
                    }
                }
            },
            /* -------------------- */

            /* returns current time */
            _getTime = function() {
                if (window.performance && window.performance.now) {
                    return window.performance.now();
                } else {
                    if (window.performance && window.performance.webkitNow) {
                        return window.performance.webkitNow();
                    } else {
                        if (Date.now) {
                            return Date.now();
                        } else {
                            return new Date().getTime();
                        }
                    }
                }
            },
            /* -------------------- */

            /* stops a tween */
            _stopTween = function() {
                var el = this;
                if (!el._mTween) {
                    el._mTween = {
                        top: {},
                        left: {}
                    };
                }
                var props = ["top", "left"];
                for (var i = 0; i < props.length; i++) {
                    var prop = props[i];
                    if (el._mTween[prop].id) {
                        if (!window.requestAnimationFrame) {
                            clearTimeout(el._mTween[prop].id);
                        } else {
                            window.cancelAnimationFrame(el._mTween[prop].id);
                        }
                        el._mTween[prop].id = null;
                        el._mTween[prop].stop = 1;
                    }
                }
            },
            /* -------------------- */

            /* deletes a property (avoiding the exception thrown by IE) */
            _delete = function(c, m) {
                try {
                    delete c[m];
                } catch (e) {
                    c[m] = null;
                }
            },
            /* -------------------- */

            /* detects left mouse button */
            _mouseBtnLeft = function(e) {
                return !(e.which && e.which !== 1);
            },
            /* -------------------- */

            /* detects if pointer type event is touch */
            _pointerTouch = function(e) {
                var t = e.originalEvent.pointerType;
                return !(t && t !== "touch" && t !== 2);
            },
            /* -------------------- */

            /* checks if value is numeric */
            _isNumeric = function(val) {
                return !isNaN(parseFloat(val)) && isFinite(val);
            },
            /* -------------------- */

            /* returns element position according to content */
            _childPos = function(el) {
                var p = el.parents(".mCSB_container");
                return [el.offset().top - p.offset().top, el.offset().left - p.offset().left];
            },
            /* -------------------- */

            /* checks if browser tab is hidden/inactive via Page Visibility API */
            _isTabHidden = function() {
                var prop = _getHiddenProp();
                if (!prop)
                    return false;
                return document[prop];
                function _getHiddenProp() {
                    var pfx = ["webkit", "moz", "ms", "o"];
                    if ("hidden" in document)
                        return "hidden"; //natively supported
                    for (var i = 0; i < pfx.length; i++) {
                        //prefixed
                        if ((pfx[i] + "Hidden") in document)
                            return pfx[i] + "Hidden";
                    }
                    return null; //not supported
                }
            };
        /* -------------------- */

        /* 
	----------------------------------------
	PLUGIN SETUP 
	----------------------------------------
	*/

        /* plugin constructor functions */
        $.fn[pluginNS] = function(method) {
            /* usage: $(selector).mCustomScrollbar(); */
            if (methods[method]) {
                return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
            } else if (typeof method === "object" || !method) {
                return methods.init.apply(this, arguments);
            } else {
                $.error("Method " + method + " does not exist");
            }
        };
        $[pluginNS] = function(method) {
            /* usage: $.mCustomScrollbar(); */
            if (methods[method]) {
                return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
            } else if (typeof method === "object" || !method) {
                return methods.init.apply(this, arguments);
            } else {
                $.error("Method " + method + " does not exist");
            }
        };

        /* 
	allow setting plugin default options. 
	usage: $.mCustomScrollbar.defaults.scrollInertia=500; 
	to apply any changed default options on default selectors (below), use inside document ready fn 
	e.g.: $(document).ready(function(){ $.mCustomScrollbar.defaults.scrollInertia=500; });
	*/
        $[pluginNS].defaults = defaults;

        /* 
	add window object (window.mCustomScrollbar) 
	usage: if(window.mCustomScrollbar){console.log("custom scrollbar plugin loaded");}
	*/
        window[pluginNS] = true;

        $(window).bind("load", function() {

            $(defaultSelector)[pluginNS](); /* add scrollbars automatically on default selector */

            /* extend jQuery expressions */
            $.extend($.expr[":"], {
                /* checks if element is within scrollable viewport */
                mcsInView: $.expr[":"].mcsInView || function(el) {
                    var $el = $(el),
                        content = $el.parents(".mCSB_container"),
                        wrapper,
                        cPos;
                    if (!content.length) {
                        return;
                    }
                    wrapper = content.parent();
                    cPos = [content[0].offsetTop, content[0].offsetLeft];
                    return cPos[0] + _childPos($el)[0] >= 0 && cPos[0] + _childPos($el)[0] < wrapper.height() - $el.outerHeight(false) &&
                        cPos[1] + _childPos($el)[1] >= 0 && cPos[1] + _childPos($el)[1] < wrapper.width() - $el.outerWidth(false);
                },
                /* checks if element or part of element is in view of scrollable viewport */
                mcsInSight: $.expr[":"].mcsInSight || function(el, i, m) {
                    var $el = $(el),
                        elD,
                        content = $el.parents(".mCSB_container"),
                        wrapperView,
                        pos,
                        wrapperViewPct,
                        pctVals = m[3] === "exact" ? [[1, 0], [1, 0]] : [[0.9, 0.1], [0.6, 0.4]];
                    if (!content.length) {
                        return;
                    }
                    elD = [$el.outerHeight(false), $el.outerWidth(false)];
                    pos = [content[0].offsetTop + _childPos($el)[0], content[0].offsetLeft + _childPos($el)[1]];
                    wrapperView = [content.parent()[0].offsetHeight, content.parent()[0].offsetWidth];
                    wrapperViewPct = [elD[0] < wrapperView[0] ? pctVals[0] : pctVals[1], elD[1] < wrapperView[1] ? pctVals[0] : pctVals[1]];
                    return pos[0] - (wrapperView[0] * wrapperViewPct[0][0]) < 0 && pos[0] + elD[0] - (wrapperView[0] * wrapperViewPct[0][1]) >= 0 &&
                        pos[1] - (wrapperView[1] * wrapperViewPct[1][0]) < 0 && pos[1] + elD[1] - (wrapperView[1] * wrapperViewPct[1][1]) >= 0;
                },
                /* checks if element is overflowed having visible scrollbar(s) */
                mcsOverflow: $.expr[":"].mcsOverflow || function(el) {
                    var d = $(el).data(pluginPfx);
                    if (!d) {
                        return;
                    }
                    return d.overflowed[0] || d.overflowed[1];
                }
            });

        });

    }))
}));
/*! Lity - v1.6.6 - 2016-04-22
* http://sorgalla.com/lity/
* Copyright (c) 2016 Jan Sorgalla; Licensed MIT */
!function(a, b) {
    "function" == typeof define && define.amd ? define(["jquery"], function(c) {
        return b(a, c)
    }) : "object" == typeof module && "object" == typeof module.exports ? module.exports = b(a, require("jquery")) : a.lity = b(a, a.jQuery || a.Zepto)
}("undefined" != typeof window ? window : this, function(a, b) {
    "use strict";
    function c() {
        o[p > 0 ? "addClass" : "removeClass"]("lity-active")
    }
    function d(a) {
        var c = b.Deferred();
        return w ? (a.one(w, c.resolve), setTimeout(c.resolve, 500)) : c.resolve(), c.promise()
    }
    function e(a, c, d) {
        if (1 === arguments.length)
            return b.extend({}, a);
        if ("string" == typeof c) {
            if ("undefined" == typeof d)
                return "undefined" == typeof a[c] ? null : a[c];
            a[c] = d
        } else
            b.extend(a, c);
        return this
    }
    function f(a) {
        for (var b, c = decodeURI(a).split("&"), d = {}, e = 0, f = c.length; f > e; e++)
            c[e] && (b = c[e].split("="), d[b[0]] = b[1]);
        return d
    }
    function g(a, c) {
        return a + (a.indexOf("?") > -1 ? "&" : "?") + b.param(c)
    }
    function h(a) {
        return b('<span class="lity-error"/>').append(a)
    }
    function i(a) {
        if (!q.test(a))
            return !1;
        var c = b('<img src="' + a + '">'),
            d = b.Deferred(),
            e = function() {
                d.reject(h("Failed loading image"))
            };
        return c.on("load", function() {
            return 0 === this.naturalWidth ? e() : void d.resolve(c)
        }).on("error", e), d.promise()
    }
    function j(a) {
        var c;
        try {
            c = b(a)
        } catch (d) {
            return !1
        }
        if (!c.length)
            return !1;
        var e = b('<span style="display:none !important" class="lity-inline-placeholder"/>');
        return c.after(e).on("lity:ready", function(a, b) {
            b.one("lity:remove", function() {
                e.before(c.addClass("lity-hide")).remove()
            })
        })
    }
    function k(a) {
        var c,
            d = a;
        return c = r.exec(a), c && (d = g("https://www.youtube" + (c[2] || "") + ".com/embed/" + c[4], b.extend({
            autoplay: 1
        }, f(c[5] || "")))), c = s.exec(a), c && (d = g("https://player.vimeo.com/video/" + c[3], b.extend({
            autoplay: 1
        }, f(c[4] || "")))), c = t.exec(a), c && (d = g("https://www.google." + c[3] + "/maps?" + c[6], {
            output: c[6].indexOf("layer=c") > 0 ? "svembed" : "embed"
        })), '<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="' + d + '"></iframe></div>'
    }
    function l(a) {
        function f(a) {
            27 === a.keyCode && k()
        }
        function g() {
            var a = m.documentElement.clientHeight ? m.documentElement.clientHeight : Math.round(n.height());
            q.css("max-height", Math.floor(a) + "px").trigger("lity:resize", [o])
        }
        function h(a, c) {
            o && (q = b(c), n.on("resize", g), g(), o.find(".lity-loader").each(function() {
                var a = b(this);
                d(a).always(function() {
                    a.remove()
                })
            }), o.removeClass("lity-loading").find(".lity-content").empty().append(q), q.removeClass("lity-hide").trigger("lity:ready", [o, a]), t.resolve())
        }
        function i(a, d, e, g) {
            t = b.Deferred(), p++, c(), o = b(e.template).addClass("lity-loading").appendTo("body"), e.esc && n.on("keyup", f), setTimeout(function() {
                o.addClass("lity-opened lity-" + a).on("click", "[data-lity-close]", function(a) {
                    b(a.target).is("[data-lity-close]") && k()
                }).trigger("lity:open", [o, g]), b.when(d).always(b.proxy(h, null, g))
            }, 0)
        }
        function j(a, c, d) {
            var e,
                f,
                g = b.extend({}, u, s);
            if (c = b.extend({}, v, r, c), c.handler && g[c.handler])
                f = g[c.handler](a, l), e = c.handler;
            else {
                var h = {};
                b.each(["inline", "iframe"], function(a, b) {
                    g[b] && (h[b] = g[b]), delete g[b]
                });
                var j = function(b, c) {
                    return c ? (f = c(a, l), f ? (e = b, !1) : void 0) : !0
                };
                b.each(g, j), e || b.each(h, j)
            }
            return f && b.when(k()).done(b.proxy(i, null, e, f, c, d)), !!f
        }
        function k() {
            if (o) {
                var a = b.Deferred();
                return t.done(function() {
                    p--, c(), n.off("resize", g).off("keyup", f), q.trigger("lity:close", [o]), o.removeClass("lity-opened").addClass("lity-closed");
                    var b = o,
                        e = q;
                    o = null, q = null, d(e.add(b)).always(function() {
                        e.trigger("lity:remove", [b]), b.remove(), a.resolve()
                    })
                }), a.promise()
            }
        }
        function l(a) {
            if (!a.preventDefault)
                return l.open(a);
            var c = b(this),
                d = c.data("lity-target") || c.attr("href") || c.attr("src");
            if (d) {
                var e = c.data("lity-options") || c.data("lity");
                j(d, e, c) && (c.blur(), a.preventDefault())
            }
        }
        var o,
            q,
            r = {},
            s = {},
            t = b.Deferred().resolve();
        return l.handlers = b.proxy(e, l, s), l.options = b.proxy(e, l, r), l.open = function(a, b, c) {
            return j(a, b, c), l
        }, l.close = function() {
            return k(), l
        }, l.options(a)
    }
    var m = a.document,
        n = b(a),
        o = b("html"),
        p = 0,
        q = /(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,
        r = /(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,
        s = /(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,
        t = /((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,
        u = {
            image: i,
            inline: j,
            iframe: k
        },
        v = {
            esc: !0,
            handler: null,
            template: '<div class="lity" tabindex="-1"><div class="lity-wrap" data-lity-close><div class="lity-loader">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" title="Close (Esc)" data-lity-close></button></div></div></div>'
        },
        w = function() {
            var a = m.createElement("div"),
                b = {
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "transitionend",
                    OTransition: "oTransitionEnd otransitionend",
                    transition: "transitionend"
                };
            for (var c in b)
                if (void 0 !== a.style[c])
                    return b[c];
            return !1
        }();
    return l.version = "1.6.6", l.handlers = b.proxy(e, l, u), l.options = b.proxy(e, l, v), b(m).on("click", "[data-lity]", l()), l
});
/*!mobile-detect v1.3.3 2016-07-31*/
/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/
!function(a, b) {
    a(function() {
        "use strict";
        function a(a, b) {
            return null != a && null != b && a.toLowerCase() === b.toLowerCase()
        }
        function c(a, b) {
            var c,
                d,
                e = a.length;
            if (!e || !b)
                return !1;
            for (c = b.toLowerCase(), d = 0; e > d; ++d)
                if (c === a[d].toLowerCase())
                    return !0;
            return !1
        }
        function d(a) {
            for (var b in a)
                h.call(a, b) && (a[b] = new RegExp(a[b], "i"))
        }
        function e(a, b) {
            this.ua = a || "", this._cache = {}, this.maxPhoneWidth = b || 600
        }
        var f = {};
        f.mobileDetectRules = {
            phones: {
                iPhone: "\\biPhone\\b|\\biPod\\b",
                BlackBerry: "BlackBerry|\\bBB10\\b|rim[0-9]+",
                HTC: "HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",
                Nexus: "Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",
                Dell: "Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",
                Motorola: "Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",
                Samsung: "Samsung|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F",
                LG: "\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",
                Sony: "SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",
                Asus: "Asus.*Galaxy|PadFone.*Mobile",
                NokiaLumia: "Lumia [0-9]{3,4}",
                Micromax: "Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",
                Palm: "PalmSource|Palm",
                Vertu: "Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",
                Pantech: "PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",
                Fly: "IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",
                Wiko: "KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",
                iMobile: "i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",
                SimValley: "\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",
                Wolfgang: "AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",
                Alcatel: "Alcatel",
                Nintendo: "Nintendo 3DS",
                Amoi: "Amoi",
                INQ: "INQ",
                GenericPhone: "Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"
            },
            tablets: {
                iPad: "iPad|iPad.*Mobile",
                NexusTablet: "Android.*Nexus[\\s]+(7|9|10)",
                SamsungTablet: "SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561",
                Kindle: "Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI)\\b",
                SurfaceTablet: "Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",
                HPTablet: "HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",
                AsusTablet: "^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K017 |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA",
                BlackBerryTablet: "PlayBook|RIM Tablet",
                HTCtablet: "HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",
                MotorolaTablet: "xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",
                NookTablet: "Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",
                AcerTablet: "Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20",
                ToshibaTablet: "Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",
                LGTablet: "\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",
                FujitsuTablet: "Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",
                PrestigioTablet: "PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",
                LenovoTablet: "Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",
                DellTablet: "Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",
                YarvikTablet: "Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",
                MedionTablet: "Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",
                ArnovaTablet: "AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",
                IntensoTablet: "INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",
                IRUTablet: "M702pro",
                MegafonTablet: "MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",
                EbodaTablet: "E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",
                AllViewTablet: "Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",
                ArchosTablet: "\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",
                AinolTablet: "NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",
                NokiaLumiaTablet: "Lumia 2520",
                SonyTablet: "Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",
                PhilipsTablet: "\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",
                CubeTablet: "Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",
                CobyTablet: "MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",
                MIDTablet: "M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",
                MSITablet: "MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",
                SMiTTablet: "Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",
                RockChipTablet: "Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",
                FlyTablet: "IQ310|Fly Vision",
                bqTablet: "Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus",
                HuaweiTablet: "MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",
                NecTablet: "\\bN-06D|\\bN-08D",
                PantechTablet: "Pantech.*P4100",
                BronchoTablet: "Broncho.*(N701|N708|N802|a710)",
                VersusTablet: "TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",
                ZyncTablet: "z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",
                PositivoTablet: "TB07STA|TB10STA|TB07FTA|TB10FTA",
                NabiTablet: "Android.*\\bNabi",
                KoboTablet: "Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",
                DanewTablet: "DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",
                TexetTablet: "NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",
                PlaystationTablet: "Playstation.*(Portable|Vita)",
                TrekstorTablet: "ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",
                PyleAudioTablet: "\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",
                AdvanTablet: "Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",
                DanyTechTablet: "Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",
                GalapadTablet: "Android.*\\bG1\\b",
                MicromaxTablet: "Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",
                KarbonnTablet: "Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",
                AllFineTablet: "Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",
                PROSCANTablet: "\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",
                YONESTablet: "BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",
                ChangJiaTablet: "TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",
                GUTablet: "TX-A1301|TX-M9002|Q702|kf026",
                PointOfViewTablet: "TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",
                OvermaxTablet: "OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",
                HCLTablet: "HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",
                DPSTablet: "DPS Dream 9|DPS Dual 7",
                VistureTablet: "V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",
                CrestaTablet: "CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",
                MediatekTablet: "\\bMT8125|MT8389|MT8135|MT8377\\b",
                ConcordeTablet: "Concorde([ ]+)?Tab|ConCorde ReadMan",
                GoCleverTablet: "GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",
                ModecomTablet: "FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",
                VoninoTablet: "\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",
                ECSTablet: "V07OT2|TM105A|S10OT1|TR10CS1",
                StorexTablet: "eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",
                VodafoneTablet: "SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",
                EssentielBTablet: "Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",
                RossMoorTablet: "RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",
                iMobileTablet: "i-mobile i-note",
                TolinoTablet: "tolino tab [0-9.]+|tolino shine",
                AudioSonicTablet: "\\bC-22Q|T7-QC|T-17B|T-17P\\b",
                AMPETablet: "Android.* A78 ",
                SkkTablet: "Android.* (SKYPAD|PHOENIX|CYCLOPS)",
                TecnoTablet: "TECNO P9",
                JXDTablet: "Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",
                iJoyTablet: "Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",
                FX2Tablet: "FX2 PAD7|FX2 PAD10",
                XoroTablet: "KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",
                ViewsonicTablet: "ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",
                OdysTablet: "LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",
                CaptivaTablet: "CAPTIVA PAD",
                IconbitTablet: "NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",
                TeclastTablet: "T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",
                OndaTablet: "\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",
                JaytechTablet: "TPC-PA762",
                BlaupunktTablet: "Endeavour 800NG|Endeavour 1010",
                DigmaTablet: "\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",
                EvolioTablet: "ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",
                LavaTablet: "QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",
                AocTablet: "MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",
                MpmanTablet: "MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",
                CelkonTablet: "CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",
                WolderTablet: "miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",
                MiTablet: "\\bMI PAD\\b|\\bHM NOTE 1W\\b",
                NibiruTablet: "Nibiru M1|Nibiru Jupiter One",
                NexoTablet: "NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",
                LeaderTablet: "TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",
                UbislateTablet: "UbiSlate[\\s]?7C",
                PocketBookTablet: "Pocketbook",
                KocasoTablet: "\\b(TB-1207)\\b",
                Hudl: "Hudl HT7S3|Hudl 2",
                TelstraTablet: "T-Hub2",
                GenericTablet: "Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bJolla\\b|\\bTP750\\b"
            },
            oss: {
                AndroidOS: "Android",
                BlackBerryOS: "blackberry|\\bBB10\\b|rim tablet os",
                PalmOS: "PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",
                SymbianOS: "Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",
                WindowsMobileOS: "Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",
                WindowsPhoneOS: "Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",
                iOS: "\\biPhone.*Mobile|\\biPod|\\biPad",
                MeeGoOS: "MeeGo",
                MaemoOS: "Maemo",
                JavaOS: "J2ME/|\\bMIDP\\b|\\bCLDC\\b",
                webOS: "webOS|hpwOS",
                badaOS: "\\bBada\\b",
                BREWOS: "BREW"
            },
            uas: {
                Vivaldi: "Vivaldi",
                Chrome: "\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",
                Dolfin: "\\bDolfin\\b",
                Opera: "Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",
                Skyfire: "Skyfire",
                Edge: "Mobile Safari/[.0-9]* Edge",
                IE: "IEMobile|MSIEMobile",
                Firefox: "fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",
                Bolt: "bolt",
                TeaShark: "teashark",
                Blazer: "Blazer",
                Safari: "Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",
                Tizen: "Tizen",
                UCBrowser: "UC.*Browser|UCWEB",
                baiduboxapp: "baiduboxapp",
                baidubrowser: "baidubrowser",
                DiigoBrowser: "DiigoBrowser",
                Puffin: "Puffin",
                Mercury: "\\bMercury\\b",
                ObigoBrowser: "Obigo",
                NetFront: "NF-Browser",
                GenericBrowser: "NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",
                PaleMoon: "Android.*PaleMoon|Mobile.*PaleMoon"
            },
            props: {
                Mobile: "Mobile/[VER]",
                Build: "Build/[VER]",
                Version: "Version/[VER]",
                VendorID: "VendorID/[VER]",
                iPad: "iPad.*CPU[a-z ]+[VER]",
                iPhone: "iPhone.*CPU[a-z ]+[VER]",
                iPod: "iPod.*CPU[a-z ]+[VER]",
                Kindle: "Kindle/[VER]",
                Chrome: ["Chrome/[VER]", "CriOS/[VER]", "CrMo/[VER]"],
                Coast: ["Coast/[VER]"],
                Dolfin: "Dolfin/[VER]",
                Firefox: "Firefox/[VER]",
                Fennec: "Fennec/[VER]",
                Edge: "Edge/[VER]",
                IE: ["IEMobile/[VER];", "IEMobile [VER]", "MSIE [VER];", "Trident/[0-9.]+;.*rv:[VER]"],
                NetFront: "NetFront/[VER]",
                NokiaBrowser: "NokiaBrowser/[VER]",
                Opera: [" OPR/[VER]", "Opera Mini/[VER]", "Version/[VER]"],
                "Opera Mini": "Opera Mini/[VER]",
                "Opera Mobi": "Version/[VER]",
                "UC Browser": "UC Browser[VER]",
                MQQBrowser: "MQQBrowser/[VER]",
                MicroMessenger: "MicroMessenger/[VER]",
                baiduboxapp: "baiduboxapp/[VER]",
                baidubrowser: "baidubrowser/[VER]",
                Iron: "Iron/[VER]",
                Safari: ["Version/[VER]", "Safari/[VER]"],
                Skyfire: "Skyfire/[VER]",
                Tizen: "Tizen/[VER]",
                Webkit: "webkit[ /][VER]",
                PaleMoon: "PaleMoon/[VER]",
                Gecko: "Gecko/[VER]",
                Trident: "Trident/[VER]",
                Presto: "Presto/[VER]",
                Goanna: "Goanna/[VER]",
                iOS: " \\bi?OS\\b [VER][ ;]{1}",
                Android: "Android [VER]",
                BlackBerry: ["BlackBerry[\\w]+/[VER]", "BlackBerry.*Version/[VER]", "Version/[VER]"],
                BREW: "BREW [VER]",
                Java: "Java/[VER]",
                "Windows Phone OS": ["Windows Phone OS [VER]", "Windows Phone [VER]"],
                "Windows Phone": "Windows Phone [VER]",
                "Windows CE": "Windows CE/[VER]",
                "Windows NT": "Windows NT [VER]",
                Symbian: ["SymbianOS/[VER]", "Symbian/[VER]"],
                webOS: ["webOS/[VER]", "hpwOS/[VER];"]
            },
            utils: {
                Bot: "Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",
                MobileBot: "Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",
                DesktopMode: "WPDesktop",
                TV: "SonyDTV|HbbTV",
                WebKit: "(webkit)[ /]([\\w.]+)",
                Console: "\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",
                Watch: "SM-V700"
            }
        }, f.detectMobileBrowsers = {
            fullPattern: /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,
            shortPattern: /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
            tabletPattern: /android|ipad|playbook|silk/i
        };
        var g,
            h = Object.prototype.hasOwnProperty;
        return f.FALLBACK_PHONE = "UnknownPhone", f.FALLBACK_TABLET = "UnknownTablet", f.FALLBACK_MOBILE = "UnknownMobile", g = "isArray" in Array ? Array.isArray : function(a) {
            return "[object Array]" === Object.prototype.toString.call(a)
        }, function() {
            var a,
                b,
                c,
                e,
                i,
                j,
                k = f.mobileDetectRules;
            for (a in k.props)
                if (h.call(k.props, a)) {
                    for (b = k.props[a], g(b) || (b = [b]), i = b.length, e = 0; i > e; ++e)
                        c = b[e], j = c.indexOf("[VER]"), j >= 0 && (c = c.substring(0, j) + "([\\w._\\+]+)" + c.substring(j + 5)), b[e] = new RegExp(c, "i");
                    k.props[a] = b
                }
            d(k.oss), d(k.phones), d(k.tablets), d(k.uas), d(k.utils), k.oss0 = {
                WindowsPhoneOS: k.oss.WindowsPhoneOS,
                WindowsMobileOS: k.oss.WindowsMobileOS
            }
        }(), f.findMatch = function(a, b) {
            for (var c in a)
                if (h.call(a, c) && a[c].test(b))
                    return c;
            return null
        }, f.findMatches = function(a, b) {
            var c = [];
            for (var d in a)
                h.call(a, d) && a[d].test(b) && c.push(d);
            return c
        }, f.getVersionStr = function(a, b) {
            var c,
                d,
                e,
                g,
                i = f.mobileDetectRules.props;
            if (h.call(i, a))
                for (c = i[a], e = c.length, d = 0; e > d; ++d)
                    if (g = c[d].exec(b), null !== g)
                        return g[1];
            return null
        }, f.getVersion = function(a, b) {
            var c = f.getVersionStr(a, b);
            return c ? f.prepareVersionNo(c) : NaN
        }, f.prepareVersionNo = function(a) {
            var b;
            return b = a.split(/[a-z._ \/\-]/i), 1 === b.length && (a = b[0]), b.length > 1 && (a = b[0] + ".", b.shift(), a += b.join("")), Number(a)
        }, f.isMobileFallback = function(a) {
            return f.detectMobileBrowsers.fullPattern.test(a) || f.detectMobileBrowsers.shortPattern.test(a.substr(0, 4))
        }, f.isTabletFallback = function(a) {
            return f.detectMobileBrowsers.tabletPattern.test(a)
        }, f.prepareDetectionCache = function(a, c, d) {
            if (a.mobile === b) {
                var g,
                    h,
                    i;
                return (h = f.findMatch(f.mobileDetectRules.tablets, c)) ? (a.mobile = a.tablet = h, void (a.phone = null)) : (g = f.findMatch(f.mobileDetectRules.phones, c)) ? (a.mobile = a.phone = g, void (a.tablet = null)) : void (f.isMobileFallback(c) ? (i = e.isPhoneSized(d), i === b ? (a.mobile = f.FALLBACK_MOBILE, a.tablet = a.phone = null) : i ? (a.mobile = a.phone = f.FALLBACK_PHONE, a.tablet = null) : (a.mobile = a.tablet = f.FALLBACK_TABLET, a.phone = null)) : f.isTabletFallback(c) ? (a.mobile = a.tablet = f.FALLBACK_TABLET, a.phone = null) : a.mobile = a.tablet = a.phone = null)
            }
        }, f.mobileGrade = function(a) {
            var b = null !== a.mobile();
            return a.os("iOS") && a.version("iPad") >= 4.3 || a.os("iOS") && a.version("iPhone") >= 3.1 || a.os("iOS") && a.version("iPod") >= 3.1 || a.version("Android") > 2.1 && a.is("Webkit") || a.version("Windows Phone OS") >= 7 || a.is("BlackBerry") && a.version("BlackBerry") >= 6 || a.match("Playbook.*Tablet") || a.version("webOS") >= 1.4 && a.match("Palm|Pre|Pixi") || a.match("hp.*TouchPad") || a.is("Firefox") && a.version("Firefox") >= 12 || a.is("Chrome") && a.is("AndroidOS") && a.version("Android") >= 4 || a.is("Skyfire") && a.version("Skyfire") >= 4.1 && a.is("AndroidOS") && a.version("Android") >= 2.3 || a.is("Opera") && a.version("Opera Mobi") > 11 && a.is("AndroidOS") || a.is("MeeGoOS") || a.is("Tizen") || a.is("Dolfin") && a.version("Bada") >= 2 || (a.is("UC Browser") || a.is("Dolfin")) && a.version("Android") >= 2.3 || a.match("Kindle Fire") || a.is("Kindle") && a.version("Kindle") >= 3 || a.is("AndroidOS") && a.is("NookTablet") || a.version("Chrome") >= 11 && !b || a.version("Safari") >= 5 && !b || a.version("Firefox") >= 4 && !b || a.version("MSIE") >= 7 && !b || a.version("Opera") >= 10 && !b ? "A" : a.os("iOS") && a.version("iPad") < 4.3 || a.os("iOS") && a.version("iPhone") < 3.1 || a.os("iOS") && a.version("iPod") < 3.1 || a.is("Blackberry") && a.version("BlackBerry") >= 5 && a.version("BlackBerry") < 6 || a.version("Opera Mini") >= 5 && a.version("Opera Mini") <= 6.5 && (a.version("Android") >= 2.3 || a.is("iOS")) || a.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3") || a.version("Opera Mobi") >= 11 && a.is("SymbianOS") ? "B" : (a.version("BlackBerry") < 5 || a.match("MSIEMobile|Windows CE.*Mobile") || a.version("Windows Mobile") <= 5.2, "C")
        }, f.detectOS = function(a) {
            return f.findMatch(f.mobileDetectRules.oss0, a) || f.findMatch(f.mobileDetectRules.oss, a)
        }, f.getDeviceSmallerSide = function() {
            return window.screen.width < window.screen.height ? window.screen.width : window.screen.height
        }, e.prototype = {
            constructor: e,
            mobile: function() {
                return f.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.mobile
            },
            phone: function() {
                return f.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.phone
            },
            tablet: function() {
                return f.prepareDetectionCache(this._cache, this.ua, this.maxPhoneWidth), this._cache.tablet
            },
            userAgent: function() {
                return this._cache.userAgent === b && (this._cache.userAgent = f.findMatch(f.mobileDetectRules.uas, this.ua)), this._cache.userAgent
            },
            userAgents: function() {
                return this._cache.userAgents === b && (this._cache.userAgents = f.findMatches(f.mobileDetectRules.uas, this.ua)), this._cache.userAgents
            },
            os: function() {
                return this._cache.os === b && (this._cache.os = f.detectOS(this.ua)), this._cache.os
            },
            version: function(a) {
                return f.getVersion(a, this.ua)
            },
            versionStr: function(a) {
                return f.getVersionStr(a, this.ua)
            },
            is: function(b) {
                return c(this.userAgents(), b) || a(b, this.os()) || a(b, this.phone()) || a(b, this.tablet()) || c(f.findMatches(f.mobileDetectRules.utils, this.ua), b)
            },
            match: function(a) {
                return a instanceof RegExp || (a = new RegExp(a, "i")), a.test(this.ua)
            },
            isPhoneSized: function(a) {
                return e.isPhoneSized(a || this.maxPhoneWidth)
            },
            mobileGrade: function() {
                return this._cache.grade === b && (this._cache.grade = f.mobileGrade(this)), this._cache.grade
            }
        }, "undefined" != typeof window && window.screen ? e.isPhoneSized = function(a) {
            return 0 > a ? b : f.getDeviceSmallerSide() <= a
        } : e.isPhoneSized = function() {}, e._impl = f, e.version = "1.3.3 2016-07-31", e
    })
}(function(a) {
    if ("undefined" != typeof module && module.exports)
        return function(a) {
            module.exports = a()
        };
    if ("function" == typeof define && define.amd)
        return define;
    if ("undefined" != typeof window)
        return function(a) {
            window.MobileDetect = a()
        };
    throw new Error("unknown environment")
}());
/**
 * @author mrdoob / http://mrdoob.com/
 * @author supereggbert / http://www.paulbrunt.co.uk/
 * @author julianwa / https://github.com/julianwa
 */

THREE.RenderableObject = function() {

    this.id = 0;

    this.object = null;
    this.z = 0;
    this.renderOrder = 0;

};

//

THREE.RenderableFace = function() {

    this.id = 0;

    this.v1 = new THREE.RenderableVertex();
    this.v2 = new THREE.RenderableVertex();
    this.v3 = new THREE.RenderableVertex();

    this.normalModel = new THREE.Vector3();

    this.vertexNormalsModel = [new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3()];
    this.vertexNormalsLength = 0;

    this.color = new THREE.Color();
    this.material = null;
    this.uvs = [new THREE.Vector2(), new THREE.Vector2(), new THREE.Vector2()];

    this.z = 0;
    this.renderOrder = 0;

};

//

THREE.RenderableVertex = function() {

    this.position = new THREE.Vector3();
    this.positionWorld = new THREE.Vector3();
    this.positionScreen = new THREE.Vector4();

    this.visible = true;

};

THREE.RenderableVertex.prototype.copy = function(vertex) {

    this.positionWorld.copy(vertex.positionWorld);
    this.positionScreen.copy(vertex.positionScreen);

};

//

THREE.RenderableLine = function() {

    this.id = 0;

    this.v1 = new THREE.RenderableVertex();
    this.v2 = new THREE.RenderableVertex();

    this.vertexColors = [new THREE.Color(), new THREE.Color()];
    this.material = null;

    this.z = 0;
    this.renderOrder = 0;

};

//

THREE.RenderableSprite = function() {

    this.id = 0;

    this.object = null;

    this.x = 0;
    this.y = 0;
    this.z = 0;

    this.rotation = 0;
    this.scale = new THREE.Vector2();

    this.material = null;
    this.renderOrder = 0;

};

//

THREE.Projector = function() {

    var _object,
        _objectCount,
        _objectPool = [],
        _objectPoolLength = 0,
        _vertex,
        _vertexCount,
        _vertexPool = [],
        _vertexPoolLength = 0,
        _face,
        _faceCount,
        _facePool = [],
        _facePoolLength = 0,
        _line,
        _lineCount,
        _linePool = [],
        _linePoolLength = 0,
        _sprite,
        _spriteCount,
        _spritePool = [],
        _spritePoolLength = 0,

        _renderData = {
            objects: [],
            lights: [],
            elements: []
        },

        _vector3 = new THREE.Vector3(),
        _vector4 = new THREE.Vector4(),

        _clipBox = new THREE.Box3(new THREE.Vector3(-1, -1, -1), new THREE.Vector3(1, 1, 1)),
        _boundingBox = new THREE.Box3(),
        _points3 = new Array(3),
        _points4 = new Array(4),

        _viewMatrix = new THREE.Matrix4(),
        _viewProjectionMatrix = new THREE.Matrix4(),

        _modelMatrix,
        _modelViewProjectionMatrix = new THREE.Matrix4(),

        _normalMatrix = new THREE.Matrix3(),

        _frustum = new THREE.Frustum(),

        _clippedVertex1PositionScreen = new THREE.Vector4(),
        _clippedVertex2PositionScreen = new THREE.Vector4();

    //

    this.projectVector = function(vector, camera) {

        console.warn('THREE.Projector: .projectVector() is now vector.project().');
        vector.project(camera);

    };

    this.unprojectVector = function(vector, camera) {

        console.warn('THREE.Projector: .unprojectVector() is now vector.unproject().');
        vector.unproject(camera);

    };

    this.pickingRay = function(vector, camera) {

        console.error('THREE.Projector: .pickingRay() is now raycaster.setFromCamera().');

    };

    //

    var RenderList = function() {

        var normals = [];
        var uvs = [];

        var object = null;
        var material = null;

        var normalMatrix = new THREE.Matrix3();

        function setObject(value) {

            object = value;
            material = object.material;

            normalMatrix.getNormalMatrix(object.matrixWorld);

            normals.length = 0;
            uvs.length = 0;

        }

        function projectVertex(vertex) {

            var position = vertex.position;
            var positionWorld = vertex.positionWorld;
            var positionScreen = vertex.positionScreen;

            positionWorld.copy(position).applyMatrix4(_modelMatrix);
            positionScreen.copy(positionWorld).applyMatrix4(_viewProjectionMatrix);

            var invW = 1 / positionScreen.w;

            positionScreen.x *= invW;
            positionScreen.y *= invW;
            positionScreen.z *= invW;

            vertex.visible = positionScreen.x >= -1 && positionScreen.x <= 1 &&
            positionScreen.y >= -1 && positionScreen.y <= 1 &&
            positionScreen.z >= -1 && positionScreen.z <= 1;

        }

        function pushVertex(x, y, z) {

            _vertex = getNextVertexInPool();
            _vertex.position.set(x, y, z);

            projectVertex(_vertex);

        }

        function pushNormal(x, y, z) {

            normals.push(x, y, z);

        }

        function pushUv(x, y) {

            uvs.push(x, y);

        }

        function checkTriangleVisibility(v1, v2, v3) {

            if (v1.visible === true || v2.visible === true || v3.visible === true)
                return true;

            _points3[0] = v1.positionScreen;
            _points3[1] = v2.positionScreen;
            _points3[2] = v3.positionScreen;

            return _clipBox.intersectsBox(_boundingBox.setFromPoints(_points3));

        }

        function checkBackfaceCulling(v1, v2, v3) {

            return ((v3.positionScreen.x - v1.positionScreen.x) *
            (v2.positionScreen.y - v1.positionScreen.y) -
            (v3.positionScreen.y - v1.positionScreen.y) *
            (v2.positionScreen.x - v1.positionScreen.x)) < 0;

        }

        function pushLine(a, b) {

            var v1 = _vertexPool[a];
            var v2 = _vertexPool[b];

            _line = getNextLineInPool();

            _line.id = object.id;
            _line.v1.copy(v1);
            _line.v2.copy(v2);
            _line.z = (v1.positionScreen.z + v2.positionScreen.z) / 2;
            _line.renderOrder = object.renderOrder;

            _line.material = object.material;

            _renderData.elements.push(_line);

        }

        function pushTriangle(a, b, c) {

            var v1 = _vertexPool[a];
            var v2 = _vertexPool[b];
            var v3 = _vertexPool[c];

            if (checkTriangleVisibility(v1, v2, v3) === false)
                return;

            if (material.side === THREE.DoubleSide || checkBackfaceCulling(v1, v2, v3) === true) {

                _face = getNextFaceInPool();

                _face.id = object.id;
                _face.v1.copy(v1);
                _face.v2.copy(v2);
                _face.v3.copy(v3);
                _face.z = (v1.positionScreen.z + v2.positionScreen.z + v3.positionScreen.z) / 3;
                _face.renderOrder = object.renderOrder;

                // use first vertex normal as face normal

                _face.normalModel.fromArray(normals, a * 3);
                _face.normalModel.applyMatrix3(normalMatrix).normalize();

                for (var i = 0; i < 3; i++) {

                    var normal = _face.vertexNormalsModel[i];
                    normal.fromArray(normals, arguments[i] * 3);
                    normal.applyMatrix3(normalMatrix).normalize();

                    var uv = _face.uvs[i];
                    uv.fromArray(uvs, arguments[i] * 2);

                }

                _face.vertexNormalsLength = 3;

                _face.material = object.material;

                _renderData.elements.push(_face);

            }

        }

        return {
            setObject: setObject,
            projectVertex: projectVertex,
            checkTriangleVisibility: checkTriangleVisibility,
            checkBackfaceCulling: checkBackfaceCulling,
            pushVertex: pushVertex,
            pushNormal: pushNormal,
            pushUv: pushUv,
            pushLine: pushLine,
            pushTriangle: pushTriangle
        }

    };

    var renderList = new RenderList();

    this.projectScene = function(scene, camera, sortObjects, sortElements) {

        _faceCount = 0;
        _lineCount = 0;
        _spriteCount = 0;

        _renderData.elements.length = 0;

        if (scene.autoUpdate === true)
            scene.updateMatrixWorld();
        if (camera.parent === null)
            camera.updateMatrixWorld();

        _viewMatrix.copy(camera.matrixWorldInverse.getInverse(camera.matrixWorld));
        _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);

        _frustum.setFromMatrix(_viewProjectionMatrix);

        //

        _objectCount = 0;

        _renderData.objects.length = 0;
        _renderData.lights.length = 0;

        function addObject(object) {

            _object = getNextObjectInPool();
            _object.id = object.id;
            _object.object = object;

            _vector3.setFromMatrixPosition(object.matrixWorld);
            _vector3.applyProjection(_viewProjectionMatrix);
            _object.z = _vector3.z;
            _object.renderOrder = object.renderOrder;

            _renderData.objects.push(_object);

        }

        scene.traverseVisible(function(object) {

            if (object instanceof THREE.Light) {

                _renderData.lights.push(object);

            } else if (object instanceof THREE.Mesh || object instanceof THREE.Line) {

                if (object.material.visible === false)
                    return;
                if (object.frustumCulled === true && _frustum.intersectsObject(object) === false)
                    return;

                addObject(object);

            } else if (object instanceof THREE.Sprite) {

                if (object.material.visible === false)
                    return;
                if (object.frustumCulled === true && _frustum.intersectsSprite(object) === false)
                    return;

                addObject(object);

            }

        });

        if (sortObjects === true) {

            _renderData.objects.sort(painterSort);

        }

        //

        for (var o = 0, ol = _renderData.objects.length; o < ol; o++) {

            var object = _renderData.objects[o].object;
            var geometry = object.geometry;

            renderList.setObject(object);

            _modelMatrix = object.matrixWorld;

            _vertexCount = 0;

            if (object instanceof THREE.Mesh) {

                if (geometry instanceof THREE.BufferGeometry) {

                    var attributes = geometry.attributes;
                    var groups = geometry.groups;

                    if (attributes.position === undefined)
                        continue;

                    var positions = attributes.position.array;

                    for (var i = 0, l = positions.length; i < l; i += 3) {

                        renderList.pushVertex(positions[i], positions[i + 1], positions[i + 2]);

                    }

                    if (attributes.normal !== undefined) {

                        var normals = attributes.normal.array;

                        for (var i = 0, l = normals.length; i < l; i += 3) {

                            renderList.pushNormal(normals[i], normals[i + 1], normals[i + 2]);

                        }

                    }

                    if (attributes.uv !== undefined) {

                        var uvs = attributes.uv.array;

                        for (var i = 0, l = uvs.length; i < l; i += 2) {

                            renderList.pushUv(uvs[i], uvs[i + 1]);

                        }

                    }

                    if (geometry.index !== null) {

                        var indices = geometry.index.array;

                        if (groups.length > 0) {

                            for (var o = 0; o < groups.length; o++) {

                                var group = groups[o];

                                for (var i = group.start, l = group.start + group.count; i < l; i += 3) {

                                    renderList.pushTriangle(indices[i], indices[i + 1], indices[i + 2]);

                                }

                            }

                        } else {

                            for (var i = 0, l = indices.length; i < l; i += 3) {

                                renderList.pushTriangle(indices[i], indices[i + 1], indices[i + 2]);

                            }

                        }

                    } else {

                        for (var i = 0, l = positions.length / 3; i < l; i += 3) {

                            renderList.pushTriangle(i, i + 1, i + 2);

                        }

                    }

                } else if (geometry instanceof THREE.Geometry) {

                    var vertices = geometry.vertices;
                    var faces = geometry.faces;
                    var faceVertexUvs = geometry.faceVertexUvs[0];

                    _normalMatrix.getNormalMatrix(_modelMatrix);

                    var material = object.material;

                    var isFaceMaterial = material instanceof THREE.MultiMaterial;
                    var objectMaterials = isFaceMaterial === true ? object.material : null;

                    for (var v = 0, vl = vertices.length; v < vl; v++) {

                        var vertex = vertices[v];

                        _vector3.copy(vertex);

                        if (material.morphTargets === true) {

                            var morphTargets = geometry.morphTargets;
                            var morphInfluences = object.morphTargetInfluences;

                            for (var t = 0, tl = morphTargets.length; t < tl; t++) {

                                var influence = morphInfluences[t];

                                if (influence === 0)
                                    continue;

                                var target = morphTargets[t];
                                var targetVertex = target.vertices[v];

                                _vector3.x += (targetVertex.x - vertex.x) * influence;
                                _vector3.y += (targetVertex.y - vertex.y) * influence;
                                _vector3.z += (targetVertex.z - vertex.z) * influence;

                            }

                        }

                        renderList.pushVertex(_vector3.x, _vector3.y, _vector3.z);

                    }

                    for (var f = 0, fl = faces.length; f < fl; f++) {

                        var face = faces[f];

                        material = isFaceMaterial === true
                        ? objectMaterials.materials[face.materialIndex]
                        : object.material;

                        if (material === undefined)
                            continue;

                        var side = material.side;

                        var v1 = _vertexPool[face.a];
                        var v2 = _vertexPool[face.b];
                        var v3 = _vertexPool[face.c];

                        if (renderList.checkTriangleVisibility(v1, v2, v3) === false)
                            continue;

                        var visible = renderList.checkBackfaceCulling(v1, v2, v3);

                        if (side !== THREE.DoubleSide) {

                            if (side === THREE.FrontSide && visible === false)
                                continue;
                            if (side === THREE.BackSide && visible === true)
                                continue;

                        }

                        _face = getNextFaceInPool();

                        _face.id = object.id;
                        _face.v1.copy(v1);
                        _face.v2.copy(v2);
                        _face.v3.copy(v3);

                        _face.normalModel.copy(face.normal);

                        if (visible === false && (side === THREE.BackSide || side === THREE.DoubleSide)) {

                            _face.normalModel.negate();

                        }

                        _face.normalModel.applyMatrix3(_normalMatrix).normalize();

                        var faceVertexNormals = face.vertexNormals;

                        for (var n = 0, nl = Math.min(faceVertexNormals.length, 3); n < nl; n++) {

                            var normalModel = _face.vertexNormalsModel[n];
                            normalModel.copy(faceVertexNormals[n]);

                            if (visible === false && (side === THREE.BackSide || side === THREE.DoubleSide)) {

                                normalModel.negate();

                            }

                            normalModel.applyMatrix3(_normalMatrix).normalize();

                        }

                        _face.vertexNormalsLength = faceVertexNormals.length;

                        var vertexUvs = faceVertexUvs[f];

                        if (vertexUvs !== undefined) {

                            for (var u = 0; u < 3; u++) {

                                _face.uvs[u].copy(vertexUvs[u]);

                            }

                        }

                        _face.color = face.color;
                        _face.material = material;

                        _face.z = (v1.positionScreen.z + v2.positionScreen.z + v3.positionScreen.z) / 3;
                        _face.renderOrder = object.renderOrder;

                        _renderData.elements.push(_face);

                    }

                }

            } else if (object instanceof THREE.Line) {

                if (geometry instanceof THREE.BufferGeometry) {

                    var attributes = geometry.attributes;

                    if (attributes.position !== undefined) {

                        var positions = attributes.position.array;

                        for (var i = 0, l = positions.length; i < l; i += 3) {

                            renderList.pushVertex(positions[i], positions[i + 1], positions[i + 2]);

                        }

                        if (geometry.index !== null) {

                            var indices = geometry.index.array;

                            for (var i = 0, l = indices.length; i < l; i += 2) {

                                renderList.pushLine(indices[i], indices[i + 1]);

                            }

                        } else {

                            var step = object instanceof THREE.LineSegments ? 2 : 1;

                            for (var i = 0, l = (positions.length / 3) - 1; i < l; i += step) {

                                renderList.pushLine(i, i + 1);

                            }

                        }

                    }

                } else if (geometry instanceof THREE.Geometry) {

                    _modelViewProjectionMatrix.multiplyMatrices(_viewProjectionMatrix, _modelMatrix);

                    var vertices = object.geometry.vertices;

                    if (vertices.length === 0)
                        continue;

                    v1 = getNextVertexInPool();
                    v1.positionScreen.copy(vertices[0]).applyMatrix4(_modelViewProjectionMatrix);

                    var step = object instanceof THREE.LineSegments ? 2 : 1;

                    for (var v = 1, vl = vertices.length; v < vl; v++) {

                        v1 = getNextVertexInPool();
                        v1.positionScreen.copy(vertices[v]).applyMatrix4(_modelViewProjectionMatrix);

                        if ((v + 1) % step > 0)
                            continue;

                        v2 = _vertexPool[_vertexCount - 2];

                        _clippedVertex1PositionScreen.copy(v1.positionScreen);
                        _clippedVertex2PositionScreen.copy(v2.positionScreen);

                        if (clipLine(_clippedVertex1PositionScreen, _clippedVertex2PositionScreen) === true) {

                            // Perform the perspective divide
                            _clippedVertex1PositionScreen.multiplyScalar(1 / _clippedVertex1PositionScreen.w);
                            _clippedVertex2PositionScreen.multiplyScalar(1 / _clippedVertex2PositionScreen.w);

                            _line = getNextLineInPool();

                            _line.id = object.id;
                            _line.v1.positionScreen.copy(_clippedVertex1PositionScreen);
                            _line.v2.positionScreen.copy(_clippedVertex2PositionScreen);

                            _line.z = Math.max(_clippedVertex1PositionScreen.z, _clippedVertex2PositionScreen.z);
                            _line.renderOrder = object.renderOrder;

                            _line.material = object.material;

                            if (object.material.vertexColors === THREE.VertexColors) {

                                _line.vertexColors[0].copy(object.geometry.colors[v]);
                                _line.vertexColors[1].copy(object.geometry.colors[v - 1]);

                            }

                            _renderData.elements.push(_line);

                        }

                    }

                }

            } else if (object instanceof THREE.Sprite) {

                _vector4.set(_modelMatrix.elements[12], _modelMatrix.elements[13], _modelMatrix.elements[14], 1);
                _vector4.applyMatrix4(_viewProjectionMatrix);

                var invW = 1 / _vector4.w;

                _vector4.z *= invW;

                if (_vector4.z >= -1 && _vector4.z <= 1) {

                    _sprite = getNextSpriteInPool();
                    _sprite.id = object.id;
                    _sprite.x = _vector4.x * invW;
                    _sprite.y = _vector4.y * invW;
                    _sprite.z = _vector4.z;
                    _sprite.renderOrder = object.renderOrder;
                    _sprite.object = object;

                    _sprite.rotation = object.rotation;

                    _sprite.scale.x = object.scale.x * Math.abs(_sprite.x - (_vector4.x + camera.projectionMatrix.elements[0]) / (_vector4.w + camera.projectionMatrix.elements[12]));
                    _sprite.scale.y = object.scale.y * Math.abs(_sprite.y - (_vector4.y + camera.projectionMatrix.elements[5]) / (_vector4.w + camera.projectionMatrix.elements[13]));

                    _sprite.material = object.material;

                    _renderData.elements.push(_sprite);

                }

            }

        }

        if (sortElements === true) {

            _renderData.elements.sort(painterSort);

        }

        return _renderData;

    };

    // Pools

    function getNextObjectInPool() {

        if (_objectCount === _objectPoolLength) {

            var object = new THREE.RenderableObject();
            _objectPool.push(object);
            _objectPoolLength++;
            _objectCount++;
            return object;

        }

        return _objectPool[_objectCount++];

    }

    function getNextVertexInPool() {

        if (_vertexCount === _vertexPoolLength) {

            var vertex = new THREE.RenderableVertex();
            _vertexPool.push(vertex);
            _vertexPoolLength++;
            _vertexCount++;
            return vertex;

        }

        return _vertexPool[_vertexCount++];

    }

    function getNextFaceInPool() {

        if (_faceCount === _facePoolLength) {

            var face = new THREE.RenderableFace();
            _facePool.push(face);
            _facePoolLength++;
            _faceCount++;
            return face;

        }

        return _facePool[_faceCount++];


    }

    function getNextLineInPool() {

        if (_lineCount === _linePoolLength) {

            var line = new THREE.RenderableLine();
            _linePool.push(line);
            _linePoolLength++;
            _lineCount++;
            return line;

        }

        return _linePool[_lineCount++];

    }

    function getNextSpriteInPool() {

        if (_spriteCount === _spritePoolLength) {

            var sprite = new THREE.RenderableSprite();
            _spritePool.push(sprite);
            _spritePoolLength++;
            _spriteCount++;
            return sprite;

        }

        return _spritePool[_spriteCount++];

    }

    //

    function painterSort(a, b) {

        if (a.renderOrder !== b.renderOrder) {

            return a.renderOrder - b.renderOrder;

        } else if (a.z !== b.z) {

            return b.z - a.z;

        } else if (a.id !== b.id) {

            return a.id - b.id;

        } else {

            return 0;

        }

    }

    function clipLine(s1, s2) {

        var alpha1 = 0,
            alpha2 = 1,

            // Calculate the boundary coordinate of each vertex for the near and far clip planes,
            // Z = -1 and Z = +1, respectively.
            bc1near = s1.z + s1.w,
            bc2near = s2.z + s2.w,
            bc1far = -s1.z + s1.w,
            bc2far = -s2.z + s2.w;

        if (bc1near >= 0 && bc2near >= 0 && bc1far >= 0 && bc2far >= 0) {

            // Both vertices lie entirely within all clip planes.
            return true;

        } else if ((bc1near < 0 && bc2near < 0) || (bc1far < 0 && bc2far < 0)) {

            // Both vertices lie entirely outside one of the clip planes.
            return false;

        } else {

            // The line segment spans at least one clip plane.

            if (bc1near < 0) {

                // v1 lies outside the near plane, v2 inside
                alpha1 = Math.max(alpha1, bc1near / (bc1near - bc2near));

            } else if (bc2near < 0) {

                // v2 lies outside the near plane, v1 inside
                alpha2 = Math.min(alpha2, bc1near / (bc1near - bc2near));

            }

            if (bc1far < 0) {

                // v1 lies outside the far plane, v2 inside
                alpha1 = Math.max(alpha1, bc1far / (bc1far - bc2far));

            } else if (bc2far < 0) {

                // v2 lies outside the far plane, v2 inside
                alpha2 = Math.min(alpha2, bc1far / (bc1far - bc2far));

            }

            if (alpha2 < alpha1) {

                // The line segment spans two boundaries, but is outside both of them.
                // (This can't happen when we're only clipping against just near/far but good
                //  to leave the check here for future usage if other clip planes are added.)
                return false;

            } else {

                // Update the s1 and s2 vertices to match the clipped line segment.
                s1.lerp(s2, alpha1);
                s2.lerp(s1, 1 - alpha2);

                return true;

            }

        }

    }

};

/**
 * @license
 * Video.js 5.8.8 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
!function(a) {
    if ("object" == typeof exports && "undefined" != typeof module)
        module.exports = a();
    else if ("function" == typeof define && define.amd)
        define([], a);
    else {
        var b;
        b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, b.videojs = a()
    }
}(function() {
    var a;
    return function b(a, c, d) {
        function e(g, h) {
            if (!c[g]) {
                if (!a[g]) {
                    var i = "function" == typeof require && require;
                    if (!h && i)
                        return i(g, !0);
                    if (f)
                        return f(g, !0);
                    var j = new Error("Cannot find module '" + g + "'");
                    throw j.code = "MODULE_NOT_FOUND", j
                }
                var k = c[g] = {
                    exports: {}
                };
                a[g][0].call(k.exports, function(b) {
                    var c = a[g][1][b];
                    return e(c ? c : b)
                }, k, k.exports, b, a, c, d)
            }
            return c[g].exports
        }
        for (var f = "function" == typeof require && require, g = 0; g < d.length; g++)
            e(d[g]);
        return e
    }({
        1: [function(a, b) {
            (function(c) {
                var d = "undefined" != typeof c ? c : "undefined" != typeof window ? window : {},
                    e = a("min-document");
                if ("undefined" != typeof document)
                    b.exports = document;
                else {
                    var f = d["__GLOBAL_DOCUMENT_CACHE@4"];
                    f || (f = d["__GLOBAL_DOCUMENT_CACHE@4"] = e), b.exports = f
                }
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            "min-document": 3
        }],
        2: [function(a, b) {
            (function(a) {
                b.exports = "undefined" != typeof window ? window : "undefined" != typeof a ? a : "undefined" != typeof self ? self : {}
            }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {}],
        3: [function() {}, {}],
        4: [function(a, b) {
            var c = a("../internal/getNative"),
                d = c(Date, "now"),
                e = d || function() {
                    return (new Date).getTime()
                };
            b.exports = e
        }, {
            "../internal/getNative": 20
        }],
        5: [function(a, b) {
            function c(a, b, c) {
                function h() {
                    r && clearTimeout(r), n && clearTimeout(n), t = 0, n = r = s = void 0
                }
                function i(b, c) {
                    c && clearTimeout(c), n = r = s = void 0, b && (t = e(), o = a.apply(q, m), r || n || (m = q = void 0))
                }
                function j() {
                    var a = b - (e() - p);
                    0 >= a || a > b ? i(s, n) : r = setTimeout(j, a)
                }
                function k() {
                    i(v, r)
                }
                function l() {
                    if (m = arguments, p = e(), q = this, s = v && (r || !w), u === !1)
                        var c = w && !r;
                    else {
                        n || w || (t = p);
                        var d = u - (p - t),
                            f = 0 >= d || d > u;
                        f ? (n && (n = clearTimeout(n)), t = p, o = a.apply(q, m)) : n || (n = setTimeout(k, d))
                    }
                    return f && r ? r = clearTimeout(r) : r || b === u || (r = setTimeout(j, b)), c && (f = !0, o = a.apply(q, m)), !f || r || n || (m = q = void 0), o
                }
                var m,
                    n,
                    o,
                    p,
                    q,
                    r,
                    s,
                    t = 0,
                    u = !1,
                    v = !0;
                if ("function" != typeof a)
                    throw new TypeError(f);
                if (b = 0 > b ? 0 : +b || 0, c === !0) {
                    var w = !0;
                    v = !1
                } else
                    d(c) && (w = !!c.leading, u = "maxWait" in c && g(+c.maxWait || 0, b), v = "trailing" in c ? !!c.trailing : v);
                return l.cancel = h, l
            }
            var d = a("../lang/isObject"),
                e = a("../date/now"),
                f = "Expected a function",
                g = Math.max;
            b.exports = c
        }, {
            "../date/now": 4,
            "../lang/isObject": 33
        }],
        6: [function(a, b) {
            function c(a, b) {
                if ("function" != typeof a)
                    throw new TypeError(d);
                return b = e(void 0 === b ? a.length - 1 : +b || 0, 0), function() {
                    for (var c = arguments, d = -1, f = e(c.length - b, 0), g = Array(f); ++d < f;)
                        g[d] = c[b + d];
                    switch (b) {
                    case 0:
                        return a.call(this, g);
                    case 1:
                        return a.call(this, c[0], g);
                    case 2:
                        return a.call(this, c[0], c[1], g)
                    }
                    var h = Array(b + 1);
                    for (d = -1; ++d < b;)
                        h[d] = c[d];
                    return h[b] = g, a.apply(this, h)
                }
            }
            var d = "Expected a function",
                e = Math.max;
            b.exports = c
        }, {}],
        7: [function(a, b) {
            function c(a, b, c) {
                var g = !0,
                    h = !0;
                if ("function" != typeof a)
                    throw new TypeError(f);
                return c === !1 ? g = !1 : e(c) && (g = "leading" in c ? !!c.leading : g, h = "trailing" in c ? !!c.trailing : h), d(a, b, {
                    leading: g,
                    maxWait: +b,
                    trailing: h
                })
            }
            var d = a("./debounce"),
                e = a("../lang/isObject"),
                f = "Expected a function";
            b.exports = c
        }, {
            "../lang/isObject": 33,
            "./debounce": 5
        }],
        8: [function(a, b) {
            function c(a, b) {
                var c = -1,
                    d = a.length;
                for (b || (b = Array(d)); ++c < d;)
                    b[c] = a[c];
                return b
            }
            b.exports = c
        }, {}],
        9: [function(a, b) {
            function c(a, b) {
                for (var c = -1, d = a.length; ++c < d && b(a[c], c, a) !== !1;)
                    ;
                return a
            }
            b.exports = c
        }, {}],
        10: [function(a, b) {
            function c(a, b, c) {
                c || (c = {});
                for (var d = -1, e = b.length; ++d < e;) {
                    var f = b[d];
                    c[f] = a[f]
                }
                return c
            }
            b.exports = c
        }, {}],
        11: [function(a, b) {
            var c = a("./createBaseFor"),
                d = c();
            b.exports = d
        }, {
            "./createBaseFor": 18
        }],
        12: [function(a, b) {
            function c(a, b) {
                return d(a, b, e)
            }
            var d = a("./baseFor"),
                e = a("../object/keysIn");
            b.exports = c
        }, {
            "../object/keysIn": 39,
            "./baseFor": 11
        }],
        13: [function(a, b) {
            function c(a, b, l, m, n) {
                if (!h(a))
                    return a;
                var o = g(b) && (f(b) || j(b)),
                    p = o ? void 0 : k(b);
                return d(p || b, function(d, f) {
                    if (p && (f = d, d = b[f]), i(d))
                        m || (m = []), n || (n = []), e(a, b, f, c, l, m, n);
                    else {
                        var g = a[f],
                            h = l ? l(g, d, f, a, b) : void 0,
                            j = void 0 === h;
                        j && (h = d), void 0 === h && (!o || f in a) || !j && (h === h ? h === g : g !== g) || (a[f] = h)
                    }
                }), a
            }
            var d = a("./arrayEach"),
                e = a("./baseMergeDeep"),
                f = a("../lang/isArray"),
                g = a("./isArrayLike"),
                h = a("../lang/isObject"),
                i = a("./isObjectLike"),
                j = a("../lang/isTypedArray"),
                k = a("../object/keys");
            b.exports = c
        }, {
            "../lang/isArray": 30,
            "../lang/isObject": 33,
            "../lang/isTypedArray": 36,
            "../object/keys": 38,
            "./arrayEach": 9,
            "./baseMergeDeep": 14,
            "./isArrayLike": 21,
            "./isObjectLike": 26
        }],
        14: [function(a, b) {
            function c(a, b, c, k, l, m, n) {
                for (var o = m.length, p = b[c]; o--;)
                    if (m[o] == p)
                        return void (a[c] = n[o]);
                var q = a[c],
                    r = l ? l(q, p, c, a, b) : void 0,
                    s = void 0 === r;
                s && (r = p, g(p) && (f(p) || i(p)) ? r = f(q) ? q : g(q) ? d(q) : [] : h(p) || e(p) ? r = e(q) ? j(q) : h(q) ? q : {} : s = !1), m.push(p), n.push(r), s ? a[c] = k(r, p, l, m, n) : (r === r ? r !== q : q === q) && (a[c] = r)
            }
            var d = a("./arrayCopy"),
                e = a("../lang/isArguments"),
                f = a("../lang/isArray"),
                g = a("./isArrayLike"),
                h = a("../lang/isPlainObject"),
                i = a("../lang/isTypedArray"),
                j = a("../lang/toPlainObject");
            b.exports = c
        }, {
            "../lang/isArguments": 29,
            "../lang/isArray": 30,
            "../lang/isPlainObject": 34,
            "../lang/isTypedArray": 36,
            "../lang/toPlainObject": 37,
            "./arrayCopy": 8,
            "./isArrayLike": 21
        }],
        15: [function(a, b) {
            function c(a) {
                return function(b) {
                    return null == b ? void 0 : d(b)[a]
                }
            }
            var d = a("./toObject");
            b.exports = c
        }, {
            "./toObject": 28
        }],
        16: [function(a, b) {
            function c(a, b, c) {
                if ("function" != typeof a)
                    return d;
                if (void 0 === b)
                    return a;
                switch (c) {
                case 1:
                    return function(c) {
                        return a.call(b, c)
                    };
                case 3:
                    return function(c, d, e) {
                        return a.call(b, c, d, e)
                    };
                case 4:
                    return function(c, d, e, f) {
                        return a.call(b, c, d, e, f)
                    };
                case 5:
                    return function(c, d, e, f, g) {
                        return a.call(b, c, d, e, f, g)
                    }
                }
                return function() {
                    return a.apply(b, arguments)
                }
            }
            var d = a("../utility/identity");
            b.exports = c
        }, {
            "../utility/identity": 42
        }],
        17: [function(a, b) {
            function c(a) {
                return f(function(b, c) {
                    var f = -1,
                        g = null == b ? 0 : c.length,
                        h = g > 2 ? c[g - 2] : void 0,
                        i = g > 2 ? c[2] : void 0,
                        j = g > 1 ? c[g - 1] : void 0;
                    for ("function" == typeof h ? (h = d(h, j, 5), g -= 2) : (h = "function" == typeof j ? j : void 0, g -= h ? 1 : 0), i && e(c[0], c[1], i) && (h = 3 > g ? void 0 : h, g = 1); ++f < g;) {
                        var k = c[f];
                        k && a(b, k, h)
                    }
                    return b
                })
            }
            var d = a("./bindCallback"),
                e = a("./isIterateeCall"),
                f = a("../function/restParam");
            b.exports = c
        }, {
            "../function/restParam": 6,
            "./bindCallback": 16,
            "./isIterateeCall": 24
        }],
        18: [function(a, b) {
            function c(a) {
                return function(b, c, e) {
                    for (var f = d(b), g = e(b), h = g.length, i = a ? h : -1; a ? i-- : ++i < h;) {
                        var j = g[i];
                        if (c(f[j], j, f) === !1)
                            break
                    }
                    return b
                }
            }
            var d = a("./toObject");
            b.exports = c
        }, {
            "./toObject": 28
        }],
        19: [function(a, b) {
            var c = a("./baseProperty"),
                d = c("length");
            b.exports = d
        }, {
            "./baseProperty": 15
        }],
        20: [function(a, b) {
            function c(a, b) {
                var c = null == a ? void 0 : a[b];
                return d(c) ? c : void 0
            }
            var d = a("../lang/isNative");
            b.exports = c
        }, {
            "../lang/isNative": 32
        }],
        21: [function(a, b) {
            function c(a) {
                return null != a && e(d(a))
            }
            var d = a("./getLength"),
                e = a("./isLength");
            b.exports = c
        }, {
            "./getLength": 19,
            "./isLength": 25
        }],
        22: [function(a, b) {
            var c = function() {
                try {
                    Object({
                        toString: 0
                    } + "")
                } catch (a) {
                    return function() {
                        return !1
                    }
                }
                return function(a) {
                    return "function" != typeof a.toString && "string" == typeof (a + "")
                }
            }();
            b.exports = c
        }, {}],
        23: [function(a, b) {
            function c(a, b) {
                return a = "number" == typeof a || d.test(a) ? +a : -1, b = null == b ? e : b, a > -1 && a % 1 == 0 && b > a
            }
            var d = /^\d+$/,
                e = 9007199254740991;
            b.exports = c
        }, {}],
        24: [function(a, b) {
            function c(a, b, c) {
                if (!f(c))
                    return !1;
                var g = typeof b;
                if ("number" == g ? d(c) && e(b, c.length) : "string" == g && b in c) {
                    var h = c[b];
                    return a === a ? a === h : h !== h
                }
                return !1
            }
            var d = a("./isArrayLike"),
                e = a("./isIndex"),
                f = a("../lang/isObject");
            b.exports = c
        }, {
            "../lang/isObject": 33,
            "./isArrayLike": 21,
            "./isIndex": 23
        }],
        25: [function(a, b) {
            function c(a) {
                return "number" == typeof a && a > -1 && a % 1 == 0 && d >= a
            }
            var d = 9007199254740991;
            b.exports = c
        }, {}],
        26: [function(a, b) {
            function c(a) {
                return !!a && "object" == typeof a
            }
            b.exports = c
        }, {}],
        27: [function(a, b) {
            function c(a) {
                for (var b = i(a), c = b.length, j = c && a.length, l = !!j && g(j) && (e(a) || d(a) || h(a)), m = -1, n = []; ++m < c;) {
                    var o = b[m];
                    (l && f(o, j) || k.call(a, o)) && n.push(o)
                }
                return n
            }
            var d = a("../lang/isArguments"),
                e = a("../lang/isArray"),
                f = a("./isIndex"),
                g = a("./isLength"),
                h = a("../lang/isString"),
                i = a("../object/keysIn"),
                j = Object.prototype,
                k = j.hasOwnProperty;
            b.exports = c
        }, {
            "../lang/isArguments": 29,
            "../lang/isArray": 30,
            "../lang/isString": 35,
            "../object/keysIn": 39,
            "./isIndex": 23,
            "./isLength": 25
        }],
        28: [function(a, b) {
            function c(a) {
                if (f.unindexedChars && e(a)) {
                    for (var b = -1, c = a.length, g = Object(a); ++b < c;)
                        g[b] = a.charAt(b);
                    return g
                }
                return d(a) ? a : Object(a)
            }
            var d = a("../lang/isObject"),
                e = a("../lang/isString"),
                f = a("../support");
            b.exports = c
        }, {
            "../lang/isObject": 33,
            "../lang/isString": 35,
            "../support": 41
        }],
        29: [function(a, b) {
            function c(a) {
                return e(a) && d(a) && g.call(a, "callee") && !h.call(a, "callee")
            }
            var d = a("../internal/isArrayLike"),
                e = a("../internal/isObjectLike"),
                f = Object.prototype,
                g = f.hasOwnProperty,
                h = f.propertyIsEnumerable;
            b.exports = c
        }, {
            "../internal/isArrayLike": 21,
            "../internal/isObjectLike": 26
        }],
        30: [function(a, b) {
            var c = a("../internal/getNative"),
                d = a("../internal/isLength"),
                e = a("../internal/isObjectLike"),
                f = "[object Array]",
                g = Object.prototype,
                h = g.toString,
                i = c(Array, "isArray"),
                j = i || function(a) {
                    return e(a) && d(a.length) && h.call(a) == f
                };
            b.exports = j
        }, {
            "../internal/getNative": 20,
            "../internal/isLength": 25,
            "../internal/isObjectLike": 26
        }],
        31: [function(a, b) {
            function c(a) {
                return d(a) && g.call(a) == e
            }
            var d = a("./isObject"),
                e = "[object Function]",
                f = Object.prototype,
                g = f.toString;
            b.exports = c
        }, {
            "./isObject": 33
        }],
        32: [function(a, b) {
            function c(a) {
                return null == a ? !1 : d(a) ? k.test(i.call(a)) : f(a) && (e(a) ? k : g).test(a)
            }
            var d = a("./isFunction"),
                e = a("../internal/isHostObject"),
                f = a("../internal/isObjectLike"),
                g = /^\[object .+?Constructor\]$/,
                h = Object.prototype,
                i = Function.prototype.toString,
                j = h.hasOwnProperty,
                k = RegExp("^" + i.call(j).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
            b.exports = c
        }, {
            "../internal/isHostObject": 22,
            "../internal/isObjectLike": 26,
            "./isFunction": 31
        }],
        33: [function(a, b) {
            function c(a) {
                var b = typeof a;
                return !!a && ("object" == b || "function" == b)
            }
            b.exports = c
        }, {}],
        34: [function(a, b) {
            function c(a) {
                var b;
                if (!g(a) || l.call(a) != i || f(a) || e(a) || !k.call(a, "constructor") && (b = a.constructor, "function" == typeof b && !(b instanceof b)))
                    return !1;
                var c;
                return h.ownLast ? (d(a, function(a, b, d) {
                    return c = k.call(d, b), !1
                }), c !== !1) : (d(a, function(a, b) {
                    c = b
                }), void 0 === c || k.call(a, c))
            }
            var d = a("../internal/baseForIn"),
                e = a("./isArguments"),
                f = a("../internal/isHostObject"),
                g = a("../internal/isObjectLike"),
                h = a("../support"),
                i = "[object Object]",
                j = Object.prototype,
                k = j.hasOwnProperty,
                l = j.toString;
            b.exports = c
        }, {
            "../internal/baseForIn": 12,
            "../internal/isHostObject": 22,
            "../internal/isObjectLike": 26,
            "../support": 41,
            "./isArguments": 29
        }],
        35: [function(a, b) {
            function c(a) {
                return "string" == typeof a || d(a) && g.call(a) == e
            }
            var d = a("../internal/isObjectLike"),
                e = "[object String]",
                f = Object.prototype,
                g = f.toString;
            b.exports = c
        }, {
            "../internal/isObjectLike": 26
        }],
        36: [function(a, b) {
            function c(a) {
                return e(a) && d(a.length) && !!C[E.call(a)]
            }
            var d = a("../internal/isLength"),
                e = a("../internal/isObjectLike"),
                f = "[object Arguments]",
                g = "[object Array]",
                h = "[object Boolean]",
                i = "[object Date]",
                j = "[object Error]",
                k = "[object Function]",
                l = "[object Map]",
                m = "[object Number]",
                n = "[object Object]",
                o = "[object RegExp]",
                p = "[object Set]",
                q = "[object String]",
                r = "[object WeakMap]",
                s = "[object ArrayBuffer]",
                t = "[object Float32Array]",
                u = "[object Float64Array]",
                v = "[object Int8Array]",
                w = "[object Int16Array]",
                x = "[object Int32Array]",
                y = "[object Uint8Array]",
                z = "[object Uint8ClampedArray]",
                A = "[object Uint16Array]",
                B = "[object Uint32Array]",
                C = {};
            C[t] = C[u] = C[v] = C[w] = C[x] = C[y] = C[z] = C[A] = C[B] = !0, C[f] = C[g] = C[s] = C[h] = C[i] = C[j] = C[k] = C[l] = C[m] = C[n] = C[o] = C[p] = C[q] = C[r] = !1;
            var D = Object.prototype,
                E = D.toString;
            b.exports = c
        }, {
            "../internal/isLength": 25,
            "../internal/isObjectLike": 26
        }],
        37: [function(a, b) {
            function c(a) {
                return d(a, e(a))
            }
            var d = a("../internal/baseCopy"),
                e = a("../object/keysIn");
            b.exports = c
        }, {
            "../internal/baseCopy": 10,
            "../object/keysIn": 39
        }],
        38: [function(a, b) {
            var c = a("../internal/getNative"),
                d = a("../internal/isArrayLike"),
                e = a("../lang/isObject"),
                f = a("../internal/shimKeys"),
                g = a("../support"),
                h = c(Object, "keys"),
                i = h ? function(a) {
                    var b = null == a ? void 0 : a.constructor;
                    return "function" == typeof b && b.prototype === a || ("function" == typeof a ? g.enumPrototypes : d(a)) ? f(a) : e(a) ? h(a) : []
                } : f;
            b.exports = i
        }, {
            "../internal/getNative": 20,
            "../internal/isArrayLike": 21,
            "../internal/shimKeys": 27,
            "../lang/isObject": 33,
            "../support": 41
        }],
        39: [function(a, b) {
            function c(a) {
                if (null == a)
                    return [];
                j(a) || (a = Object(a));
                var b = a.length;
                b = b && i(b) && (f(a) || e(a) || k(a)) && b || 0;
                for (var c = a.constructor, d = -1, m = g(c) && c.prototype || x, n = m === a, o = Array(b), q = b > 0, r = l.enumErrorProps && (a === w || a instanceof Error), t = l.enumPrototypes && g(a); ++d < b;)
                    o[d] = d + "";
                for (var C in a)
                    t && "prototype" == C || r && ("message" == C || "name" == C) || q && h(C, b) || "constructor" == C && (n || !z.call(a, C)) || o.push(C);
                if (l.nonEnumShadows && a !== x) {
                    var D = a === y ? u : a === w ? p : A.call(a),
                        E = B[D] || B[s];
                    for (D == s && (m = x), b = v.length; b--;) {
                        C = v[b];
                        var F = E[C];
                        n && F || (F ? !z.call(a, C) : a[C] === m[C]) || o.push(C)
                    }
                }
                return o
            }
            var d = a("../internal/arrayEach"),
                e = a("../lang/isArguments"),
                f = a("../lang/isArray"),
                g = a("../lang/isFunction"),
                h = a("../internal/isIndex"),
                i = a("../internal/isLength"),
                j = a("../lang/isObject"),
                k = a("../lang/isString"),
                l = a("../support"),
                m = "[object Array]",
                n = "[object Boolean]",
                o = "[object Date]",
                p = "[object Error]",
                q = "[object Function]",
                r = "[object Number]",
                s = "[object Object]",
                t = "[object RegExp]",
                u = "[object String]",
                v = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"],
                w = Error.prototype,
                x = Object.prototype,
                y = String.prototype,
                z = x.hasOwnProperty,
                A = x.toString,
                B = {};
            B[m] = B[o] = B[r] = {
                constructor: !0,
                toLocaleString: !0,
                toString: !0,
                valueOf: !0
            }, B[n] = B[u] = {
                constructor: !0,
                toString: !0,
                valueOf: !0
            }, B[p] = B[q] = B[t] = {
                constructor: !0,
                toString: !0
            }, B[s] = {
                constructor: !0
            }, d(v, function(a) {
                for (var b in B)
                    if (z.call(B, b)) {
                        var c = B[b];
                        c[a] = z.call(c, a)
                    }
            }), b.exports = c
        }, {
            "../internal/arrayEach": 9,
            "../internal/isIndex": 23,
            "../internal/isLength": 25,
            "../lang/isArguments": 29,
            "../lang/isArray": 30,
            "../lang/isFunction": 31,
            "../lang/isObject": 33,
            "../lang/isString": 35,
            "../support": 41
        }],
        40: [function(a, b) {
            var c = a("../internal/baseMerge"),
                d = a("../internal/createAssigner"),
                e = d(c);
            b.exports = e
        }, {
            "../internal/baseMerge": 13,
            "../internal/createAssigner": 17
        }],
        41: [function(a, b) {
            var c = Array.prototype,
                d = Error.prototype,
                e = Object.prototype,
                f = e.propertyIsEnumerable,
                g = c.splice,
                h = {};
            !function(a) {
                var b = function() {
                        this.x = a
                    },
                    c = {
                        0: a,
                        length: a
                    },
                    e = [];
                b.prototype = {
                    valueOf: a,
                    y: a
                };
                for (var i in new b)
                    e.push(i);
                h.enumErrorProps = f.call(d, "message") || f.call(d, "name"), h.enumPrototypes = f.call(b, "prototype"), h.nonEnumShadows = !/valueOf/.test(e), h.ownLast = "x" != e[0], h.spliceObjects = (g.call(c, 0, 1), !c[0]), h.unindexedChars = "x"[0] + Object("x")[0] != "xx"
            }(1, 0), b.exports = h
        }, {}],
        42: [function(a, b) {
            function c(a) {
                return a
            }
            b.exports = c
        }, {}],
        43: [function(a, b) {
            "use strict";
            var c = a("object-keys");
            b.exports = function() {
                if ("function" != typeof Symbol || "function" != typeof Object.getOwnPropertySymbols)
                    return !1;
                if ("symbol" == typeof Symbol.iterator)
                    return !0;
                var a = {},
                    b = Symbol("test");
                if ("string" == typeof b)
                    return !1;
                var d = 42;
                a[b] = d;
                for (b in a)
                    return !1;
                if (0 !== c(a).length)
                    return !1;
                if ("function" == typeof Object.keys && 0 !== Object.keys(a).length)
                    return !1;
                if ("function" == typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(a).length)
                    return !1;
                var e = Object.getOwnPropertySymbols(a);
                if (1 !== e.length || e[0] !== b)
                    return !1;
                if (!Object.prototype.propertyIsEnumerable.call(a, b))
                    return !1;
                if ("function" == typeof Object.getOwnPropertyDescriptor) {
                    var f = Object.getOwnPropertyDescriptor(a, b);
                    if (f.value !== d || f.enumerable !== !0)
                        return !1
                }
                return !0
            }
        }, {
            "object-keys": 50
        }],
        44: [function(a, b) {
            "use strict";
            var c = a("object-keys"),
                d = a("function-bind"),
                e = function(a) {
                    return "undefined" != typeof a && null !== a
                },
                f = a("./hasSymbols")(),
                g = Object,
                h = d.call(Function.call, Array.prototype.push),
                i = d.call(Function.call, Object.prototype.propertyIsEnumerable);
            b.exports = function(a) {
                if (!e(a))
                    throw new TypeError("target must be an object");
                var b,
                    d,
                    j,
                    k,
                    l,
                    m,
                    n,
                    o = g(a);
                for (b = 1; b < arguments.length; ++b) {
                    if (d = g(arguments[b]), k = c(d), f && Object.getOwnPropertySymbols)
                        for (l = Object.getOwnPropertySymbols(d), j = 0; j < l.length; ++j)
                            n = l[j], i(d, n) && h(k, n);
                    for (j = 0; j < k.length; ++j)
                        n = k[j], m = d[n], i(d, n) && (o[n] = m)
                }
                return o
            }
        }, {
            "./hasSymbols": 43,
            "function-bind": 49,
            "object-keys": 50
        }],
        45: [function(a, b) {
            "use strict";
            var c = a("define-properties"),
                d = a("./implementation"),
                e = a("./polyfill"),
                f = a("./shim");
            c(d, {
                implementation: d,
                getPolyfill: e,
                shim: f
            }), b.exports = d
        }, {
            "./implementation": 44,
            "./polyfill": 52,
            "./shim": 53,
            "define-properties": 46
        }],
        46: [function(a, b) {
            "use strict";
            var c = a("object-keys"),
                d = a("foreach"),
                e = "function" == typeof Symbol && "symbol" == typeof Symbol(),
                f = Object.prototype.toString,
                g = function(a) {
                    return "function" == typeof a && "[object Function]" === f.call(a)
                },
                h = function() {
                    var a = {};
                    try {
                        Object.defineProperty(a, "x", {
                            enumerable: !1,
                            value: a
                        });
                        for (var b in a)
                            return !1;
                        return a.x === a
                    } catch (c) {
                        return !1
                    }
                },
                i = Object.defineProperty && h(),
                j = function(a, b, c, d) {
                    (!(b in a) || g(d) && d()) && (i ? Object.defineProperty(a, b, {
                        configurable: !0,
                        enumerable: !1,
                        value: c,
                        writable: !0
                    }) : a[b] = c)
                },
                k = function(a, b) {
                    var f = arguments.length > 2 ? arguments[2] : {},
                        g = c(b);
                    e && (g = g.concat(Object.getOwnPropertySymbols(b))), d(g, function(c) {
                        j(a, c, b[c], f[c])
                    })
                };
            k.supportsDescriptors = !!i, b.exports = k
        }, {
            foreach: 47,
            "object-keys": 50
        }],
        47: [function(a, b) {
            var c = Object.prototype.hasOwnProperty,
                d = Object.prototype.toString;
            b.exports = function(a, b, e) {
                if ("[object Function]" !== d.call(b))
                    throw new TypeError("iterator must be a function");
                var f = a.length;
                if (f === +f)
                    for (var g = 0; f > g; g++)
                        b.call(e, a[g], g, a);
                else
                    for (var h in a)
                        c.call(a, h) && b.call(e, a[h], h, a)
            }
        }, {}],
        48: [function(a, b) {
            var c = "Function.prototype.bind called on incompatible ",
                d = Array.prototype.slice,
                e = Object.prototype.toString,
                f = "[object Function]";
            b.exports = function(a) {
                var b = this;
                if ("function" != typeof b || e.call(b) !== f)
                    throw new TypeError(c + b);
                for (var g, h = d.call(arguments, 1), i = function() {
                        if (this instanceof g) {
                            var c = b.apply(this, h.concat(d.call(arguments)));
                            return Object(c) === c ? c : this
                        }
                        return b.apply(a, h.concat(d.call(arguments)))
                    }, j = Math.max(0, b.length - h.length), k = [], l = 0; j > l; l++)
                    k.push("$" + l);
                if (g = Function("binder", "return function (" + k.join(",") + "){ return binder.apply(this,arguments); }")(i), b.prototype) {
                    var m = function() {};
                    m.prototype = b.prototype, g.prototype = new m, m.prototype = null
                }
                return g
            }
        }, {}],
        49: [function(a, b) {
            var c = a("./implementation");
            b.exports = Function.prototype.bind || c
        }, {
            "./implementation": 48
        }],
        50: [function(a, b) {
            "use strict";
            var c = Object.prototype.hasOwnProperty,
                d = Object.prototype.toString,
                e = Array.prototype.slice,
                f = a("./isArguments"),
                g = !{
                    toString: null
                }.propertyIsEnumerable("toString"),
                h = function() {}.propertyIsEnumerable("prototype"),
                i = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
                j = function(a) {
                    var b = a.constructor;
                    return b && b.prototype === a
                },
                k = {
                    $console: !0,
                    $frame: !0,
                    $frameElement: !0,
                    $frames: !0,
                    $parent: !0,
                    $self: !0,
                    $webkitIndexedDB: !0,
                    $webkitStorageInfo: !0,
                    $window: !0
                },
                l = function() {
                    if ("undefined" == typeof window)
                        return !1;
                    for (var a in window)
                        try {
                            if (!k["$" + a] && c.call(window, a) && null !== window[a] && "object" == typeof window[a])
                                try {
                                    j(window[a])
                                } catch (b) {
                                    return !0
                                }
                        } catch (b) {
                            return !0
                        }
                    return !1
                }(),
                m = function(a) {
                    if ("undefined" == typeof window || !l)
                        return j(a);
                    try {
                        return j(a)
                    } catch (b) {
                        return !1
                    }
                },
                n = function(a) {
                    var b = null !== a && "object" == typeof a,
                        e = "[object Function]" === d.call(a),
                        j = f(a),
                        k = b && "[object String]" === d.call(a),
                        l = [];
                    if (!b && !e && !j)
                        throw new TypeError("Object.keys called on a non-object");
                    var n = h && e;
                    if (k && a.length > 0 && !c.call(a, 0))
                        for (var o = 0; o < a.length; ++o)
                            l.push(String(o));
                    if (j && a.length > 0)
                        for (var p = 0; p < a.length; ++p)
                            l.push(String(p));
                    else
                        for (var q in a)
                            n && "prototype" === q || !c.call(a, q) || l.push(String(q));
                    if (g)
                        for (var r = m(a), s = 0; s < i.length; ++s)
                            r && "constructor" === i[s] || !c.call(a, i[s]) || l.push(i[s]);
                    return l
                };
            n.shim = function() {
                if (Object.keys) {
                    var a = function() {
                        return 2 === (Object.keys(arguments) || "").length
                    }(1, 2);
                    if (!a) {
                        var b = Object.keys;
                        Object.keys = function(a) {
                            return b(f(a) ? e.call(a) : a)
                        }
                    }
                } else
                    Object.keys = n;
                return Object.keys || n
            }, b.exports = n
        }, {
            "./isArguments": 51
        }],
        51: [function(a, b) {
            "use strict";
            var c = Object.prototype.toString;
            b.exports = function(a) {
                var b = c.call(a),
                    d = "[object Arguments]" === b;
                return d || (d = "[object Array]" !== b && null !== a && "object" == typeof a && "number" == typeof a.length && a.length >= 0 && "[object Function]" === c.call(a.callee)), d
            }
        }, {}],
        52: [function(a, b) {
            "use strict";
            var c = a("./implementation"),
                d = function() {
                    if (!Object.assign)
                        return !1;
                    for (var a = "abcdefghijklmnopqrst", b = a.split(""), c = {}, d = 0; d < b.length; ++d)
                        c[b[d]] = b[d];
                    var e = Object.assign({}, c),
                        f = "";
                    for (var g in e)
                        f += g;
                    return a !== f
                },
                e = function() {
                    if (!Object.assign || !Object.preventExtensions)
                        return !1;
                    var a = Object.preventExtensions({
                        1: 2
                    });
                    try {
                        Object.assign(a, "xy")
                    } catch (b) {
                        return "y" === a[1]
                    }
                };
            b.exports = function() {
                return Object.assign ? d() ? c : e() ? c : Object.assign : c
            }
        }, {
            "./implementation": 44
        }],
        53: [function(a, b) {
            "use strict";
            var c = a("define-properties"),
                d = a("./polyfill");
            b.exports = function() {
                var a = d();
                return c(Object, {
                    assign: a
                }, {
                    assign: function() {
                        return Object.assign !== a
                    }
                }), a
            }
        }, {
            "./polyfill": 52,
            "define-properties": 46
        }],
        54: [function(a, b) {
            function c(a, b) {
                var c,
                    d = null;
                try {
                    c = JSON.parse(a, b)
                } catch (e) {
                    d = e
                }
                return [d, c]
            }
            b.exports = c
        }, {}],
        55: [function(a, b) {
            function c(a) {
                return a.replace(/\n\r?\s*/g, "")
            }
            b.exports = function(a) {
                for (var b = "", d = 0; d < arguments.length; d++)
                    b += c(a[d]) + (arguments[d + 1] || "");
                return b
            }
        }, {}],
        56: [function(a, b) {
            "use strict";
            function c(a, b) {
                for (var c = 0; c < a.length; c++)
                    b(a[c])
            }
            function d(a) {
                for (var b in a)
                    if (a.hasOwnProperty(b))
                        return !1;
                return !0
            }
            function e(a, b, c) {
                var d = a;
                return k(b) ? (c = b, "string" == typeof a && (d = {
                    uri: a
                })) : d = m(b, {
                    uri: a
                }), d.callback = c, d
            }
            function f(a, b, c) {
                return b = e(a, b, c), g(b)
            }
            function g(a) {
                function b() {
                    4 === k.readyState && g()
                }
                function c() {
                    var a = void 0;
                    if (k.response ? a = k.response : "text" !== k.responseType && k.responseType || (a = k.responseText || k.responseXML), u)
                        try {
                            a = JSON.parse(a)
                        } catch (b) {}
                    return a
                }
                function e(a) {
                    clearTimeout(o), a instanceof Error || (a = new Error("" + (a || "Unknown XMLHttpRequest Error"))), a.statusCode = 0, h(a, i)
                }
                function g() {
                    if (!n) {
                        var b;
                        clearTimeout(o), b = a.useXDR && void 0 === k.status ? 200 : 1223 === k.status ? 204 : k.status;
                        var d = i,
                            e = null;
                        0 !== b ? (d = {
                            body: c(),
                            statusCode: b,
                            method: q,
                            headers: {},
                            url: p,
                            rawRequest: k
                        }, k.getAllResponseHeaders && (d.headers = l(k.getAllResponseHeaders()))) : e = new Error("Internal XMLHttpRequest Error"), h(e, d, d.body)
                    }
                }
                var h = a.callback;
                if ("undefined" == typeof h)
                    throw new Error("callback argument missing");
                h = j(h);
                var i = {
                        body: void 0,
                        headers: {},
                        statusCode: 0,
                        method: q,
                        url: p,
                        rawRequest: k
                    },
                    k = a.xhr || null;
                k || (k = a.cors || a.useXDR ? new f.XDomainRequest : new f.XMLHttpRequest);
                var m,
                    n,
                    o,
                    p = k.url = a.uri || a.url,
                    q = k.method = a.method || "GET",
                    r = a.body || a.data || null,
                    s = k.headers = a.headers || {},
                    t = !!a.sync,
                    u = !1;
                if ("json" in a && (u = !0, s.accept || s.Accept || (s.Accept = "application/json"), "GET" !== q && "HEAD" !== q && (s["content-type"] || s["Content-Type"] || (s["Content-Type"] = "application/json"), r = JSON.stringify(a.json))), k.onreadystatechange = b, k.onload = g, k.onerror = e, k.onprogress = function() {}, k.ontimeout = e, k.open(q, p, !t, a.username, a.password), t || (k.withCredentials = !!a.withCredentials), !t && a.timeout > 0 && (o = setTimeout(function() {
                    n = !0, k.abort("timeout");
                    var a = new Error("XMLHttpRequest timeout");
                    a.code = "ETIMEDOUT", e(a)
                }, a.timeout)), k.setRequestHeader)
                    for (m in s)
                        s.hasOwnProperty(m) && k.setRequestHeader(m, s[m]);
                else if (a.headers && !d(a.headers))
                    throw new Error("Headers cannot be set on an XDomainRequest object");
                return "responseType" in a && (k.responseType = a.responseType), "beforeSend" in a && "function" == typeof a.beforeSend && a.beforeSend(k), k.send(r), k
            }
            function h() {}
            var i = a("global/window"),
                j = a("once"),
                k = a("is-function"),
                l = a("parse-headers"),
                m = a("xtend");
            b.exports = f, f.XMLHttpRequest = i.XMLHttpRequest || h, f.XDomainRequest = "withCredentials" in new f.XMLHttpRequest ? f.XMLHttpRequest : i.XDomainRequest, c(["get", "put", "post", "patch", "head", "delete"], function(a) {
                f["delete" === a ? "del" : a] = function(b, c, d) {
                    return c = e(b, c, d), c.method = a.toUpperCase(), g(c)
                }
            })
        }, {
            "global/window": 2,
            "is-function": 57,
            once: 58,
            "parse-headers": 61,
            xtend: 62
        }],
        57: [function(a, b) {
            function c(a) {
                var b = d.call(a);
                return "[object Function]" === b || "function" == typeof a && "[object RegExp]" !== b || "undefined" != typeof window && (a === window.setTimeout || a === window.alert || a === window.confirm || a === window.prompt)
            }
            b.exports = c;
            var d = Object.prototype.toString
        }, {}],
        58: [function(a, b) {
            function c(a) {
                var b = !1;
                return function() {
                    return b ? void 0 : (b = !0, a.apply(this, arguments))
                }
            }
            b.exports = c, c.proto = c(function() {
                Object.defineProperty(Function.prototype, "once", {
                    value: function() {
                        return c(this)
                    },
                    configurable: !0
                })
            })
        }, {}],
        59: [function(a, b) {
            function c(a, b, c) {
                if (!g(b))
                    throw new TypeError("iterator must be a function");
                arguments.length < 3 && (c = this), "[object Array]" === h.call(a) ? d(a, b, c) : "string" == typeof a ? e(a, b, c) : f(a, b, c)
            }
            function d(a, b, c) {
                for (var d = 0, e = a.length; e > d; d++)
                    i.call(a, d) && b.call(c, a[d], d, a)
            }
            function e(a, b, c) {
                for (var d = 0, e = a.length; e > d; d++)
                    b.call(c, a.charAt(d), d, a)
            }
            function f(a, b, c) {
                for (var d in a)
                    i.call(a, d) && b.call(c, a[d], d, a)
            }
            var g = a("is-function");
            b.exports = c;
            var h = Object.prototype.toString,
                i = Object.prototype.hasOwnProperty
        }, {
            "is-function": 57
        }],
        60: [function(a, b, c) {
            function d(a) {
                return a.replace(/^\s*|\s*$/g, "")
            }
            c = b.exports = d, c.left = function(a) {
                return a.replace(/^\s*/, "")
            }, c.right = function(a) {
                return a.replace(/\s*$/, "")
            }
        }, {}],
        61: [function(a, b) {
            var c = a("trim"),
                d = a("for-each"),
                e = function(a) {
                    return "[object Array]" === Object.prototype.toString.call(a)
                };
            b.exports = function(a) {
                if (!a)
                    return {};
                var b = {};
                return d(c(a).split("\n"), function(a) {
                    var d = a.indexOf(":"),
                        f = c(a.slice(0, d)).toLowerCase(),
                        g = c(a.slice(d + 1));
                    "undefined" == typeof b[f] ? b[f] = g : e(b[f]) ? b[f].push(g) : b[f] = [b[f], g]
                }), b
            }
        }, {
            "for-each": 59,
            trim: 60
        }],
        62: [function(a, b) {
            function c() {
                for (var a = {}, b = 0; b < arguments.length; b++) {
                    var c = arguments[b];
                    for (var e in c)
                        d.call(c, e) && (a[e] = c[e])
                }
                return a
            }
            b.exports = c;
            var d = Object.prototype.hasOwnProperty
        }, {}],
        63: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("./button.js"),
                h = d(g),
                i = a("./component.js"),
                j = d(i),
                k = function(a) {
                    function b(c, d) {
                        e(this, b), a.call(this, c, d)
                    }
                    return f(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-big-play-button"
                    }, b.prototype.handleClick = function() {
                        this.player_.play()
                    }, b
                }(h["default"]);
            k.prototype.controlText_ = "Play Video", j["default"].registerComponent("BigPlayButton", k), c["default"] = k, b.exports = c["default"]
        }, {
            "./button.js": 64,
            "./component.js": 67
        }],
        64: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("./clickable-component.js"),
                i = e(h),
                j = a("./component"),
                k = e(j),
                l = a("./utils/events.js"),
                m = (d(l), a("./utils/fn.js")),
                n = (d(m), a("./utils/log.js")),
                o = e(n),
                p = a("global/document"),
                q = (e(p), a("object.assign")),
                r = e(q),
                s = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d)
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        var a = arguments.length <= 0 || void 0 === arguments[0] ? "button" : arguments[0],
                            b = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
                            c = arguments.length <= 2 || void 0 === arguments[2] ? {} : arguments[2];
                        b = r["default"]({
                            className: this.buildCSSClass()
                        }, b), "button" !== a && o["default"].warn("Creating a Button with an HTML element of " + a + " is deprecated; use ClickableComponent instead."), c = r["default"]({
                            type: "button",
                            "aria-live": "polite"
                        }, c);
                        var d = k["default"].prototype.createEl.call(this, a, b, c);
                        return this.createControlTextEl(d), d
                    }, b.prototype.addChild = function(a) {
                        var b = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
                            c = this.constructor.name;
                        return o["default"].warn("Adding an actionable (user controllable) child to a Button (" + c + ") is not supported; use a ClickableComponent instead."), k["default"].prototype.addChild.call(this, a, b)
                    }, b.prototype.handleKeyPress = function(b) {
                        32 === b.which || 13 === b.which || a.prototype.handleKeyPress.call(this, b)
                    }, b
                }(i["default"]);
            k["default"].registerComponent("Button", s), c["default"] = s, b.exports = c["default"]
        }, {
            "./clickable-component.js": 65,
            "./component": 67,
            "./utils/events.js": 133,
            "./utils/fn.js": 134,
            "./utils/log.js": 137,
            "global/document": 1,
            "object.assign": 45
        }],
        65: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("./component"),
                i = e(h),
                j = a("./utils/dom.js"),
                k = d(j),
                l = a("./utils/events.js"),
                m = d(l),
                n = a("./utils/fn.js"),
                o = d(n),
                p = a("./utils/log.js"),
                q = e(p),
                r = a("global/document"),
                s = e(r),
                t = a("object.assign"),
                u = e(t),
                v = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.emitTapEvents(), this.on("tap", this.handleClick), this.on("click", this.handleClick), this.on("focus", this.handleFocus), this.on("blur", this.handleBlur)
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        var b = arguments.length <= 0 || void 0 === arguments[0] ? "div" : arguments[0],
                            c = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
                            d = arguments.length <= 2 || void 0 === arguments[2] ? {} : arguments[2];
                        c = u["default"]({
                            className: this.buildCSSClass(),
                            tabIndex: 0
                        }, c), "button" === b && q["default"].error("Creating a ClickableComponent with an HTML element of " + b + " is not supported; use a Button instead."), d = u["default"]({
                            role: "button",
                            "aria-live": "polite"
                        }, d);
                        var e = a.prototype.createEl.call(this, b, c, d);
                        return this.createControlTextEl(e), e
                    }, b.prototype.createControlTextEl = function(a) {
                        return this.controlTextEl_ = k.createEl("span", {
                            className: "vjs-control-text"
                        }), a && a.appendChild(this.controlTextEl_), this.controlText(this.controlText_), this.controlTextEl_
                    }, b.prototype.controlText = function(a) {
                        return a ? (this.controlText_ = a, this.controlTextEl_.innerHTML = this.localize(this.controlText_), this) : this.controlText_ || "Need Text"
                    }, b.prototype.buildCSSClass = function() {
                        return "vjs-control vjs-button " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.addChild = function(b) {
                        var c = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                        return a.prototype.addChild.call(this, b, c)
                    }, b.prototype.handleClick = function() {}, b.prototype.handleFocus = function() {
                        m.on(s["default"], "keydown", o.bind(this, this.handleKeyPress))
                    }, b.prototype.handleKeyPress = function(b) {
                        32 === b.which || 13 === b.which ? (b.preventDefault(), this.handleClick(b)) : a.prototype.handleKeyPress && a.prototype.handleKeyPress.call(this, b)
                    }, b.prototype.handleBlur = function() {
                        m.off(s["default"], "keydown", o.bind(this, this.handleKeyPress))
                    }, b
                }(i["default"]);
            i["default"].registerComponent("ClickableComponent", v), c["default"] = v, b.exports = c["default"]
        }, {
            "./component": 67,
            "./utils/dom.js": 132,
            "./utils/events.js": 133,
            "./utils/fn.js": 134,
            "./utils/log.js": 137,
            "global/document": 1,
            "object.assign": 45
        }],
        66: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function");

            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("./button"),
                h = d(g),
                i = a("./component"),
                j = d(i),
                k = function(a) {
                    function b(c, d) {
                        e(this, b), a.call(this, c, d), this.controlText(d && d.controlText || this.localize("Close"))
                    }
                    return f(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-close-button " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.handleClick = function() {
                        this.trigger({
                            type: "close",
                            bubbles: !1
                        })
                    }, b
                }(h["default"]);
            j["default"].registerComponent("CloseButton", k), c["default"] = k, b.exports = c["default"]
        }, {
            "./button": 64,
            "./component": 67
        }],
        67: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            c.__esModule = !0;
            var g = a("global/window"),
                h = e(g),
                i = a("./utils/dom.js"),
                j = d(i),
                k = a("./utils/fn.js"),
                l = d(k),
                m = a("./utils/guid.js"),
                n = d(m),
                o = a("./utils/events.js"),
                p = d(o),
                q = a("./utils/log.js"),
                r = e(q),
                s = a("./utils/to-title-case.js"),
                t = e(s),
                u = a("object.assign"),
                v = e(u),
                w = a("./utils/merge-options.js"),
                x = e(w),
                y = function() {
                    function a(b, c, d) {
                        if (f(this, a), this.player_ = !b && this.play ? b = this : b, this.options_ = x["default"]({}, this.options_), c = this.options_ = x["default"](this.options_, c), this.id_ = c.id || c.el && c.el.id, !this.id_) {
                            var e = b && b.id && b.id() || "no_player";
                            this.id_ = e + "_component_" + n.newGUID()
                        }
                        this.name_ = c.name || null, c.el ? this.el_ = c.el : c.createEl !== !1 && (this.el_ = this.createEl()), this.children_ = [], this.childIndex_ = {}, this.childNameIndex_ = {}, c.initChildren !== !1 && this.initChildren(), this.ready(d), c.reportTouchActivity !== !1 && this.enableTouchActivity()
                    }
                    return a.prototype.dispose = function() {
                        if (this.trigger({
                            type: "dispose",
                            bubbles: !1
                        }), this.children_)
                            for (var a = this.children_.length - 1; a >= 0; a--)
                                this.children_[a].dispose && this.children_[a].dispose();
                        this.children_ = null, this.childIndex_ = null, this.childNameIndex_ = null, this.off(), this.el_.parentNode && this.el_.parentNode.removeChild(this.el_), j.removeElData(this.el_), this.el_ = null
                    }, a.prototype.player = function() {
                        return this.player_
                    }, a.prototype.options = function(a) {
                        return r["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"), a ? (this.options_ = x["default"](this.options_, a), this.options_) : this.options_
                    }, a.prototype.el = function() {
                        return this.el_
                    }, a.prototype.createEl = function(a, b, c) {
                        return j.createEl(a, b, c)
                    }, a.prototype.localize = function(a) {
                        var b = this.player_.language && this.player_.language(),
                            c = this.player_.languages && this.player_.languages();
                        if (!b || !c)
                            return a;
                        var d = c[b];
                        if (d && d[a])
                            return d[a];
                        var e = b.split("-")[0],
                            f = c[e];
                        return f && f[a] ? f[a] : a
                    }, a.prototype.contentEl = function() {
                        return this.contentEl_ || this.el_
                    }, a.prototype.id = function() {
                        return this.id_
                    }, a.prototype.name = function() {
                        return this.name_
                    }, a.prototype.children = function() {
                        return this.children_
                    }, a.prototype.getChildById = function(a) {
                        return this.childIndex_[a]
                    }, a.prototype.getChild = function(a) {
                        return this.childNameIndex_[a]
                    }, a.prototype.addChild = function(b) {
                        var c = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
                            d = arguments.length <= 2 || void 0 === arguments[2] ? this.children_.length : arguments[2],
                            e = void 0,
                            f = void 0;
                        if ("string" == typeof b) {
                            f = b, c || (c = {}), c === !0 && (r["default"].warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."), c = {});
                            var g = c.componentClass || t["default"](f);
                            c.name = f;
                            var h = a.getComponent(g);
                            if (!h)
                                throw new Error("Component " + g + " does not exist");
                            if ("function" != typeof h)
                                return null;
                            e = new h(this.player_ || this, c)
                        } else
                            e = b;
                        if (this.children_.splice(d, 0, e), "function" == typeof e.id && (this.childIndex_[e.id()] = e), f = f || e.name && e.name(), f && (this.childNameIndex_[f] = e), "function" == typeof e.el && e.el()) {
                            var i = this.contentEl().children,
                                j = i[d] || null;
                            this.contentEl().insertBefore(e.el(), j)
                        }
                        return e
                    }, a.prototype.removeChild = function(a) {
                        if ("string" == typeof a && (a = this.getChild(a)), a && this.children_) {
                            for (var b = !1, c = this.children_.length - 1; c >= 0; c--)
                                if (this.children_[c] === a) {
                                    b = !0, this.children_.splice(c, 1);
                                    break
                                }
                            if (b) {
                                this.childIndex_[a.id()] = null, this.childNameIndex_[a.name()] = null;
                                var d = a.el();
                                d && d.parentNode === this.contentEl() && this.contentEl().removeChild(a.el())
                            }
                        }
                    }, a.prototype.initChildren = function() {
                        var b = this,
                            c = this.options_.children;
                        c && !function() {
                            var d = b.options_,
                                e = function(a) {
                                    var c = a.name,
                                        e = a.opts;
                                    if (void 0 !== d[c] && (e = d[c]), e !== !1) {
                                        e === !0 && (e = {}), e.playerOptions = b.options_.playerOptions;
                                        var f = b.addChild(c, e);
                                        f && (b[c] = f)
                                    }
                                },
                                f = void 0,
                                g = a.getComponent("Tech");
                            f = Array.isArray(c) ? c : Object.keys(c), f.concat(Object.keys(b.options_).filter(function(a) {
                                return !f.some(function(b) {
                                    return "string" == typeof b ? a === b : a === b.name
                                })
                            })).map(function(a) {
                                var d = void 0,
                                    e = void 0;
                                return "string" == typeof a ? (d = a, e = c[d] || b.options_[d] || {}) : (d = a.name, e = a), {
                                    name: d,
                                    opts: e
                                }
                            }).filter(function(b) {
                                var c = a.getComponent(b.opts.componentClass || t["default"](b.name));
                                return c && !g.isTech(c)
                            }).forEach(e)
                        }()
                    }, a.prototype.buildCSSClass = function() {
                        return ""
                    }, a.prototype.on = function(a, b, c) {
                        var d = this;
                        return "string" == typeof a || Array.isArray(a) ? p.on(this.el_, a, l.bind(this, b)) : !function() {
                            var e = a,
                                f = b,
                                g = l.bind(d, c),
                                h = function() {
                                    return d.off(e, f, g)
                                };
                            h.guid = g.guid, d.on("dispose", h);
                            var i = function() {
                                return d.off("dispose", h)
                            };
                            i.guid = g.guid, a.nodeName ? (p.on(e, f, g), p.on(e, "dispose", i)) : "function" == typeof a.on && (e.on(f, g), e.on("dispose", i))
                        }(), this
                    }, a.prototype.off = function(a, b, c) {
                        if (!a || "string" == typeof a || Array.isArray(a))
                            p.off(this.el_, a, b);
                        else {
                            var d = a,
                                e = b,
                                f = l.bind(this, c);
                            this.off("dispose", f), a.nodeName ? (p.off(d, e, f), p.off(d, "dispose", f)) : (d.off(e, f), d.off("dispose", f))
                        }
                        return this
                    }, a.prototype.one = function(a, b, c) {
                        var d = this,
                            e = arguments;
                        return "string" == typeof a || Array.isArray(a) ? p.one(this.el_, a, l.bind(this, b)) : !function() {
                            var f = a,
                                g = b,
                                h = l.bind(d, c),
                                i = function j() {
                                    d.off(f, g, j), h.apply(null, e)
                                };
                            i.guid = h.guid, d.on(f, g, i)
                        }(), this
                    }, a.prototype.trigger = function(a, b) {
                        return p.trigger(this.el_, a, b), this
                    }, a.prototype.ready = function(a) {
                        var b = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1];
                        return a && (this.isReady_ ? b ? a.call(this) : this.setTimeout(a, 1) : (this.readyQueue_ = this.readyQueue_ || [], this.readyQueue_.push(a))), this
                    }, a.prototype.triggerReady = function() {
                        this.isReady_ = !0, this.setTimeout(function() {
                            var a = this.readyQueue_;
                            this.readyQueue_ = [], a && a.length > 0 && a.forEach(function(a) {
                                a.call(this)
                            }, this), this.trigger("ready")
                        }, 1)
                    }, a.prototype.$ = function(a, b) {
                        return j.$(a, b || this.contentEl())
                    }, a.prototype.$$ = function(a, b) {
                        return j.$$(a, b || this.contentEl())
                    }, a.prototype.hasClass = function(a) {
                        return j.hasElClass(this.el_, a)
                    }, a.prototype.addClass = function(a) {
                        return j.addElClass(this.el_, a), this
                    }, a.prototype.removeClass = function(a) {
                        return j.removeElClass(this.el_, a), this
                    }, a.prototype.toggleClass = function(a, b) {
                        return j.toggleElClass(this.el_, a, b), this
                    }, a.prototype.show = function() {
                        return this.removeClass("vjs-hidden"), this
                    }, a.prototype.hide = function() {
                        return this.addClass("vjs-hidden"), this
                    }, a.prototype.lockShowing = function() {
                        return this.addClass("vjs-lock-showing"), this
                    }, a.prototype.unlockShowing = function() {
                        return this.removeClass("vjs-lock-showing"), this
                    }, a.prototype.width = function(a, b) {
                        return this.dimension("width", a, b)
                    }, a.prototype.height = function(a, b) {
                        return this.dimension("height", a, b)
                    }, a.prototype.dimensions = function(a, b) {
                        return this.width(a, !0).height(b)
                    }, a.prototype.dimension = function(a, b, c) {
                        if (void 0 !== b)
                            return (null === b || b !== b) && (b = 0), this.el_.style[a] = -1 !== ("" + b).indexOf("%") || -1 !== ("" + b).indexOf("px") ? b : "auto" === b ? "" : b + "px", c || this.trigger("resize"), this;
                        if (!this.el_)
                            return 0;
                        var d = this.el_.style[a],
                            e = d.indexOf("px");
                        return -1 !== e ? parseInt(d.slice(0, e), 10) : parseInt(this.el_["offset" + t["default"](a)], 10)
                    }, a.prototype.emitTapEvents = function() {
                        var a = 0,
                            b = null,
                            c = 10,
                            d = 200,
                            e = void 0;
                        this.on("touchstart", function(c) {
                            1 === c.touches.length && (b = v["default"]({}, c.touches[0]), a = (new Date).getTime(), e = !0)
                        }), this.on("touchmove", function(a) {
                            if (a.touches.length > 1)
                                e = !1;
                            else if (b) {
                                var d = a.touches[0].pageX - b.pageX,
                                    f = a.touches[0].pageY - b.pageY,
                                    g = Math.sqrt(d * d + f * f);
                                g > c && (e = !1)
                            }
                        });
                        var f = function() {
                            e = !1
                        };
                        this.on("touchleave", f), this.on("touchcancel", f), this.on("touchend", function(c) {
                            if (b = null, e === !0) {
                                var f = (new Date).getTime() - a;
                                d > f && (c.preventDefault(), this.trigger("tap"))
                            }
                        })
                    }, a.prototype.enableTouchActivity = function() {
                        if (this.player() && this.player().reportUserActivity) {
                            var a = l.bind(this.player(), this.player().reportUserActivity),
                                b = void 0;
                            this.on("touchstart", function() {
                                a(), this.clearInterval(b), b = this.setInterval(a, 250)
                            });
                            var c = function() {
                                a(), this.clearInterval(b)
                            };
                            this.on("touchmove", a), this.on("touchend", c), this.on("touchcancel", c)
                        }
                    }, a.prototype.setTimeout = function(a, b) {
                        a = l.bind(this, a);
                        var c = h["default"].setTimeout(a, b),
                            d = function() {
                                this.clearTimeout(c)
                            };
                        return d.guid = "vjs-timeout-" + c, this.on("dispose", d), c
                    }, a.prototype.clearTimeout = function(a) {
                        h["default"].clearTimeout(a);
                        var b = function() {};
                        return b.guid = "vjs-timeout-" + a, this.off("dispose", b), a
                    }, a.prototype.setInterval = function(a, b) {
                        a = l.bind(this, a);
                        var c = h["default"].setInterval(a, b),
                            d = function() {
                                this.clearInterval(c)
                            };
                        return d.guid = "vjs-interval-" + c, this.on("dispose", d), c
                    }, a.prototype.clearInterval = function(a) {
                        h["default"].clearInterval(a);
                        var b = function() {};
                        return b.guid = "vjs-interval-" + a, this.off("dispose", b), a
                    }, a.registerComponent = function(b, c) {
                        return a.components_ || (a.components_ = {}), a.components_[b] = c, c
                    }, a.getComponent = function(b) {
                        return a.components_ && a.components_[b] ? a.components_[b] : h["default"] && h["default"].videojs && h["default"].videojs[b] ? (r["default"].warn("The " + b + " component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"), h["default"].videojs[b]) : void 0
                    }, a.extend = function(b) {
                        b = b || {}, r["default"].warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");
                        var c = b.init || b.init || this.prototype.init || this.prototype.init || function() {},
                            d = function() {
                                c.apply(this, arguments)
                            };
                        d.prototype = Object.create(this.prototype), d.prototype.constructor = d, d.extend = a.extend;
                        for (var e in b)
                            b.hasOwnProperty(e) && (d.prototype[e] = b[e]);
                        return d
                    }, a
                }();
            y.registerComponent("Component", y), c["default"] = y, b.exports = c["default"]
        }, {
            "./utils/dom.js": 132,
            "./utils/events.js": 133,
            "./utils/fn.js": 134,
            "./utils/guid.js": 136,
            "./utils/log.js": 137,
            "./utils/merge-options.js": 138,
            "./utils/to-title-case.js": 141,
            "global/window": 2,
            "object.assign": 45
        }],
        68: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../component.js"),
                h = d(g),
                i = a("./play-toggle.js"),
                j = (d(i), a("./time-controls/current-time-display.js")),
                k = (d(j), a("./time-controls/duration-display.js")),
                l = (d(k), a("./time-controls/time-divider.js")),
                m = (d(l), a("./time-controls/remaining-time-display.js")),
                n = (d(m), a("./live-display.js")),
                o = (d(n), a("./progress-control/progress-control.js")),
                p = (d(o), a("./fullscreen-toggle.js")),
                q = (d(p), a("./volume-control/volume-control.js")),
                r = (d(q), a("./volume-menu-button.js")),
                s = (d(r), a("./mute-toggle.js")),
                t = (d(s), a("./text-track-controls/chapters-button.js")),
                u = (d(t), a("./text-track-controls/subtitles-button.js")),
                v = (d(u), a("./text-track-controls/captions-button.js")),
                w = (d(v), a("./playback-rate-menu/playback-rate-menu-button.js")),
                x = (d(w), a("./spacer-controls/custom-control-spacer.js")),
                y = (d(x), function(a) {
                    function b() {
                        e(this, b), a.apply(this, arguments)
                    }
                    return f(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-control-bar",
                            dir: "ltr"
                        }, {
                            role: "group"
                        })
                    }, b
                }(h["default"]));
            y.prototype.options_ = {
                loadEvent: "play",
                children: ["playToggle", "volumeMenuButton", "currentTimeDisplay", "timeDivider", "durationDisplay", "progressControl", "liveDisplay", "remainingTimeDisplay", "customControlSpacer", "playbackRateMenuButton", "chaptersButton", "subtitlesButton", "captionsButton", "fullscreenToggle"]
            }, h["default"].registerComponent("ControlBar", y), c["default"] = y, b.exports = c["default"]
        }, {
            "../component.js": 67,
            "./fullscreen-toggle.js": 69,
            "./live-display.js": 70,
            "./mute-toggle.js": 71,
            "./play-toggle.js": 72,
            "./playback-rate-menu/playback-rate-menu-button.js": 73,
            "./progress-control/progress-control.js": 78,
            "./spacer-controls/custom-control-spacer.js": 80,
            "./text-track-controls/captions-button.js": 83,
            "./text-track-controls/chapters-button.js": 84,
            "./text-track-controls/subtitles-button.js": 87,
            "./time-controls/current-time-display.js": 90,
            "./time-controls/duration-display.js": 91,
            "./time-controls/remaining-time-display.js": 92,
            "./time-controls/time-divider.js": 93,
            "./volume-control/volume-control.js": 95,
            "./volume-menu-button.js": 97
        }],
        69: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../button.js"),
                h = d(g),
                i = a("../component.js"),
                j = d(i),
                k = function(a) {
                    function b() {
                        e(this, b), a.apply(this, arguments)
                    }
                    return f(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-fullscreen-control " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.handleClick = function() {
                        this.player_.isFullscreen() ? (this.player_.exitFullscreen(), this.controlText("Fullscreen")) : (this.player_.requestFullscreen(), this.controlText("Non-Fullscreen"))
                    }, b
                }(h["default"]);
            k.prototype.controlText_ = "Fullscreen", j["default"].registerComponent("FullscreenToggle", k), c["default"] = k, b.exports = c["default"]
        }, {
            "../button.js": 64,
            "../component.js": 67
        }],
        70: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../component"),
                i = e(h),
                j = a("../utils/dom.js"),
                k = d(j),
                l = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.updateShowing(), this.on(this.player(), "durationchange", this.updateShowing)
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        var b = a.prototype.createEl.call(this, "div", {
                            className: "vjs-live-control vjs-control"
                        });
                        return this.contentEl_ = k.createEl("div", {
                            className: "vjs-live-display",
                            innerHTML: '<span class="vjs-control-text">' + this.localize("Stream Type") + "</span>" + this.localize("LIVE")
                        }, {
                            "aria-live": "off"
                        }), b.appendChild(this.contentEl_), b
                    }, b.prototype.updateShowing = function() {
                        this.player().duration() === 1 / 0 ? this.show() : this.hide()
                    }, b
                }(i["default"]);
            i["default"].registerComponent("LiveDisplay", l), c["default"] = l, b.exports = c["default"]
        }, {
            "../component": 67,
            "../utils/dom.js": 132
        }],
        71: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../button"),
                i = e(h),
                j = a("../component"),
                k = e(j),
                l = a("../utils/dom.js"),
                m = d(l),
                n = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.on(c, "volumechange", this.update), c.tech_ && c.tech_.featuresVolumeControl === !1 && this.addClass("vjs-hidden"), this.on(c, "loadstart", function() {
                            this.update(), c.tech_.featuresVolumeControl === !1 ? this.addClass("vjs-hidden") : this.removeClass("vjs-hidden")
                        })
                    }
                    return g(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-mute-control " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.handleClick = function() {
                        this.player_.muted(this.player_.muted() ? !1 : !0)
                    }, b.prototype.update = function() {
                        var a = this.player_.volume(),
                            b = 3;
                        0 === a || this.player_.muted() ? b = 0 : .33 > a ? b = 1 : .67 > a && (b = 2);
                        var c = this.player_.muted() ? "Unmute" : "Mute";
                        this.controlText() !== c && this.controlText(c);
                        for (var d = 0; 4 > d; d++)
                            m.removeElClass(this.el_, "vjs-vol-" + d);
                        m.addElClass(this.el_, "vjs-vol-" + b)
                    }, b
                }(i["default"]);
            n.prototype.controlText_ = "Mute", k["default"].registerComponent("MuteToggle", n), c["default"] = n, b.exports = c["default"]
        }, {
            "../button": 64,
            "../component": 67,
            "../utils/dom.js": 132
        }],
        72: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../button.js"),
                h = d(g),
                i = a("../component.js"),
                j = d(i),
                k = function(a) {
                    function b(c, d) {
                        e(this, b), a.call(this, c, d), this.on(c, "play", this.handlePlay), this.on(c, "pause", this.handlePause)
                    }
                    return f(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-play-control " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.handleClick = function() {
                        this.player_.paused() ? this.player_.play() : this.player_.pause()
                    }, b.prototype.handlePlay = function() {
                        this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.controlText("Pause")
                    }, b.prototype.handlePause = function() {
                        this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.controlText("Play")
                    }, b
                }(h["default"]);
            k.prototype.controlText_ = "Play", j["default"].registerComponent("PlayToggle", k), c["default"] = k, b.exports = c["default"]
        }, {
            "../button.js": 64,
            "../component.js": 67
        }],
        73: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../menu/menu-button.js"),
                i = e(h),
                j = a("../../menu/menu.js"),
                k = e(j),
                l = a("./playback-rate-menu-item.js"),
                m = e(l),
                n = a("../../component.js"),
                o = e(n),
                p = a("../../utils/dom.js"),
                q = d(p),
                r = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.updateVisibility(), this.updateLabel(), this.on(c, "loadstart", this.updateVisibility), this.on(c, "ratechange", this.updateLabel)
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        var b = a.prototype.createEl.call(this);
                        return this.labelEl_ = q.createEl("div", {
                            className: "vjs-playback-rate-value",
                            innerHTML: 1
                        }), b.appendChild(this.labelEl_), b
                    }, b.prototype.buildCSSClass = function() {
                        return "vjs-playback-rate " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.createMenu = function() {
                        var a = new k["default"](this.player()),
                            b = this.playbackRates();
                        if (b)
                            for (var c = b.length - 1; c >= 0; c--)
                                a.addChild(new m["default"](this.player(), {
                                    rate: b[c] + "x"
                                }));
                        return a
                    }, b.prototype.updateARIAAttributes = function() {
                        this.el().setAttribute("aria-valuenow", this.player().playbackRate())
                    }, b.prototype.handleClick = function() {
                        for (var a = this.player().playbackRate(), b = this.playbackRates(), c = b[0], d = 0; d < b.length; d++)
                            if (b[d] > a) {
                                c = b[d];
                                break
                            }
                        this.player().playbackRate(c)
                    }, b.prototype.playbackRates = function() {
                        return this.options_.playbackRates || this.options_.playerOptions && this.options_.playerOptions.playbackRates
                    }, b.prototype.playbackRateSupported = function() {
                        return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && this.playbackRates().length > 0
                    }, b.prototype.updateVisibility = function() {
                        this.playbackRateSupported() ? this.removeClass("vjs-hidden") : this.addClass("vjs-hidden")
                    }, b.prototype.updateLabel = function() {
                        this.playbackRateSupported() && (this.labelEl_.innerHTML = this.player().playbackRate() + "x")
                    }, b
                }(i["default"]);
            r.prototype.controlText_ = "Playback Rate", o["default"].registerComponent("PlaybackRateMenuButton", r), c["default"] = r, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../menu/menu-button.js": 104,
            "../../menu/menu.js": 106,
            "../../utils/dom.js": 132,
            "./playback-rate-menu-item.js": 74
        }],
        74: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../../menu/menu-item.js"),
                h = d(g),
                i = a("../../component.js"),
                j = d(i),
                k = function(a) {
                    function b(c, d) {
                        e(this, b);
                        var f = d.rate,
                            g = parseFloat(f, 10);
                        d.label = f, d.selected = 1 === g, a.call(this, c, d), this.label = f, this.rate = g, this.on(c, "ratechange", this.update)
                    }
                    return f(b, a), b.prototype.handleClick = function() {
                        a.prototype.handleClick.call(this), this.player().playbackRate(this.rate)
                    }, b.prototype.update = function() {
                        this.selected(this.player().playbackRate() === this.rate)
                    }, b
                }(h["default"]);
            k.prototype.contentElType = "button", j["default"].registerComponent("PlaybackRateMenuItem", k), c["default"] = k, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../menu/menu-item.js": 105
        }],
        75: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../component.js"),
                i = e(h),
                j = a("../../utils/dom.js"),
                k = d(j),
                l = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.on(c, "progress", this.update)
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-load-progress",
                            innerHTML: '<span class="vjs-control-text"><span>' + this.localize("Loaded") + "</span>: 0%</span>"
                        })
                    }, b.prototype.update = function() {
                        var a = this.player_.buffered(),
                            b = this.player_.duration(),
                            c = this.player_.bufferedEnd(),
                            d = this.el_.children,
                            e = function(a, b) {
                                var c = a / b || 0;
                                return 100 * (c >= 1 ? 1 : c) + "%"
                            };
                        this.el_.style.width = e(c, b);
                        for (var f = 0; f < a.length; f++) {
                            var g = a.start(f),
                                h = a.end(f),
                                i = d[f];
                            i || (i = this.el_.appendChild(k.createEl())), i.style.left = e(g, c), i.style.width = e(h - g, c)
                        }
                        for (var f = d.length; f > a.length; f--)
                            this.el_.removeChild(d[f - 1])
                    }, b
                }(i["default"]);
            i["default"].registerComponent("LoadProgressBar", l), c["default"] = l, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../utils/dom.js": 132
        }],
        76: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../component.js"),
                i = e(h),
                j = a("../../utils/dom.js"),
                k = d(j),
                l = a("../../utils/fn.js"),
                m = d(l),
                n = a("../../utils/format-time.js"),
                o = e(n),
                p = a("lodash-compat/function/throttle"),
                q = e(p),
                r = function(a) {
                    function b(c, d) {
                        var e = this;
                        f(this, b), a.call(this, c, d), this.update(0, 0), c.on("ready", function() {
                            e.on(c.controlBar.progressControl.el(), "mousemove", q["default"](m.bind(e, e.handleMouseMove), 25))
                        })
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-mouse-display"
                        })
                    }, b.prototype.handleMouseMove = function(a) {
                        var b = this.player_.duration(),
                            c = this.calculateDistance(a) * b,
                            d = a.pageX - k.findElPosition(this.el().parentNode).left;
                        this.update(c, d)
                    }, b.prototype.update = function(a, b) {
                        var c = o["default"](a, this.player_.duration());
                        this.el().style.left = b + "px", this.el().setAttribute("data-current-time", c)
                    }, b.prototype.calculateDistance = function(a) {
                        return k.getPointerPosition(this.el().parentNode, a).x
                    }, b
                }(i["default"]);
            i["default"].registerComponent("MouseTimeDisplay", r), c["default"] = r, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../utils/dom.js": 132,
            "../../utils/fn.js": 134,
            "../../utils/format-time.js": 135,
            "lodash-compat/function/throttle": 7
        }],
        77: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../component.js"),
                i = e(h),
                j = a("../../utils/fn.js"),
                k = d(j),
                l = a("../../utils/format-time.js"),
                m = e(l),
                n = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.updateDataAttr(), this.on(c, "timeupdate", this.updateDataAttr), c.ready(k.bind(this, this.updateDataAttr))
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-play-progress vjs-slider-bar",
                            innerHTML: '<span class="vjs-control-text"><span>' + this.localize("Progress") + "</span>: 0%</span>"
                        })
                    }, b.prototype.updateDataAttr = function() {
                        var a = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();
                        this.el_.setAttribute("data-current-time", m["default"](a, this.player_.duration()))
                    }, b
                }(i["default"]);
            i["default"].registerComponent("PlayProgressBar", n), c["default"] = n, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../utils/fn.js": 134,
            "../../utils/format-time.js": 135
        }],
        78: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../../component.js"),
                h = d(g),
                i = a("./seek-bar.js"),
                j = (d(i), a("./mouse-time-display.js")),
                k = (d(j), function(a) {
                    function b() {
                        e(this, b), a.apply(this, arguments)
                    }
                    return f(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-progress-control vjs-control"
                        })
                    }, b
                }(h["default"]));
            k.prototype.options_ = {
                children: ["seekBar"]
            }, h["default"].registerComponent("ProgressControl", k), c["default"] = k, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "./mouse-time-display.js": 76,
            "./seek-bar.js": 79
        }],
        79: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../slider/slider.js"),
                i = e(h),
                j = a("../../component.js"),
                k = e(j),
                l = a("./load-progress-bar.js"),
                m = (e(l), a("./play-progress-bar.js")),
                n = (e(m), a("../../utils/fn.js")),
                o = d(n),
                p = a("../../utils/format-time.js"),
                q = e(p),
                r = a("object.assign"),
                s = (e(r), function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.on(c, "timeupdate", this.updateARIAAttributes), c.ready(o.bind(this, this.updateARIAAttributes))
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-progress-holder"
                        }, {
                            "aria-label": "video progress bar"
                        })
                    }, b.prototype.updateARIAAttributes = function() {
                        var a = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();
                        this.el_.setAttribute("aria-valuenow", (100 * this.getPercent()).toFixed(2)), this.el_.setAttribute("aria-valuetext", q["default"](a, this.player_.duration()))
                    }, b.prototype.getPercent = function() {
                        var a = this.player_.currentTime() / this.player_.duration();
                        return a >= 1 ? 1 : a
                    }, b.prototype.handleMouseDown = function(b) {
                        a.prototype.handleMouseDown.call(this, b), this.player_.scrubbing(!0), this.videoWasPlaying = !this.player_.paused(), this.player_.pause()
                    }, b.prototype.handleMouseMove = function(a) {
                        var b = this.calculateDistance(a) * this.player_.duration();
                        b === this.player_.duration() && (b -= .1), this.player_.currentTime(b)
                    }, b.prototype.handleMouseUp = function(b) {
                        a.prototype.handleMouseUp.call(this, b), this.player_.scrubbing(!1), this.videoWasPlaying && this.player_.play()
                    }, b.prototype.stepForward = function() {
                        this.player_.currentTime(this.player_.currentTime() + 5)
                    }, b.prototype.stepBack = function() {
                        this.player_.currentTime(this.player_.currentTime() - 5)
                    }, b
                }(i["default"]));
            s.prototype.options_ = {
                children: ["loadProgressBar", "mouseTimeDisplay", "playProgressBar"],
                barName: "playProgressBar"
            }, s.prototype.playerEvent = "timeupdate", k["default"].registerComponent("SeekBar", s), c["default"] = s, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../slider/slider.js": 114,
            "../../utils/fn.js": 134,
            "../../utils/format-time.js": 135,
            "./load-progress-bar.js": 75,
            "./play-progress-bar.js": 77,
            "object.assign": 45
        }],
        80: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);

                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("./spacer.js"),
                h = d(g),
                i = a("../../component.js"),
                j = d(i),
                k = function(a) {
                    function b() {
                        e(this, b), a.apply(this, arguments)
                    }
                    return f(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-custom-control-spacer " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.createEl = function() {
                        var b = a.prototype.createEl.call(this, {
                            className: this.buildCSSClass()
                        });
                        return b.innerHTML = "&nbsp;", b
                    }, b
                }(h["default"]);
            j["default"].registerComponent("CustomControlSpacer", k), c["default"] = k, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "./spacer.js": 81
        }],
        81: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../../component.js"),
                h = d(g),
                i = function(a) {
                    function b() {
                        e(this, b), a.apply(this, arguments)
                    }
                    return f(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-spacer " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: this.buildCSSClass()
                        })
                    }, b
                }(h["default"]);
            h["default"].registerComponent("Spacer", i), c["default"] = i, b.exports = c["default"]
        }, {
            "../../component.js": 67
        }],
        82: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("./text-track-menu-item.js"),
                h = d(g),
                i = a("../../component.js"),
                j = d(i),
                k = function(a) {
                    function b(c, d) {
                        e(this, b), d.track = {
                            kind: d.kind,
                            player: c,
                            label: d.kind + " settings",
                            selectable: !1,
                            "default": !1,
                            mode: "disabled"
                        }, d.selectable = !1, a.call(this, c, d), this.addClass("vjs-texttrack-settings"), this.controlText(", opens " + d.kind + " settings dialog")
                    }
                    return f(b, a), b.prototype.handleClick = function() {
                        this.player().getChild("textTrackSettings").show(), this.player().getChild("textTrackSettings").el_.focus()
                    }, b
                }(h["default"]);
            j["default"].registerComponent("CaptionSettingsMenuItem", k), c["default"] = k, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "./text-track-menu-item.js": 89
        }],
        83: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("./text-track-button.js"),
                h = d(g),
                i = a("../../component.js"),
                j = d(i),
                k = a("./caption-settings-menu-item.js"),
                l = d(k),
                m = function(a) {
                    function b(c, d, f) {
                        e(this, b), a.call(this, c, d, f), this.el_.setAttribute("aria-label", "Captions Menu")
                    }
                    return f(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-captions-button " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.update = function() {
                        var b = 2;
                        a.prototype.update.call(this), this.player().tech_ && this.player().tech_.featuresNativeTextTracks && (b = 1), this.items && this.items.length > b ? this.show() : this.hide()
                    }, b.prototype.createItems = function() {
                        var b = [];
                        return this.player().tech_ && this.player().tech_.featuresNativeTextTracks || b.push(new l["default"](this.player_, {
                            kind: this.kind_
                        })), a.prototype.createItems.call(this, b)
                    }, b
                }(h["default"]);
            m.prototype.kind_ = "captions", m.prototype.controlText_ = "Captions", j["default"].registerComponent("CaptionsButton", m), c["default"] = m, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "./caption-settings-menu-item.js": 82,
            "./text-track-button.js": 88
        }],
        84: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("./text-track-button.js"),
                i = e(h),
                j = a("../../component.js"),
                k = e(j),
                l = a("./text-track-menu-item.js"),
                m = e(l),
                n = a("./chapters-track-menu-item.js"),
                o = e(n),
                p = a("../../menu/menu.js"),
                q = e(p),
                r = a("../../utils/dom.js"),
                s = d(r),
                t = a("../../utils/fn.js"),
                u = (d(t), a("../../utils/to-title-case.js")),
                v = e(u),
                w = a("global/window"),
                x = (e(w), function(a) {
                    function b(c, d, e) {
                        f(this, b), a.call(this, c, d, e), this.el_.setAttribute("aria-label", "Chapters Menu")
                    }
                    return g(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-chapters-button " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.createItems = function() {
                        var a = [],
                            b = this.player_.textTracks();
                        if (!b)
                            return a;
                        for (var c = 0; c < b.length; c++) {
                            var d = b[c];
                            d.kind === this.kind_ && a.push(new m["default"](this.player_, {
                                track: d
                            }))
                        }
                        return a
                    }, b.prototype.createMenu = function() {
                        for (var a = this, b = this.player_.textTracks() || [], c = void 0, d = this.items = [], e = 0, f = b.length; f > e; e++) {
                            var g = b[e];
                            if (g.kind === this.kind_) {
                                c = g;
                                break
                            }
                        }
                        var h = this.menu;
                        if (void 0 === h) {
                            h = new q["default"](this.player_);
                            var i = s.createEl("li", {
                                className: "vjs-menu-title",
                                innerHTML: v["default"](this.kind_),
                                tabIndex: -1
                            });
                            h.children_.unshift(i), s.insertElFirst(i, h.contentEl())
                        }
                        if (c && null == c.cues) {
                            c.mode = "hidden";
                            var j = this.player_.remoteTextTrackEls().getTrackElementByTrack_(c);
                            j && j.addEventListener("load", function() {
                                return a.update()
                            })
                        }
                        if (c && c.cues && c.cues.length > 0) {
                            for (var k = c.cues, l = void 0, e = 0, m = k.length; m > e; e++) {
                                l = k[e];
                                var n = new o["default"](this.player_, {
                                    track: c,
                                    cue: l
                                });
                                d.push(n), h.addChild(n)
                            }
                            this.addChild(h)
                        }
                        return this.items.length > 0 && this.show(), h
                    }, b
                }(i["default"]));
            x.prototype.kind_ = "chapters", x.prototype.controlText_ = "Chapters", k["default"].registerComponent("ChaptersButton", x), c["default"] = x, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../menu/menu.js": 106,
            "../../utils/dom.js": 132,
            "../../utils/fn.js": 134,
            "../../utils/to-title-case.js": 141,
            "./chapters-track-menu-item.js": 85,
            "./text-track-button.js": 88,
            "./text-track-menu-item.js": 89,
            "global/window": 2
        }],
        85: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../menu/menu-item.js"),
                i = e(h),
                j = a("../../component.js"),
                k = e(j),
                l = a("../../utils/fn.js"),
                m = d(l),
                n = function(a) {
                    function b(c, d) {
                        f(this, b);
                        var e = d.track,
                            g = d.cue,
                            h = c.currentTime();
                        d.label = g.text, d.selected = g.startTime <= h && h < g.endTime, a.call(this, c, d), this.track = e, this.cue = g, e.addEventListener("cuechange", m.bind(this, this.update))
                    }
                    return g(b, a), b.prototype.handleClick = function() {
                        a.prototype.handleClick.call(this), this.player_.currentTime(this.cue.startTime), this.update(this.cue.startTime)
                    }, b.prototype.update = function() {
                        var a = this.cue,
                            b = this.player_.currentTime();
                        this.selected(a.startTime <= b && b < a.endTime)
                    }, b
                }(i["default"]);
            k["default"].registerComponent("ChaptersTrackMenuItem", n), c["default"] = n, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../menu/menu-item.js": 105,
            "../../utils/fn.js": 134
        }],
        86: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("./text-track-menu-item.js"),
                h = d(g),
                i = a("../../component.js"),
                j = d(i),
                k = function(a) {
                    function b(c, d) {
                        e(this, b), d.track = {
                            kind: d.kind,
                            player: c,
                            label: d.kind + " off",
                            "default": !1,
                            mode: "disabled"
                        }, d.selectable = !0, a.call(this, c, d), this.selected(!0)
                    }
                    return f(b, a), b.prototype.handleTracksChange = function() {
                        for (var a = this.player().textTracks(), b = !0, c = 0, d = a.length; d > c; c++) {
                            var e = a[c];
                            if (e.kind === this.track.kind && "showing" === e.mode) {
                                b = !1;
                                break
                            }
                        }
                        this.selected(b)
                    }, b
                }(h["default"]);
            j["default"].registerComponent("OffTextTrackMenuItem", k), c["default"] = k, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "./text-track-menu-item.js": 89
        }],
        87: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("./text-track-button.js"),
                h = d(g),
                i = a("../../component.js"),
                j = d(i),
                k = function(a) {
                    function b(c, d, f) {
                        e(this, b), a.call(this, c, d, f), this.el_.setAttribute("aria-label", "Subtitles Menu")
                    }
                    return f(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-subtitles-button " + a.prototype.buildCSSClass.call(this)
                    }, b
                }(h["default"]);
            k.prototype.kind_ = "subtitles", k.prototype.controlText_ = "Subtitles", j["default"].registerComponent("SubtitlesButton", k), c["default"] = k, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "./text-track-button.js": 88
        }],
        88: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../menu/menu-button.js"),
                i = e(h),
                j = a("../../component.js"),
                k = e(j),
                l = a("../../utils/fn.js"),
                m = d(l),
                n = a("./text-track-menu-item.js"),
                o = e(n),
                p = a("./off-text-track-menu-item.js"),
                q = e(p),
                r = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d);
                        var e = this.player_.textTracks();
                        if (this.items.length <= 1 && this.hide(), e) {
                            var g = m.bind(this, this.update);
                            e.addEventListener("removetrack", g), e.addEventListener("addtrack", g), this.player_.on("dispose", function() {
                                e.removeEventListener("removetrack", g), e.removeEventListener("addtrack", g)
                            })
                        }
                    }
                    return g(b, a), b.prototype.createItems = function() {
                        var a = arguments.length <= 0 || void 0 === arguments[0] ? [] : arguments[0];
                        a.push(new q["default"](this.player_, {
                            kind: this.kind_
                        }));
                        var b = this.player_.textTracks();
                        if (!b)
                            return a;
                        for (var c = 0; c < b.length; c++) {
                            var d = b[c];
                            d.kind === this.kind_ && a.push(new o["default"](this.player_, {
                                selectable: !0,
                                track: d
                            }))
                        }
                        return a
                    }, b
                }(i["default"]);
            k["default"].registerComponent("TextTrackButton", r), c["default"] = r, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../menu/menu-button.js": 104,
            "../../utils/fn.js": 134,
            "./off-text-track-menu-item.js": 86,
            "./text-track-menu-item.js": 89
        }],
        89: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../menu/menu-item.js"),
                i = e(h),
                j = a("../../component.js"),
                k = e(j),
                l = a("../../utils/fn.js"),
                m = d(l),
                n = a("global/window"),
                o = e(n),
                p = a("global/document"),
                q = e(p),
                r = function(a) {
                    function b(c, d) {
                        var e = this;
                        f(this, b);
                        var g = d.track,
                            h = c.textTracks();
                        d.label = g.label || g.language || "Unknown", d.selected = g["default"] || "showing" === g.mode, a.call(this, c, d), this.track = g, h && !function() {
                            var a = m.bind(e, e.handleTracksChange);
                            h.addEventListener("change", a), e.on("dispose", function() {
                                h.removeEventListener("change", a)
                            })
                        }(), h && void 0 === h.onchange && !function() {
                            var a = void 0;
                            e.on(["tap", "click"], function() {
                                if ("object" != typeof o["default"].Event)
                                    try {
                                        a = new o["default"].Event("change")
                                    } catch (b) {}
                                a || (a = q["default"].createEvent("Event"), a.initEvent("change", !0, !0)), h.dispatchEvent(a)
                            })
                        }()
                    }
                    return g(b, a), b.prototype.handleClick = function(b) {
                        var c = this.track.kind,
                            d = this.player_.textTracks();
                        if (a.prototype.handleClick.call(this, b), d)
                            for (var e = 0; e < d.length; e++) {
                                var f = d[e];
                                f.kind === c && (f.mode = f === this.track ? "showing" : "disabled")
                            }
                    }, b.prototype.handleTracksChange = function() {
                        this.selected("showing" === this.track.mode)
                    }, b
                }(i["default"]);
            k["default"].registerComponent("TextTrackMenuItem", r), c["default"] = r, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../menu/menu-item.js": 105,
            "../../utils/fn.js": 134,
            "global/document": 1,
            "global/window": 2
        }],
        90: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../component.js"),
                i = e(h),
                j = a("../../utils/dom.js"),
                k = d(j),
                l = a("../../utils/format-time.js"),
                m = e(l),
                n = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.on(c, "timeupdate", this.updateContent)
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        var b = a.prototype.createEl.call(this, "div", {
                            className: "vjs-current-time vjs-time-control vjs-control"
                        });
                        return this.contentEl_ = k.createEl("div", {
                            className: "vjs-current-time-display",
                            innerHTML: '<span class="vjs-control-text">Current Time </span>0:00'
                        }, {
                            "aria-live": "off"
                        }), b.appendChild(this.contentEl_), b
                    }, b.prototype.updateContent = function() {
                        var a = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime(),
                            b = this.localize("Current Time"),
                            c = m["default"](a, this.player_.duration());
                        c !== this.formattedTime_ && (this.formattedTime_ = c, this.contentEl_.innerHTML = '<span class="vjs-control-text">' + b + "</span> " + c)
                    }, b
                }(i["default"]);
            i["default"].registerComponent("CurrentTimeDisplay", n), c["default"] = n, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../utils/dom.js": 132,
            "../../utils/format-time.js": 135
        }],
        91: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../component.js"),
                i = e(h),
                j = a("../../utils/dom.js"),
                k = d(j),
                l = a("../../utils/format-time.js"),
                m = e(l),
                n = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.on(c, "timeupdate", this.updateContent), this.on(c, "loadedmetadata", this.updateContent)
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        var b = a.prototype.createEl.call(this, "div", {
                            className: "vjs-duration vjs-time-control vjs-control"
                        });
                        return this.contentEl_ = k.createEl("div", {
                            className: "vjs-duration-display",
                            innerHTML: '<span class="vjs-control-text">' + this.localize("Duration Time") + "</span> 0:00"
                        }, {
                            "aria-live": "off"
                        }), b.appendChild(this.contentEl_), b
                    }, b.prototype.updateContent = function() {
                        var a = this.player_.duration();
                        if (a && this.duration_ !== a) {
                            this.duration_ = a;
                            var b = this.localize("Duration Time"),
                                c = m["default"](a);
                            this.contentEl_.innerHTML = '<span class="vjs-control-text">' + b + "</span> " + c
                        }
                    }, b
                }(i["default"]);
            i["default"].registerComponent("DurationDisplay", n), c["default"] = n, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../utils/dom.js": 132,
            "../../utils/format-time.js": 135
        }],
        92: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../component.js"),
                i = e(h),
                j = a("../../utils/dom.js"),
                k = d(j),
                l = a("../../utils/format-time.js"),
                m = e(l),
                n = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.on(c, "timeupdate", this.updateContent)
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        var b = a.prototype.createEl.call(this, "div", {
                            className: "vjs-remaining-time vjs-time-control vjs-control"
                        });
                        return this.contentEl_ = k.createEl("div", {
                            className: "vjs-remaining-time-display",
                            innerHTML: '<span class="vjs-control-text">' + this.localize("Remaining Time") + "</span> -0:00"
                        }, {
                            "aria-live": "off"
                        }), b.appendChild(this.contentEl_), b
                    }, b.prototype.updateContent = function() {
                        if (this.player_.duration()) {
                            var a = this.localize("Remaining Time"),
                                b = m["default"](this.player_.remainingTime());
                            b !== this.formattedTime_ && (this.formattedTime_ = b, this.contentEl_.innerHTML = '<span class="vjs-control-text">' + a + "</span> -" + b)
                        }
                    }, b
                }(i["default"]);
            i["default"].registerComponent("RemainingTimeDisplay", n), c["default"] = n, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../utils/dom.js": 132,
            "../../utils/format-time.js": 135
        }],
        93: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../../component.js"),
                h = d(g),
                i = function(a) {
                    function b() {
                        e(this, b), a.apply(this, arguments)
                    }
                    return f(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-time-control vjs-time-divider",
                            innerHTML: "<div><span>/</span></div>"
                        })
                    }, b
                }(h["default"]);
            h["default"].registerComponent("TimeDivider", i), c["default"] = i, b.exports = c["default"]
        }, {
            "../../component.js": 67
        }],
        94: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../../slider/slider.js"),
                i = e(h),
                j = a("../../component.js"),
                k = e(j),
                l = a("../../utils/fn.js"),
                m = d(l),
                n = a("./volume-level.js"),
                o = (e(n), function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.on(c, "volumechange", this.updateARIAAttributes), c.ready(m.bind(this, this.updateARIAAttributes))
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-volume-bar vjs-slider-bar"
                        }, {
                            "aria-label": "volume level"
                        })
                    }, b.prototype.handleMouseMove = function(a) {
                        this.checkMuted(), this.player_.volume(this.calculateDistance(a))
                    }, b.prototype.checkMuted = function() {
                        this.player_.muted() && this.player_.muted(!1)
                    }, b.prototype.getPercent = function() {
                        return this.player_.muted() ? 0 : this.player_.volume()
                    }, b.prototype.stepForward = function() {
                        this.checkMuted(), this.player_.volume(this.player_.volume() + .1)
                    }, b.prototype.stepBack = function() {
                        this.checkMuted(), this.player_.volume(this.player_.volume() - .1)
                    }, b.prototype.updateARIAAttributes = function() {
                        var a = (100 * this.player_.volume()).toFixed(2);
                        this.el_.setAttribute("aria-valuenow", a), this.el_.setAttribute("aria-valuetext", a + "%")
                    }, b
                }(i["default"]));
            o.prototype.options_ = {
                children: ["volumeLevel"],
                barName: "volumeLevel"
            }, o.prototype.playerEvent = "volumechange", k["default"].registerComponent("VolumeBar", o), c["default"] = o, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "../../slider/slider.js": 114,
            "../../utils/fn.js": 134,
            "./volume-level.js": 96
        }],
        95: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../../component.js"),
                h = d(g),
                i = a("./volume-bar.js"),
                j = (d(i), function(a) {
                    function b(c, d) {
                        e(this, b), a.call(this, c, d), c.tech_ && c.tech_.featuresVolumeControl === !1 && this.addClass("vjs-hidden"), this.on(c, "loadstart", function() {
                            c.tech_.featuresVolumeControl === !1 ? this.addClass("vjs-hidden") : this.removeClass("vjs-hidden")
                        })
                    }
                    return f(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-volume-control vjs-control"
                        })
                    }, b
                }(h["default"]));
            j.prototype.options_ = {
                children: ["volumeBar"]
            }, h["default"].registerComponent("VolumeControl", j), c["default"] = j, b.exports = c["default"]
        }, {
            "../../component.js": 67,
            "./volume-bar.js": 94
        }],
        96: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../../component.js"),
                h = d(g),
                i = function(a) {
                    function b() {
                        e(this, b), a.apply(this, arguments)
                    }
                    return f(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-volume-level",
                            innerHTML: '<span class="vjs-control-text"></span>'
                        })
                    }, b
                }(h["default"]);
            h["default"].registerComponent("VolumeLevel", i), c["default"] = i, b.exports = c["default"]
        }, {
            "../../component.js": 67
        }],
        97: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../utils/fn.js"),
                i = e(h),
                j = a("../component.js"),
                k = d(j),
                l = a("../popup/popup.js"),
                m = d(l),
                n = a("../popup/popup-button.js"),
                o = d(n),
                p = a("./mute-toggle.js"),
                q = d(p),
                r = a("./volume-control/volume-bar.js"),
                s = d(r),
                t = a("global/document"),
                u = d(t),
                v = function(a) {
                    function b(c) {
                        function d() {
                            c.tech_ && c.tech_.featuresVolumeControl === !1 ? this.addClass("vjs-hidden") : this.removeClass("vjs-hidden")
                        }
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                        f(this, b), void 0 === e.inline && (e.inline = !0), void 0 === e.vertical && (e.vertical = e.inline ? !1 : !0), e.volumeBar = e.volumeBar || {}, e.volumeBar.vertical = !!e.vertical, a.call(this, c, e), this.on(c, "volumechange", this.volumeUpdate), this.on(c, "loadstart", this.volumeUpdate), d.call(this), this.on(c, "loadstart", d), this.on(this.volumeBar, ["slideractive", "focus"], function() {
                            this.addClass("vjs-slider-active")
                        }), this.on(this.volumeBar, ["sliderinactive", "blur"], function() {
                            this.removeClass("vjs-slider-active")
                        }), this.on(this.volumeBar, ["focus"], function() {
                            this.addClass("vjs-lock-showing")
                        }), this.on(this.volumeBar, ["blur"], function() {
                            this.removeClass("vjs-lock-showing")
                        })
                    }
                    return g(b, a), b.prototype.buildCSSClass = function() {
                        var b = "";
                        return b = this.options_.vertical ? "vjs-volume-menu-button-vertical" : "vjs-volume-menu-button-horizontal", "vjs-volume-menu-button " + a.prototype.buildCSSClass.call(this) + " " + b
                    }, b.prototype.createPopup = function() {
                        var a = new m["default"](this.player_, {
                                contentElType: "div"
                            }),
                            b = new s["default"](this.player_, this.options_.volumeBar);
                        return a.addChild(b), this.menuContent = a, this.volumeBar = b, this.attachVolumeBarEvents(), a
                    }, b.prototype.handleClick = function() {
                        q["default"].prototype.handleClick.call(this), a.prototype.handleClick.call(this)
                    }, b.prototype.attachVolumeBarEvents = function() {
                        this.menuContent.on(["mousedown", "touchdown"], i.bind(this, this.handleMouseDown))
                    }, b.prototype.handleMouseDown = function() {
                        this.on(["mousemove", "touchmove"], i.bind(this.volumeBar, this.volumeBar.handleMouseMove)), this.on(u["default"], ["mouseup", "touchend"], this.handleMouseUp)
                    }, b.prototype.handleMouseUp = function() {
                        this.off(["mousemove", "touchmove"], i.bind(this.volumeBar, this.volumeBar.handleMouseMove))
                    }, b
                }(o["default"]);
            v.prototype.volumeUpdate = q["default"].prototype.update, v.prototype.controlText_ = "Mute", k["default"].registerComponent("VolumeMenuButton", v), c["default"] = v, b.exports = c["default"]
        }, {
            "../component.js": 67,
            "../popup/popup-button.js": 110,
            "../popup/popup.js": 111,
            "../utils/fn.js": 134,
            "./mute-toggle.js": 71,
            "./volume-control/volume-bar.js": 94,
            "global/document": 1
        }],
        98: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("./component"),
                i = e(h),
                j = a("./modal-dialog"),
                k = e(j),
                l = a("./utils/dom"),
                m = (d(l), a("./utils/merge-options")),
                n = e(m),
                o = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.on(c, "error", this.open)
                    }
                    return g(b, a), b.prototype.buildCSSClass = function() {
                        return "vjs-error-display " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.content = function() {
                        var a = this.player().error();
                        return a ? this.localize(a.message) : ""
                    }, b
                }(k["default"]);
            o.prototype.options_ = n["default"](k["default"].prototype.options_, {
                fillAlways: !0,
                temporary: !1,
                uncloseable: !0
            }), i["default"].registerComponent("ErrorDisplay", o), c["default"] = o, b.exports = c["default"]
        }, {
            "./component": 67,
            "./modal-dialog": 107,
            "./utils/dom": 132,
            "./utils/merge-options": 138
        }],
        99: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            c.__esModule = !0;
            var e = a("./utils/events.js"),
                f = d(e),
                g = function() {};
            g.prototype.allowedEvents_ = {}, g.prototype.on = function(a, b) {
                var c = this.addEventListener;
                this.addEventListener = Function.prototype, f.on(this, a, b), this.addEventListener = c
            }, g.prototype.addEventListener = g.prototype.on, g.prototype.off = function(a, b) {
                f.off(this, a, b)
            }, g.prototype.removeEventListener = g.prototype.off, g.prototype.one = function(a, b) {
                f.one(this, a, b)
            }, g.prototype.trigger = function(a) {
                var b = a.type || a;
                "string" == typeof a && (a = {
                    type: b
                }), a = f.fixEvent(a), this.allowedEvents_[b] && this["on" + b] && this["on" + b](a), f.trigger(this, a)
            }, g.prototype.dispatchEvent = g.prototype.trigger, c["default"] = g, b.exports = c["default"]
        }, {
            "./utils/events.js": 133
        }],
        100: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            c.__esModule = !0;
            var e = a("./utils/log"),
                f = d(e),
                g = function(a, b) {
                    if ("function" != typeof b && null !== b)
                        throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                    a.prototype = Object.create(b && b.prototype, {
                        constructor: {
                            value: a,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }), b && (a.super_ = b)
                },
                h = function(a) {
                    var b = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
                        c = function() {
                            a.apply(this, arguments)
                        },
                        d = {};
                    "object" == typeof b ? ("function" == typeof b.init && (f["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."), b.constructor = b.init), b.constructor !== Object.prototype.constructor && (c = b.constructor), d = b) : "function" == typeof b && (c = b), g(c, a);
                    for (var e in d)
                        d.hasOwnProperty(e) && (c.prototype[e] = d[e]);
                    return c
                };
            c["default"] = h, b.exports = c["default"]
        }, {
            "./utils/log": 137
        }],
        101: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            c.__esModule = !0;
            for (var e = a("global/document"), f = d(e), g = {}, h = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]], i = h[0], j = void 0, k = 0; k < h.length; k++)
                if (h[k][1] in f["default"]) {
                    j = h[k];
                    break
                }
            if (j)
                for (var k = 0; k < j.length; k++)
                    g[i[k]] = j[k];
            c["default"] = g, b.exports = c["default"]
        }, {
            "global/document": 1
        }],
        102: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("./component"),
                h = d(g),
                i = function(a) {
                    function b() {
                        e(this, b), a.apply(this, arguments)
                    }
                    return f(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-loading-spinner",
                            dir: "ltr"
                        })
                    }, b
                }(h["default"]);
            h["default"].registerComponent("LoadingSpinner", i), c["default"] = i, b.exports = c["default"]
        }, {
            "./component": 67
        }],
        103: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            c.__esModule = !0;
            var e = a("object.assign"),
                f = d(e),
                g = function i(a) {
                    "number" == typeof a ? this.code = a : "string" == typeof a ? this.message = a : "object" == typeof a && f["default"](this, a), this.message || (this.message = i.defaultMessages[this.code] || "")
                };
            g.prototype.code = 0, g.prototype.message = "", g.prototype.status = null, g.errorTypes = ["MEDIA_ERR_CUSTOM", "MEDIA_ERR_ABORTED", "MEDIA_ERR_NETWORK", "MEDIA_ERR_DECODE", "MEDIA_ERR_SRC_NOT_SUPPORTED", "MEDIA_ERR_ENCRYPTED"], g.defaultMessages = {
                1: "You aborted the media playback",
                2: "A network error caused the media download to fail part-way.",
                3: "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",
                4: "The media could not be loaded, either because the server or network failed or because the format is not supported.",
                5: "The media is encrypted and we do not have the keys to decrypt it."
            };
            for (var h = 0; h < g.errorTypes.length; h++)
                g[g.errorTypes[h]] = h, g.prototype[g.errorTypes[h]] = h;
            c["default"] = g, b.exports = c["default"]
        }, {
            "object.assign": 45
        }],
        104: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../clickable-component.js"),
                i = e(h),
                j = a("../component.js"),
                k = e(j),
                l = a("./menu.js"),
                m = e(l),
                n = a("../utils/dom.js"),
                o = d(n),
                p = a("../utils/fn.js"),
                q = d(p),
                r = a("../utils/to-title-case.js"),
                s = e(r),
                t = function(a) {
                    function b(c) {
                        var d = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                        f(this, b), a.call(this, c, d), this.update(), this.el_.setAttribute("aria-haspopup", !0), this.el_.setAttribute("role", "menuitem"), this.on("keydown", this.handleSubmenuKeyPress)
                    }
                    return g(b, a), b.prototype.update = function() {
                        var a = this.createMenu();
                        this.menu && this.removeChild(this.menu), this.menu = a, this.addChild(a), this.buttonPressed_ = !1, this.el_.setAttribute("aria-expanded", !1), this.items && 0 === this.items.length ? this.hide() : this.items && this.items.length > 1 && this.show()
                    }, b.prototype.createMenu = function() {
                        var a = new m["default"](this.player_);
                        if (this.options_.title) {
                            var b = o.createEl("li", {
                                className: "vjs-menu-title",
                                innerHTML: s["default"](this.options_.title),
                                tabIndex: -1
                            });
                            a.children_.unshift(b), o.insertElFirst(b, a.contentEl())
                        }
                        if (this.items = this.createItems(), this.items)
                            for (var c = 0; c < this.items.length; c++)
                                a.addItem(this.items[c]);
                        return a
                    }, b.prototype.createItems = function() {}, b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: this.buildCSSClass()
                        })
                    }, b.prototype.buildCSSClass = function() {
                        var b = "vjs-menu-button";
                        return b += this.options_.inline === !0 ? "-inline" : "-popup", "vjs-menu-button " + b + " " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.handleClick = function() {
                        this.one("mouseout", q.bind(this, function() {
                            this.menu.unlockShowing(), this.el_.blur()
                        })), this.buttonPressed_ ? this.unpressButton() : this.pressButton()
                    }, b.prototype.handleKeyPress = function(b) {
                        27 === b.which || 9 === b.which ? (this.buttonPressed_ && this.unpressButton(), 9 !== b.which && b.preventDefault()) : 38 === b.which || 40 === b.which ? this.buttonPressed_ || (this.pressButton(), b.preventDefault()) : a.prototype.handleKeyPress.call(this, b)
                    }, b.prototype.handleSubmenuKeyPress = function(a) {
                        (27 === a.which || 9 === a.which) && (this.buttonPressed_ && this.unpressButton(), 9 !== a.which && a.preventDefault())
                    }, b.prototype.pressButton = function() {
                        this.buttonPressed_ = !0, this.menu.lockShowing(), this.el_.setAttribute("aria-expanded", !0), this.menu.focus()
                    }, b.prototype.unpressButton = function() {
                        this.buttonPressed_ = !1, this.menu.unlockShowing(), this.el_.setAttribute("aria-expanded", !1), this.el_.focus()
                    }, b
                }(i["default"]);
            k["default"].registerComponent("MenuButton", t), c["default"] = t, b.exports = c["default"]
        }, {
            "../clickable-component.js": 65,
            "../component.js": 67,
            "../utils/dom.js": 132,
            "../utils/fn.js": 134,
            "../utils/to-title-case.js": 141,
            "./menu.js": 106
        }],
        105: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../clickable-component.js"),
                h = d(g),
                i = a("../component.js"),
                j = d(i),
                k = a("object.assign"),
                l = d(k),
                m = function(a) {
                    function b(c, d) {
                        e(this, b), a.call(this, c, d), this.selectable = d.selectable, this.selected(d.selected), this.selectable ? this.el_.setAttribute("role", "menuitemcheckbox") : this.el_.setAttribute("role", "menuitem")
                    }
                    return f(b, a), b.prototype.createEl = function(b, c, d) {
                        return a.prototype.createEl.call(this, "li", l["default"]({
                            className: "vjs-menu-item",
                            innerHTML: this.localize(this.options_.label),
                            tabIndex: -1
                        }, c), d)
                    }, b.prototype.handleClick = function() {
                        this.selected(!0)
                    }, b.prototype.selected = function(a) {
                        this.selectable && (a ? (this.addClass("vjs-selected"), this.el_.setAttribute("aria-checked", !0), this.controlText(", selected")) : (this.removeClass("vjs-selected"), this.el_.setAttribute("aria-checked", !1), this.controlText(" ")))
                    }, b
                }(h["default"]);
            j["default"].registerComponent("MenuItem", m), c["default"] = m, b.exports = c["default"]
        }, {
            "../clickable-component.js": 65,
            "../component.js": 67,
            "object.assign": 45
        }],
        106: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../component.js"),
                i = e(h),
                j = a("../utils/dom.js"),
                k = d(j),
                l = a("../utils/fn.js"),
                m = d(l),
                n = a("../utils/events.js"),
                o = d(n),
                p = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.focusedChild_ = -1, this.on("keydown", this.handleKeyPress)
                    }
                    return g(b, a), b.prototype.addItem = function(a) {
                        this.addChild(a), a.on("click", m.bind(this, function() {
                            this.unlockShowing()
                        }))
                    }, b.prototype.createEl = function() {
                        var b = this.options_.contentElType || "ul";
                        this.contentEl_ = k.createEl(b, {
                            className: "vjs-menu-content"
                        }), this.contentEl_.setAttribute("role", "menu");
                        var c = a.prototype.createEl.call(this, "div", {
                            append: this.contentEl_,
                            className: "vjs-menu"
                        });
                        return c.setAttribute("role", "presentation"), c.appendChild(this.contentEl_), o.on(c, "click", function(a) {
                            a.preventDefault(), a.stopImmediatePropagation()
                        }), c
                    }, b.prototype.handleKeyPress = function(a) {
                        37 === a.which || 40 === a.which ? (a.preventDefault(), this.stepForward()) : (38 === a.which || 39 === a.which) && (a.preventDefault(), this.stepBack())
                    }, b.prototype.stepForward = function() {
                        var a = 0;
                        void 0 !== this.focusedChild_ && (a = this.focusedChild_ + 1), this.focus(a)
                    }, b.prototype.stepBack = function() {
                        var a = 0;
                        void 0 !== this.focusedChild_ && (a = this.focusedChild_ - 1), this.focus(a)
                    }, b.prototype.focus = function() {
                        var a = arguments.length <= 0 || void 0 === arguments[0] ? 0 : arguments[0],
                            b = this.children().slice(),
                            c = b.length && b[0].className && /vjs-menu-title/.test(b[0].className);
                        c && b.shift(), b.length > 0 && (0 > a ? a = 0 : a >= b.length && (a = b.length - 1), this.focusedChild_ = a, b[a].el_.focus())
                    }, b
                }(i["default"]);
            i["default"].registerComponent("Menu", p), c["default"] = p, b.exports = c["default"]
        }, {
            "../component.js": 67,
            "../utils/dom.js": 132,
            "../utils/events.js": 133,
            "../utils/fn.js": 134
        }],
        107: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("global/document"),
                i = e(h),
                j = a("./utils/dom"),
                k = d(j),
                l = a("./utils/fn"),
                m = d(l),
                n = a("./utils/log"),
                o = (e(n), a("./component")),
                p = e(o),
                q = a("./close-button"),
                r = (e(q), "vjs-modal-dialog"),
                s = 27,
                t = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.opened_ = this.hasBeenOpened_ = this.hasBeenFilled_ = !1, this.closeable(!this.options_.uncloseable), this.content(this.options_.content), this.contentEl_ = k.createEl("div", {
                            className: r + "-content"
                        }, {
                            role: "document"
                        }), this.descEl_ = k.createEl("p", {
                            className: r + "-description vjs-offscreen",
                            id: this.el().getAttribute("aria-describedby")
                        }), k.textContent(this.descEl_, this.description()), this.el_.appendChild(this.descEl_), this.el_.appendChild(this.contentEl_)
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: this.buildCSSClass(),
                            tabIndex: -1
                        }, {
                            "aria-describedby": this.id() + "_description",
                            "aria-hidden": "true",
                            "aria-label": this.label(),
                            role: "dialog"
                        })
                    }, b.prototype.buildCSSClass = function() {
                        return r + " vjs-hidden " + a.prototype.buildCSSClass.call(this)
                    }, b.prototype.handleKeyPress = function(a) {
                        a.which === s && this.closeable() && this.close()
                    }, b.prototype.label = function() {
                        return this.options_.label || this.localize("Modal Window")
                    }, b.prototype.description = function() {
                        var a = this.options_.description || this.localize("This is a modal window.");
                        return this.closeable() && (a += " " + this.localize("This modal can be closed by pressing the Escape key or activating the close button.")), a
                    }, b.prototype.open = function() {
                        if (!this.opened_) {
                            var a = this.player();
                            this.trigger("beforemodalopen"), this.opened_ = !0, (this.options_.fillAlways || !this.hasBeenOpened_ && !this.hasBeenFilled_) && this.fill(), this.wasPlaying_ = !a.paused(), this.wasPlaying_ && a.pause(), this.closeable() && this.on(i["default"], "keydown", m.bind(this, this.handleKeyPress)), a.controls(!1), this.show(), this.el().setAttribute("aria-hidden", "false"), this.trigger("modalopen"), this.hasBeenOpened_ = !0
                        }
                        return this
                    }, b.prototype.opened = function(a) {
                        return "boolean" == typeof a && this[a ? "open" : "close"](), this.opened_
                    }, b.prototype.close = function() {
                        if (this.opened_) {
                            var a = this.player();
                            this.trigger("beforemodalclose"), this.opened_ = !1, this.wasPlaying_ && a.play(), this.closeable() && this.off(i["default"], "keydown", m.bind(this, this.handleKeyPress)), a.controls(!0), this.hide(), this.el().setAttribute("aria-hidden", "true"), this.trigger("modalclose"), this.options_.temporary && this.dispose()
                        }
                        return this
                    }, b.prototype.closeable = function c(a) {
                        if ("boolean" == typeof a) {
                            var c = this.closeable_ = !!a,
                                b = this.getChild("closeButton");
                            if (c && !b) {
                                var d = this.contentEl_;
                                this.contentEl_ = this.el_, b = this.addChild("closeButton"), this.contentEl_ = d, this.on(b, "close", this.close)
                            }
                            !c && b && (this.off(b, "close", this.close), this.removeChild(b), b.dispose())
                        }
                        return this.closeable_
                    }, b.prototype.fill = function() {
                        return this.fillWith(this.content())
                    }, b.prototype.fillWith = function(a) {
                        var b = this.contentEl(),
                            c = b.parentNode,
                            d = b.nextSibling;
                        return this.trigger("beforemodalfill"), this.hasBeenFilled_ = !0, c.removeChild(b), this.empty(), k.insertContent(b, a), this.trigger("modalfill"), d ? c.insertBefore(b, d) : c.appendChild(b), this
                    }, b.prototype.empty = function() {
                        return this.trigger("beforemodalempty"), k.emptyEl(this.contentEl()), this.trigger("modalempty"), this
                    }, b.prototype.content = function(a) {
                        return "undefined" != typeof a && (this.content_ = a), this.content_
                    }, b
                }(p["default"]);
            t.prototype.options_ = {
                temporary: !0
            }, p["default"].registerComponent("ModalDialog", t), c["default"] = t, b.exports = c["default"]
        }, {
            "./close-button": 66,
            "./component": 67,
            "./utils/dom": 132,
            "./utils/fn": 134,
            "./utils/log": 137,
            "global/document": 1
        }],
        108: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("./component.js"),
                i = e(h),
                j = a("global/document"),
                k = e(j),
                l = a("global/window"),
                m = e(l),
                n = a("./utils/events.js"),
                o = d(n),
                p = a("./utils/dom.js"),
                q = d(p),
                r = a("./utils/fn.js"),
                s = d(r),
                t = a("./utils/guid.js"),
                u = d(t),
                v = a("./utils/browser.js"),
                w = d(v),
                x = a("./utils/log.js"),
                y = e(x),
                z = a("./utils/to-title-case.js"),
                A = e(z),
                B = a("./utils/time-ranges.js"),
                C = a("./utils/buffer.js"),
                D = a("./utils/stylesheet.js"),
                E = d(D),
                F = a("./fullscreen-api.js"),
                G = e(F),
                H = a("./media-error.js"),
                I = e(H),
                J = a("safe-json-parse/tuple"),
                K = e(J),
                L = a("object.assign"),
                M = e(L),
                N = a("./utils/merge-options.js"),
                O = e(N),
                P = a("./tracks/text-track-list-converter.js"),
                Q = e(P),
                R = a("./tech/loader.js"),
                S = (e(R), a("./poster-image.js")),
                T = (e(S), a("./tracks/text-track-display.js")),
                U = (e(T), a("./loading-spinner.js")),
                V = (e(U), a("./big-play-button.js")),
                W = (e(V), a("./control-bar/control-bar.js")),
                X = (e(W), a("./error-display.js")),
                Y = (e(X), a("./tracks/text-track-settings.js")),
                Z = (e(Y), a("./modal-dialog")),
                $ = e(Z),
                _ = a("./tech/tech.js"),
                aa = e(_),
                ba = a("./tech/html5.js"),
                ca = (e(ba), function(a) {
                    function b(c, d, e) {
                        var g = this;
                        if (f(this, b), c.id = c.id || "vjs_video_" + u.newGUID(), d = M["default"](b.getTagSettings(c), d), d.initChildren = !1, d.createEl = !1, d.reportTouchActivity = !1, a.call(this, null, d, e), !this.options_ || !this.options_.techOrder || !this.options_.techOrder.length)
                            throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");
                        this.tag = c, this.tagAttributes = c && q.getElAttributes(c), this.language(this.options_.language), d.languages ? !function() {
                            var a = {};
                            Object.getOwnPropertyNames(d.languages).forEach(function(b) {
                                a[b.toLowerCase()] = d.languages[b]
                            }), g.languages_ = a
                        }() : this.languages_ = b.prototype.options_.languages, this.cache_ = {}, this.poster_ = d.poster || "", this.controls_ = !!d.controls, c.controls = !1, this.scrubbing_ = !1, this.el_ = this.createEl();
                        var h = O["default"](this.options_);
                        d.plugins && !function() {
                            var a = d.plugins;
                            Object.getOwnPropertyNames(a).forEach(function(b) {
                                "function" == typeof this[b] ? this[b](a[b]) : y["default"].error("Unable to find plugin:", b)
                            }, g)
                        }(), this.options_.playerOptions = h, this.initChildren(), this.isAudio("audio" === c.nodeName.toLowerCase()), this.addClass(this.controls() ? "vjs-controls-enabled" : "vjs-controls-disabled"), this.isAudio() && this.addClass("vjs-audio"), this.flexNotSupported_() && this.addClass("vjs-no-flex"), w.IS_IOS || this.addClass("vjs-workinghover"), b.players[this.id_] = this, this.userActive(!0), this.reportUserActivity(), this.listenForUserActivity_(), this.on("fullscreenchange", this.handleFullscreenChange_), this.on("stageclick", this.handleStageClick_)
                    }
                    return g(b, a), b.prototype.dispose = function() {
                        this.trigger("dispose"), this.off("dispose"), this.styleEl_ && this.styleEl_.parentNode && this.styleEl_.parentNode.removeChild(this.styleEl_), b.players[this.id_] = null, this.tag && this.tag.player && (this.tag.player = null), this.el_ && this.el_.player && (this.el_.player = null), this.tech_ && this.tech_.dispose(), a.prototype.dispose.call(this)
                    }, b.prototype.createEl = function() {
                        var b = this.el_ = a.prototype.createEl.call(this, "div"),
                            c = this.tag;
                        c.removeAttribute("width"), c.removeAttribute("height");
                        var d = q.getElAttributes(c);
                        Object.getOwnPropertyNames(d).forEach(function(a) {
                            "class" === a ? b.className = d[a] : b.setAttribute(a, d[a])
                        }), c.playerId = c.id, c.id += "_html5_api", c.className = "vjs-tech", c.player = b.player = this, this.addClass("vjs-paused"), this.styleEl_ = E.createStyleElement("vjs-styles-dimensions");
                        var e = q.$(".vjs-styles-defaults"),
                            f = q.$("head");
                        return f.insertBefore(this.styleEl_, e ? e.nextSibling : f.firstChild), this.width(this.options_.width), this.height(this.options_.height), this.fluid(this.options_.fluid), this.aspectRatio(this.options_.aspectRatio), c.initNetworkState_ = c.networkState, c.parentNode && c.parentNode.insertBefore(b, c), q.insertElFirst(c, b), this.children_.unshift(c), this.el_ = b, b
                    }, b.prototype.width = function(a) {
                        return this.dimension("width", a)
                    }, b.prototype.height = function(a) {
                        return this.dimension("height", a)
                    }, b.prototype.dimension = function(a, b) {
                        var c = a + "_";
                        if (void 0 === b)
                            return this[c] || 0;
                        if ("" === b)
                            this[c] = void 0;
                        else {
                            var d = parseFloat(b);
                            if (isNaN(d))
                                return y["default"].error('Improper value "' + b + '" supplied for for ' + a), this;
                            this[c] = d
                        }
                        return this.updateStyleEl_(), this
                    }, b.prototype.fluid = function(a) {
                        return void 0 === a ? !!this.fluid_ : (this.fluid_ = !!a, void (a ? this.addClass("vjs-fluid") : this.removeClass("vjs-fluid")))
                    }, b.prototype.aspectRatio = function(a) {
                        if (void 0 === a)
                            return this.aspectRatio_;
                        if (!/^\d+\:\d+$/.test(a))
                            throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");
                        this.aspectRatio_ = a, this.fluid(!0), this.updateStyleEl_()
                    }, b.prototype.updateStyleEl_ = function() {
                        var a = void 0,
                            b = void 0,
                            c = void 0,
                            d = void 0;
                        c = void 0 !== this.aspectRatio_ && "auto" !== this.aspectRatio_ ? this.aspectRatio_ : this.videoWidth() ? this.videoWidth() + ":" + this.videoHeight() : "16:9";
                        var e = c.split(":"),
                            f = e[1] / e[0];
                        a = void 0 !== this.width_ ? this.width_ : void 0 !== this.height_ ? this.height_ / f : this.videoWidth() || 300, b = void 0 !== this.height_ ? this.height_ : a * f, d = /^[^a-zA-Z]/.test(this.id()) ? "dimensions-" + this.id() : this.id() + "-dimensions", this.addClass(d), E.setTextContent(this.styleEl_, "\n      ." + d + " {\n        width: " + a + "px;\n        height: " + b + "px;\n      }\n\n      ." + d + ".vjs-fluid {\n        padding-top: " + 100 * f + "%;\n      }\n    ")
                    }, b.prototype.loadTech_ = function(a, b) {
                        this.tech_ && this.unloadTech_(), "Html5" !== a && this.tag && (aa["default"].getTech("Html5").disposeMediaElement(this.tag), this.tag.player = null, this.tag = null), this.techName_ = a, this.isReady_ = !1;
                        var c = M["default"]({
                            nativeControlsForTouch: this.options_.nativeControlsForTouch,
                            source: b,
                            playerId: this.id(),
                            techId: this.id() + "_" + a + "_api",
                            textTracks: this.textTracks_,
                            autoplay: this.options_.autoplay,
                            preload: this.options_.preload,
                            loop: this.options_.loop,
                            muted: this.options_.muted,
                            poster: this.poster(),
                            language: this.language(),
                            "vtt.js": this.options_["vtt.js"]
                        }, this.options_[a.toLowerCase()]);
                        this.tag && (c.tag = this.tag), b && (this.currentType_ = b.type, b.src === this.cache_.src && this.cache_.currentTime > 0 && (c.startTime = this.cache_.currentTime), this.cache_.src = b.src);
                        var d = aa["default"].getTech(a);
                        d || (d = i["default"].getComponent(a)), this.tech_ = new d(c), this.tech_.ready(s.bind(this, this.handleTechReady_), !0), Q["default"].jsonToTextTracks(this.textTracksJson_ || [], this.tech_), this.on(this.tech_, "loadstart", this.handleTechLoadStart_), this.on(this.tech_, "waiting", this.handleTechWaiting_), this.on(this.tech_, "canplay", this.handleTechCanPlay_), this.on(this.tech_, "canplaythrough", this.handleTechCanPlayThrough_), this.on(this.tech_, "playing", this.handleTechPlaying_), this.on(this.tech_, "ended", this.handleTechEnded_), this.on(this.tech_, "seeking", this.handleTechSeeking_), this.on(this.tech_, "seeked", this.handleTechSeeked_), this.on(this.tech_, "play", this.handleTechPlay_), this.on(this.tech_, "firstplay", this.handleTechFirstPlay_), this.on(this.tech_, "pause", this.handleTechPause_), this.on(this.tech_, "progress", this.handleTechProgress_), this.on(this.tech_, "durationchange", this.handleTechDurationChange_), this.on(this.tech_, "fullscreenchange", this.handleTechFullscreenChange_), this.on(this.tech_, "error", this.handleTechError_), this.on(this.tech_, "suspend", this.handleTechSuspend_), this.on(this.tech_, "abort", this.handleTechAbort_), this.on(this.tech_, "emptied", this.handleTechEmptied_), this.on(this.tech_, "stalled", this.handleTechStalled_), this.on(this.tech_, "loadedmetadata", this.handleTechLoadedMetaData_), this.on(this.tech_, "loadeddata", this.handleTechLoadedData_), this.on(this.tech_, "timeupdate", this.handleTechTimeUpdate_), this.on(this.tech_, "ratechange", this.handleTechRateChange_), this.on(this.tech_, "volumechange", this.handleTechVolumeChange_), this.on(this.tech_, "texttrackchange", this.handleTechTextTrackChange_), this.on(this.tech_, "loadedmetadata", this.updateStyleEl_), this.on(this.tech_, "posterchange", this.handleTechPosterChange_), this.usingNativeControls(this.techGet_("controls")), this.controls() && !this.usingNativeControls() && this.addTechControlsListeners_(), this.tech_.el().parentNode === this.el() || "Html5" === a && this.tag || q.insertElFirst(this.tech_.el(), this.el()), this.tag && (this.tag.player = null, this.tag = null)
                    }, b.prototype.unloadTech_ = function() {
                        this.textTracks_ = this.textTracks(), this.textTracksJson_ = Q["default"].textTracksToJson(this.tech_), this.isReady_ = !1, this.tech_.dispose(), this.tech_ = !1
                    }, b.prototype.tech = function(a) {
                        if (a && a.IWillNotUseThisInPlugins)
                            return this.tech_;
                        var b = "\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";
                        throw m["default"].alert(b), new Error(b)
                    }, b.prototype.addTechControlsListeners_ = function() {
                        this.removeTechControlsListeners_(), this.on(this.tech_, "mousedown", this.handleTechClick_), this.on(this.tech_, "touchstart", this.handleTechTouchStart_), this.on(this.tech_, "touchmove", this.handleTechTouchMove_), this.on(this.tech_, "touchend", this.handleTechTouchEnd_), this.on(this.tech_, "tap", this.handleTechTap_)
                    }, b.prototype.removeTechControlsListeners_ = function() {
                        this.off(this.tech_, "tap", this.handleTechTap_), this.off(this.tech_, "touchstart", this.handleTechTouchStart_), this.off(this.tech_, "touchmove", this.handleTechTouchMove_), this.off(this.tech_, "touchend", this.handleTechTouchEnd_), this.off(this.tech_, "mousedown", this.handleTechClick_)
                    }, b.prototype.handleTechReady_ = function() {
                        this.triggerReady(), this.cache_.volume && this.techCall_("setVolume", this.cache_.volume), this.handleTechPosterChange_(), this.handleTechDurationChange_(), this.src() && this.tag && this.options_.autoplay && this.paused() && (delete this.tag.poster, this.play())
                    }, b.prototype.handleTechLoadStart_ = function() {
                        this.removeClass("vjs-ended"), this.error(null), this.paused() ? (this.hasStarted(!1), this.trigger("loadstart")) : (this.trigger("loadstart"), this.trigger("firstplay"))
                    }, b.prototype.hasStarted = function(a) {
                        return void 0 !== a ? (this.hasStarted_ !== a && (this.hasStarted_ = a, a ? (this.addClass("vjs-has-started"), this.trigger("firstplay")) : this.removeClass("vjs-has-started")), this) : !!this.hasStarted_
                    }, b.prototype.handleTechPlay_ = function() {
                        this.removeClass("vjs-ended"), this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.hasStarted(!0), this.trigger("play")
                    }, b.prototype.handleTechWaiting_ = function() {
                        var a = this;
                        this.addClass("vjs-waiting"), this.trigger("waiting"), this.one("timeupdate", function() {
                            return a.removeClass("vjs-waiting")
                        })
                    }, b.prototype.handleTechCanPlay_ = function() {
                        this.removeClass("vjs-waiting"), this.trigger("canplay")
                    }, b.prototype.handleTechCanPlayThrough_ = function() {
                        this.removeClass("vjs-waiting"), this.trigger("canplaythrough")
                    }, b.prototype.handleTechPlaying_ = function() {
                        this.removeClass("vjs-waiting"), this.trigger("playing")
                    }, b.prototype.handleTechSeeking_ = function() {
                        this.addClass("vjs-seeking"), this.trigger("seeking")
                    }, b.prototype.handleTechSeeked_ = function() {
                        this.removeClass("vjs-seeking"), this.trigger("seeked")
                    }, b.prototype.handleTechFirstPlay_ = function() {
                        this.options_.starttime && this.currentTime(this.options_.starttime), this.addClass("vjs-has-started"), this.trigger("firstplay")
                    }, b.prototype.handleTechPause_ = function() {
                        this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.trigger("pause")
                    }, b.prototype.handleTechProgress_ = function() {
                        this.trigger("progress")
                    }, b.prototype.handleTechEnded_ = function() {
                        this.addClass("vjs-ended"), this.options_.loop ? (this.currentTime(0), this.play()) : this.paused() || this.pause(), this.trigger("ended")
                    }, b.prototype.handleTechDurationChange_ = function() {
                        this.duration(this.techGet_("duration"))
                    }, b.prototype.handleTechClick_ = function(a) {
                        0 === a.button && this.controls() && (this.paused() ? this.play() : this.pause())
                    }, b.prototype.handleTechTap_ = function() {
                        this.userActive(!this.userActive())
                    }, b.prototype.handleTechTouchStart_ = function() {
                        this.userWasActive = this.userActive()
                    }, b.prototype.handleTechTouchMove_ = function() {
                        this.userWasActive && this.reportUserActivity()
                    }, b.prototype.handleTechTouchEnd_ = function(a) {
                        a.preventDefault()
                    }, b.prototype.handleFullscreenChange_ = function() {
                        this.isFullscreen() ? this.addClass("vjs-fullscreen") : this.removeClass("vjs-fullscreen")
                    }, b.prototype.handleStageClick_ = function() {
                        this.reportUserActivity()
                    }, b.prototype.handleTechFullscreenChange_ = function(a, b) {
                        b && this.isFullscreen(b.isFullscreen), this.trigger("fullscreenchange")
                    }, b.prototype.handleTechError_ = function() {
                        var a = this.tech_.error();
                        this.error(a && a.code)
                    }, b.prototype.handleTechSuspend_ = function() {
                        this.trigger("suspend")
                    }, b.prototype.handleTechAbort_ = function() {
                        this.trigger("abort")
                    }, b.prototype.handleTechEmptied_ = function() {
                        this.trigger("emptied")
                    }, b.prototype.handleTechStalled_ = function() {
                        this.trigger("stalled")
                    }, b.prototype.handleTechLoadedMetaData_ = function() {
                        this.trigger("loadedmetadata")
                    }, b.prototype.handleTechLoadedData_ = function() {
                        this.trigger("loadeddata")
                    }, b.prototype.handleTechTimeUpdate_ = function() {
                        this.trigger("timeupdate")
                    }, b.prototype.handleTechRateChange_ = function() {
                        this.trigger("ratechange")
                    }, b.prototype.handleTechVolumeChange_ = function() {
                        this.trigger("volumechange")
                    }, b.prototype.handleTechTextTrackChange_ = function() {
                        this.trigger("texttrackchange")
                    }, b.prototype.getCache = function() {
                        return this.cache_
                    }, b.prototype.techCall_ = function(a, b) {
                        if (this.tech_ && !this.tech_.isReady_)
                            this.tech_.ready(function() {
                                this[a](b)
                            }, !0);
                        else
                            try {
                                this.tech_[a](b)
                            } catch (c) {
                                throw y["default"](c), c
                            }
                    }, b.prototype.techGet_ = function(a) {
                        if (this.tech_ && this.tech_.isReady_)
                            try {
                                return this.tech_[a]()
                            } catch (b) {
                                throw void 0 === this.tech_[a] ? y["default"]("Video.js: " + a + " method not defined for " + this.techName_ + " playback technology.", b) : "TypeError" === b.name ? (y["default"]("Video.js: " + a + " unavailable on " + this.techName_ + " playback technology element.", b), this.tech_.isReady_ = !1) : y["default"](b), b
                            }
                    }, b.prototype.play = function() {
                        return this.techCall_("play"), this
                    }, b.prototype.pause = function() {
                        return this.techCall_("pause"), this
                    }, b.prototype.paused = function() {
                        return this.techGet_("paused") === !1 ? !1 : !0
                    }, b.prototype.scrubbing = function(a) {
                        return void 0 !== a ? (this.scrubbing_ = !!a, a ? this.addClass("vjs-scrubbing") : this.removeClass("vjs-scrubbing"), this) : this.scrubbing_
                    }, b.prototype.currentTime = function(a) {
                        return void 0 !== a ? (this.techCall_("setCurrentTime", a), this) : this.cache_.currentTime = this.techGet_("currentTime") || 0
                    }, b.prototype.duration = function(a) {
                        return void 0 === a ? this.cache_.duration || 0 : (a = parseFloat(a) || 0, 0 > a && (a = 1 / 0), a !== this.cache_.duration && (this.cache_.duration = a, a === 1 / 0 ? this.addClass("vjs-live") : this.removeClass("vjs-live"), this.trigger("durationchange")), this)
                    }, b.prototype.remainingTime = function() {
                        return this.duration() - this.currentTime()
                    }, b.prototype.buffered = function c() {
                        var c = this.techGet_("buffered");
                        return c && c.length || (c = B.createTimeRange(0, 0)), c
                    }, b.prototype.bufferedPercent = function() {
                        return C.bufferedPercent(this.buffered(), this.duration())
                    }, b.prototype.bufferedEnd = function() {
                        var a = this.buffered(),
                            b = this.duration(),
                            c = a.end(a.length - 1);
                        return c > b && (c = b), c
                    }, b.prototype.volume = function(a) {
                        var b = void 0;
                        return void 0 !== a ? (b = Math.max(0, Math.min(1, parseFloat(a))), this.cache_.volume = b, this.techCall_("setVolume", b), this) : (b = parseFloat(this.techGet_("volume")), isNaN(b) ? 1 : b)
                    }, b.prototype.muted = function(a) {
                        return void 0 !== a ? (this.techCall_("setMuted", a), this) : this.techGet_("muted") || !1
                    }, b.prototype.supportsFullScreen = function() {
                        return this.techGet_("supportsFullScreen") || !1
                    }, b.prototype.isFullscreen = function(a) {
                        return void 0 !== a ? (this.isFullscreen_ = !!a, this) : !!this.isFullscreen_
                    }, b.prototype.requestFullscreen = function() {
                        var a = G["default"];
                        return this.isFullscreen(!0), a.requestFullscreen ? (o.on(k["default"], a.fullscreenchange, s.bind(this, function b() {
                            this.isFullscreen(k["default"][a.fullscreenElement]), this.isFullscreen() === !1 && o.off(k["default"], a.fullscreenchange, b), this.trigger("fullscreenchange")
                        })), this.el_[a.requestFullscreen]()) : this.tech_.supportsFullScreen() ? this.techCall_("enterFullScreen") : (this.enterFullWindow(), this.trigger("fullscreenchange")), this
                    }, b.prototype.exitFullscreen = function() {
                        var a = G["default"];
                        return this.isFullscreen(!1), a.requestFullscreen ? k["default"][a.exitFullscreen]() : this.tech_.supportsFullScreen() ? this.techCall_("exitFullScreen") : (this.exitFullWindow(), this.trigger("fullscreenchange")), this
                    }, b.prototype.enterFullWindow = function() {
                        this.isFullWindow = !0, this.docOrigOverflow = k["default"].documentElement.style.overflow, o.on(k["default"], "keydown", s.bind(this, this.fullWindowOnEscKey)), k["default"].documentElement.style.overflow = "hidden", q.addElClass(k["default"].body, "vjs-full-window"), this.trigger("enterFullWindow")
                    }, b.prototype.fullWindowOnEscKey = function(a) {
                        27 === a.keyCode && (this.isFullscreen() === !0 ? this.exitFullscreen() : this.exitFullWindow())
                    }, b.prototype.exitFullWindow = function() {
                        this.isFullWindow = !1, o.off(k["default"], "keydown", this.fullWindowOnEscKey), k["default"].documentElement.style.overflow = this.docOrigOverflow, q.removeElClass(k["default"].body, "vjs-full-window"), this.trigger("exitFullWindow")
                    }, b.prototype.canPlayType = function(a) {
                        for (var b = void 0, c = 0, d = this.options_.techOrder; c < d.length; c++) {
                            var e = A["default"](d[c]),
                                f = aa["default"].getTech(e);
                            if (f || (f = i["default"].getComponent(e)), f) {
                                if (f.isSupported() && (b = f.canPlayType(a)))
                                    return b
                            } else
                                y["default"].error('The "' + e + '" tech is undefined. Skipped browser support check for that tech.')
                        }
                        return ""
                    }, b.prototype.selectSource = function(a) {
                        var b = this.options_.techOrder.map(A["default"]).map(function(a) {
                                return [a, aa["default"].getTech(a) || i["default"].getComponent(a)]
                            }).filter(function(a) {
                                var b = a[0],
                                    c = a[1];
                                return c ? c.isSupported() : (y["default"].error('The "' + b + '" tech is undefined. Skipped browser support check for that tech.'), !1)
                            }),
                            c = function(a, b, c) {
                                var d = void 0;
                                return a.some(function(a) {
                                    return b.some(function(b) {
                                        return d = c(a, b), d ? !0 : void 0
                                    })
                                }), d
                            },
                            d = void 0,
                            e = function(a) {
                                return function(b, c) {
                                    return a(c, b)
                                }
                            },
                            f = function(a, b) {
                                var c = a[0],
                                    d = a[1];
                                return d.canPlaySource(b) ? {
                                    source: b,
                                    tech: c
                                } : void 0
                            };
                        return d = this.options_.sourceOrder ? c(a, b, e(f)) : c(b, a, f), d || !1
                    }, b.prototype.src = function(a) {
                        if (void 0 === a)
                            return this.techGet_("src");
                        var b = aa["default"].getTech(this.techName_);
                        return b || (b = i["default"].getComponent(this.techName_)), Array.isArray(a) ? this.sourceList_(a) : "string" == typeof a ? this.src({
                            src: a
                        }) : a instanceof Object && (a.type && !b.canPlaySource(a) ? this.sourceList_([a]) : (this.cache_.src = a.src, this.currentType_ = a.type || "", this.ready(function() {
                            b.prototype.hasOwnProperty("setSource") ? this.techCall_("setSource", a) : this.techCall_("src", a.src), "auto" === this.options_.preload && this.load(), this.options_.autoplay && this.play()
                        }, !0))), this
                    }, b.prototype.sourceList_ = function(a) {
                        var b = this.selectSource(a);
                        b ? b.tech === this.techName_ ? this.src(b.source) : this.loadTech_(b.tech, b.source) : (this.setTimeout(function() {
                            this.error({
                                code: 4,
                                message: this.localize(this.options_.notSupportedMessage)
                            })
                        }, 0), this.triggerReady())
                    }, b.prototype.load = function() {
                        return this.techCall_("load"), this
                    }, b.prototype.reset = function() {
                        return this.loadTech_(A["default"](this.options_.techOrder[0]), null), this.techCall_("reset"), this
                    }, b.prototype.currentSrc = function() {
                        return this.techGet_("currentSrc") || this.cache_.src || ""
                    }, b.prototype.currentType = function() {
                        return this.currentType_ || ""
                    }, b.prototype.preload = function(a) {
                        return void 0 !== a ? (this.techCall_("setPreload", a), this.options_.preload = a, this) : this.techGet_("preload")
                    }, b.prototype.autoplay = function(a) {
                        return void 0 !== a ? (this.techCall_("setAutoplay", a), this.options_.autoplay = a, this) : this.techGet_("autoplay", a)
                    }, b.prototype.loop = function(a) {
                        return void 0 !== a ? (this.techCall_("setLoop", a), this.options_.loop = a, this) : this.techGet_("loop")
                    }, b.prototype.poster = function(a) {
                        return void 0 === a ? this.poster_ : (a || (a = ""), this.poster_ = a, this.techCall_("setPoster", a), this.trigger("posterchange"), this)
                    }, b.prototype.handleTechPosterChange_ = function() {
                        !this.poster_ && this.tech_ && this.tech_.poster && (this.poster_ = this.tech_.poster() || "", this.trigger("posterchange"))
                    }, b.prototype.controls = function(a) {
                        return void 0 !== a ? (a = !!a, this.controls_ !== a && (this.controls_ = a, this.usingNativeControls() && this.techCall_("setControls", a), a ? (this.removeClass("vjs-controls-disabled"), this.addClass("vjs-controls-enabled"), this.trigger("controlsenabled"), this.usingNativeControls() || this.addTechControlsListeners_()) : (this.removeClass("vjs-controls-enabled"), this.addClass("vjs-controls-disabled"), this.trigger("controlsdisabled"), this.usingNativeControls() || this.removeTechControlsListeners_())), this) : !!this.controls_
                    }, b.prototype.usingNativeControls = function(a) {
                        return void 0 !== a ? (a = !!a, this.usingNativeControls_ !== a && (this.usingNativeControls_ = a, a ? (this.addClass("vjs-using-native-controls"), this.trigger("usingnativecontrols")) : (this.removeClass("vjs-using-native-controls"), this.trigger("usingcustomcontrols"))), this) : !!this.usingNativeControls_
                    }, b.prototype.error = function(a) {
                        return void 0 === a ? this.error_ || null : null === a ? (this.error_ = a, this.removeClass("vjs-error"), this.errorDisplay.close(), this) : (this.error_ = a instanceof I["default"] ? a : new I["default"](a), this.addClass("vjs-error"), y["default"].error("(CODE:" + this.error_.code + " " + I["default"].errorTypes[this.error_.code] + ")", this.error_.message, this.error_), this.trigger("error"), this)
                    }, b.prototype.ended = function() {
                        return this.techGet_("ended")
                    }, b.prototype.seeking = function() {
                        return this.techGet_("seeking")
                    }, b.prototype.seekable = function() {
                        return this.techGet_("seekable")
                    }, b.prototype.reportUserActivity = function() {
                        this.userActivity_ = !0
                    }, b.prototype.userActive = function(a) {
                        return void 0 !== a ? (a = !!a, a !== this.userActive_ && (this.userActive_ = a, a ? (this.userActivity_ = !0, this.removeClass("vjs-user-inactive"), this.addClass("vjs-user-active"), this.trigger("useractive")) : (this.userActivity_ = !1, this.tech_ && this.tech_.one("mousemove", function(a) {
                            a.stopPropagation(), a.preventDefault()
                        }), this.removeClass("vjs-user-active"), this.addClass("vjs-user-inactive"), this.trigger("userinactive"))), this) : this.userActive_
                    }, b.prototype.listenForUserActivity_ = function() {
                        var a = void 0,
                            b = void 0,
                            c = void 0,
                            d = s.bind(this, this.reportUserActivity),
                            e = function(a) {
                                (a.screenX !== b || a.screenY !== c) && (b = a.screenX, c = a.screenY, d())
                            },
                            f = function() {
                                d(), this.clearInterval(a), a = this.setInterval(d, 250)
                            },
                            g = function() {
                                d(), this.clearInterval(a)
                            };
                        this.on("mousedown", f), this.on("mousemove", e), this.on("mouseup", g), this.on("keydown", d), this.on("keyup", d);
                        {
                            var h = void 0;
                            this.setInterval(function() {
                                if (this.userActivity_) {
                                    this.userActivity_ = !1, this.userActive(!0), this.clearTimeout(h);
                                    var a = this.options_.inactivityTimeout;
                                    a > 0 && (h = this.setTimeout(function() {
                                        this.userActivity_ || this.userActive(!1)
                                    }, a))
                                }
                            }, 250)
                        }
                    }, b.prototype.playbackRate = function(a) {
                        return void 0 !== a ? (this.techCall_("setPlaybackRate", a), this) : this.tech_ && this.tech_.featuresPlaybackRate ? this.techGet_("playbackRate") : 1
                    }, b.prototype.isAudio = function(a) {
                        return void 0 !== a ? (this.isAudio_ = !!a, this) : !!this.isAudio_
                    }, b.prototype.networkState = function() {
                        return this.techGet_("networkState")
                    }, b.prototype.readyState = function() {
                        return this.techGet_("readyState")
                    }, b.prototype.textTracks = function() {
                        return this.tech_ && this.tech_.textTracks()
                    }, b.prototype.remoteTextTracks = function() {
                        return this.tech_ && this.tech_.remoteTextTracks()
                    }, b.prototype.remoteTextTrackEls = function() {
                        return this.tech_ && this.tech_.remoteTextTrackEls()
                    }, b.prototype.addTextTrack = function(a, b, c) {
                        return this.tech_ && this.tech_.addTextTrack(a, b, c)
                    }, b.prototype.addRemoteTextTrack = function(a) {
                        return this.tech_ && this.tech_.addRemoteTextTrack(a)
                    }, b.prototype.removeRemoteTextTrack = function(a) {
                        this.tech_ && this.tech_.removeRemoteTextTrack(a)
                    }, b.prototype.videoWidth = function() {
                        return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0
                    }, b.prototype.videoHeight = function() {
                        return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0
                    }, b.prototype.language = function(a) {
                        return void 0 === a ? this.language_ : (this.language_ = ("" + a).toLowerCase(), this)
                    }, b.prototype.languages = function() {
                        return O["default"](b.prototype.options_.languages, this.languages_)
                    }, b.prototype.toJSON = function() {
                        var a = O["default"](this.options_),
                            b = a.tracks;
                        a.tracks = [];
                        for (var c = 0; c < b.length; c++) {
                            var d = b[c];
                            d = O["default"](d), d.player = void 0, a.tracks[c] = d
                        }
                        return a
                    }, b.prototype.createModal = function(a, b) {
                        var c = this;
                        b = b || {}, b.content = a || "";
                        var d = new $["default"](c, b);
                        return c.addChild(d), d.on("dispose", function() {
                            c.removeChild(d)
                        }), d.open()
                    }, b.getTagSettings = function(a) {
                        var b = {
                                sources: [],
                                tracks: []
                            },
                            c = q.getElAttributes(a),
                            d = c["data-setup"];
                        if (null !== d) {
                            var e = K["default"](d || "{}"),
                                f = e[0],
                                g = e[1];
                            f && y["default"].error(f), M["default"](c, g)
                        }
                        if (M["default"](b, c), a.hasChildNodes())
                            for (var h = a.childNodes, i = 0, j = h.length; j > i; i++) {
                                var k = h[i],
                                    l = k.nodeName.toLowerCase();
                                "source" === l ? b.sources.push(q.getElAttributes(k)) : "track" === l && b.tracks.push(q.getElAttributes(k))
                            }
                        return b
                    }, b
                }(i["default"]));
            ca.players = {};
            var da = m["default"].navigator;
            ca.prototype.options_ = {
                techOrder: ["html5", "flash"],
                html5: {},
                flash: {},
                defaultVolume: 0,
                inactivityTimeout: 2e3,
                playbackRates: [],
                children: ["mediaLoader", "posterImage", "textTrackDisplay", "loadingSpinner", "bigPlayButton", "controlBar", "errorDisplay", "textTrackSettings"],
                language: k["default"].getElementsByTagName("html")[0].getAttribute("lang") || da.languages && da.languages[0] || da.userLanguage || da.language || "en",
                languages: {},
                notSupportedMessage: "No compatible source was found for this media."
            }, ca.prototype.handleLoadedMetaData_, ca.prototype.handleLoadedData_, ca.prototype.handleUserActive_, ca.prototype.handleUserInactive_, ca.prototype.handleTimeUpdate_, ca.prototype.handleTechEnded_, ca.prototype.handleVolumeChange_, ca.prototype.handleError_, ca.prototype.flexNotSupported_ = function() {
                var a = k["default"].createElement("i");
                return !("flexBasis" in a.style || "webkitFlexBasis" in a.style || "mozFlexBasis" in a.style || "msFlexBasis" in a.style || "msFlexOrder" in a.style)
            }, i["default"].registerComponent("Player", ca), c["default"] = ca, b.exports = c["default"]
        }, {
            "./big-play-button.js": 63,
            "./component.js": 67,
            "./control-bar/control-bar.js": 68,
            "./error-display.js": 98,
            "./fullscreen-api.js": 101,
            "./loading-spinner.js": 102,
            "./media-error.js": 103,
            "./modal-dialog": 107,
            "./poster-image.js": 112,
            "./tech/html5.js": 117,
            "./tech/loader.js": 118,
            "./tech/tech.js": 119,
            "./tracks/text-track-display.js": 123,
            "./tracks/text-track-list-converter.js": 125,
            "./tracks/text-track-settings.js": 127,
            "./utils/browser.js": 129,
            "./utils/buffer.js": 130,
            "./utils/dom.js": 132,
            "./utils/events.js": 133,
            "./utils/fn.js": 134,
            "./utils/guid.js": 136,
            "./utils/log.js": 137,
            "./utils/merge-options.js": 138,
            "./utils/stylesheet.js": 139,
            "./utils/time-ranges.js": 140,
            "./utils/to-title-case.js": 141,
            "global/document": 1,
            "global/window": 2,
            "object.assign": 45,
            "safe-json-parse/tuple": 54
        }],
        109: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            c.__esModule = !0;
            var e = a("./player.js"),
                f = d(e),
                g = function(a, b) {
                    f["default"].prototype[a] = b
                };
            c["default"] = g, b.exports = c["default"]
        }, {
            "./player.js": 108
        }],
        110: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../clickable-component.js"),
                i = e(h),
                j = a("../component.js"),
                k = e(j),
                l = a("./popup.js"),
                m = (e(l), a("../utils/dom.js")),
                n = (d(m), a("../utils/fn.js")),
                o = (d(n), a("../utils/to-title-case.js")),
                p = (e(o), function(a) {
                    function b(c) {
                        var d = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                        f(this, b), a.call(this, c, d), this.update()
                    }
                    return g(b, a), b.prototype.update = function() {
                        var a = this.createPopup();
                        this.popup && this.removeChild(this.popup), this.popup = a, this.addChild(a), this.items && 0 === this.items.length ? this.hide() : this.items && this.items.length > 1 && this.show()
                    }, b.prototype.createPopup = function() {}, b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: this.buildCSSClass()
                        })
                    }, b.prototype.buildCSSClass = function() {
                        var b = "vjs-menu-button";
                        return b += this.options_.inline === !0 ? "-inline" : "-popup", "vjs-menu-button " + b + " " + a.prototype.buildCSSClass.call(this)
                    }, b
                }(i["default"]));
            k["default"].registerComponent("PopupButton", p), c["default"] = p, b.exports = c["default"]
        }, {
            "../clickable-component.js": 65,
            "../component.js": 67,
            "../utils/dom.js": 132,
            "../utils/fn.js": 134,
            "../utils/to-title-case.js": 141,
            "./popup.js": 111
        }],
        111: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../component.js"),
                i = e(h),
                j = a("../utils/dom.js"),
                k = d(j),
                l = a("../utils/fn.js"),
                m = d(l),
                n = a("../utils/events.js"),
                o = d(n),
                p = function(a) {
                    function b() {
                        f(this, b), a.apply(this, arguments)
                    }
                    return g(b, a), b.prototype.addItem = function(a) {
                        this.addChild(a), a.on("click", m.bind(this, function() {
                            this.unlockShowing()
                        }))
                    }, b.prototype.createEl = function() {
                        var b = this.options_.contentElType || "ul";
                        this.contentEl_ = k.createEl(b, {
                            className: "vjs-menu-content"
                        });
                        var c = a.prototype.createEl.call(this, "div", {
                            append: this.contentEl_,
                            className: "vjs-menu"
                        });
                        return c.appendChild(this.contentEl_), o.on(c, "click", function(a) {
                            a.preventDefault(), a.stopImmediatePropagation()
                        }), c
                    }, b
                }(i["default"]);
            i["default"].registerComponent("Popup", p), c["default"] = p, b.exports = c["default"]
        }, {
            "../component.js": 67,
            "../utils/dom.js": 132,
            "../utils/events.js": 133,
            "../utils/fn.js": 134
        }],
        112: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("./clickable-component.js"),
                i = e(h),
                j = a("./component.js"),
                k = e(j),
                l = a("./utils/fn.js"),
                m = d(l),
                n = a("./utils/dom.js"),
                o = d(n),
                p = a("./utils/browser.js"),
                q = d(p),
                r = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.update(), c.on("posterchange", m.bind(this, this.update))
                    }
                    return g(b, a), b.prototype.dispose = function() {
                        this.player().off("posterchange", this.update), a.prototype.dispose.call(this)
                    }, b.prototype.createEl = function() {
                        var a = o.createEl("div", {
                            className: "vjs-poster",
                            tabIndex: -1
                        });
                        return q.BACKGROUND_SIZE_SUPPORTED || (this.fallbackImg_ = o.createEl("img"), a.appendChild(this.fallbackImg_)), a
                    }, b.prototype.update = function() {
                        var a = this.player().poster();
                        this.setSrc(a), a ? this.show() : this.hide()
                    }, b.prototype.setSrc = function(a) {
                        if (this.fallbackImg_)
                            this.fallbackImg_.src = a;
                        else {
                            var b = "";
                            a && (b = 'url("' + a + '")'), this.el_.style.backgroundImage = b
                        }
                    }, b.prototype.handleClick = function() {
                        this.player_.paused() ? this.player_.play() : this.player_.pause()
                    }, b
                }(i["default"]);
            k["default"].registerComponent("PosterImage", r), c["default"] = r, b.exports = c["default"]
        }, {
            "./clickable-component.js": 65,
            "./component.js": 67,
            "./utils/browser.js": 129,
            "./utils/dom.js": 132,
            "./utils/fn.js": 134
        }],
        113: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            c.__esModule = !0;
            var f = a("./utils/events.js"),
                g = e(f),
                h = a("global/document"),
                i = d(h),
                j = a("global/window"),
                k = d(j),
                l = !1,
                m = void 0,
                n = function() {
                    var a = i["default"].getElementsByTagName("video"),
                        b = i["default"].getElementsByTagName("audio"),
                        c = [];
                    if (a && a.length > 0)
                        for (var d = 0, e = a.length; e > d; d++)
                            c.push(a[d]);
                    if (b && b.length > 0)
                        for (var d = 0, e = b.length; e > d; d++)
                            c.push(b[d]);
                    if (c && c.length > 0)
                        for (var d = 0, e = c.length; e > d; d++) {
                            var f = c[d];
                            if (!f || !f.getAttribute) {
                                o(1);
                                break
                            }
                            if (void 0 === f.player) {
                                var g = f.getAttribute("data-setup");
                                if (null !== g) {
                                    m(f)
                                }
                            }
                        }
                    else
                        l || o(1)
                },
                o = function(a, b) {
                    b && (m = b), setTimeout(n, a)
                };
            "complete" === i["default"].readyState ? l = !0 : g.one(k["default"], "load", function() {
                l = !0
            });
            var p = function() {
                return l
            };
            c.autoSetup = n, c.autoSetupTimeout = o, c.hasLoaded = p
        }, {
            "./utils/events.js": 133,
            "global/document": 1,
            "global/window": 2
        }],
        114: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../component.js"),
                i = e(h),
                j = a("../utils/dom.js"),
                k = d(j),
                l = a("global/document"),
                m = e(l),
                n = a("object.assign"),
                o = e(n),
                p = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.bar = this.getChild(this.options_.barName), this.vertical(!!this.options_.vertical), this.on("mousedown", this.handleMouseDown), this.on("touchstart", this.handleMouseDown), this.on("focus", this.handleFocus), this.on("blur", this.handleBlur), this.on("click", this.handleClick), this.on(c, "controlsvisible", this.update), this.on(c, this.playerEvent, this.update)
                    }
                    return g(b, a), b.prototype.createEl = function(b) {
                        var c = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
                            d = arguments.length <= 2 || void 0 === arguments[2] ? {} : arguments[2];
                        return c.className = c.className + " vjs-slider", c = o["default"]({
                            tabIndex: 0
                        }, c), d = o["default"]({
                            role: "slider",
                            "aria-valuenow": 0,
                            "aria-valuemin": 0,
                            "aria-valuemax": 100,
                            tabIndex: 0
                        }, d), a.prototype.createEl.call(this, b, c, d)
                    }, b.prototype.handleMouseDown = function(a) {
                        a.preventDefault(), k.blockTextSelection(), this.addClass("vjs-sliding"), this.trigger("slideractive"), this.on(m["default"], "mousemove", this.handleMouseMove), this.on(m["default"], "mouseup", this.handleMouseUp), this.on(m["default"], "touchmove", this.handleMouseMove), this.on(m["default"], "touchend", this.handleMouseUp), this.handleMouseMove(a)
                    }, b.prototype.handleMouseMove = function() {}, b.prototype.handleMouseUp = function() {
                        k.unblockTextSelection(), this.removeClass("vjs-sliding"), this.trigger("sliderinactive"), this.off(m["default"], "mousemove", this.handleMouseMove), this.off(m["default"], "mouseup", this.handleMouseUp), this.off(m["default"], "touchmove", this.handleMouseMove), this.off(m["default"], "touchend", this.handleMouseUp), this.update()
                    }, b.prototype.update = function() {
                        if (this.el_) {
                            var a = this.getPercent(),
                                b = this.bar;
                            if (b) {
                                ("number" != typeof a || a !== a || 0 > a || a === 1 / 0) && (a = 0);
                                var c = (100 * a).toFixed(2) + "%";
                                this.vertical() ? b.el().style.height = c : b.el().style.width = c
                            }
                        }
                    }, b.prototype.calculateDistance = function(a) {
                        var b = k.getPointerPosition(this.el_, a);
                        return this.vertical() ? b.y : b.x
                    }, b.prototype.handleFocus = function() {
                        this.on(m["default"], "keydown", this.handleKeyPress)
                    }, b.prototype.handleKeyPress = function(a) {
                        37 === a.which || 40 === a.which ? (a.preventDefault(), this.stepBack()) : (38 === a.which || 39 === a.which) && (a.preventDefault(), this.stepForward())
                    }, b.prototype.handleBlur = function() {
                        this.off(m["default"], "keydown", this.handleKeyPress)
                    }, b.prototype.handleClick = function(a) {
                        a.stopImmediatePropagation(), a.preventDefault()
                    }, b.prototype.vertical = function(a) {
                        return void 0 === a ? this.vertical_ || !1 : (this.vertical_ = !!a, this.addClass(this.vertical_ ? "vjs-slider-vertical" : "vjs-slider-horizontal"), this)
                    }, b
                }(i["default"]);
            i["default"].registerComponent("Slider", p), c["default"] = p, b.exports = c["default"]
        }, {
            "../component.js": 67,
            "../utils/dom.js": 132,
            "global/document": 1,
            "object.assign": 45
        }],
        115: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a.streamingFormats = {
                    "rtmp/mp4": "MP4",
                    "rtmp/flv": "FLV"
                }, a.streamFromParts = function(a, b) {
                    return a + "&" + b
                }, a.streamToParts = function(a) {
                    var b = {
                        connection: "",
                        stream: ""
                    };
                    if (!a)
                        return b;
                    var c = a.search(/&(?!\w+=)/),
                        d = void 0;
                    return -1 !== c ? d = c + 1 : (c = d = a.lastIndexOf("/") + 1, 0 === c && (c = d = a.length)), b.connection = a.substring(0, c), b.stream = a.substring(d, a.length), b
                }, a.isStreamingType = function(b) {
                    return b in a.streamingFormats
                }, a.RTMP_RE = /^rtmp[set]?:\/\//i, a.isStreamingSrc = function(b) {
                    return a.RTMP_RE.test(b)
                }, a.rtmpSourceHandler = {}, a.rtmpSourceHandler.canPlayType = function(b) {
                    return a.isStreamingType(b) ? "maybe" : ""
                }, a.rtmpSourceHandler.canHandleSource = function(b) {
                    var c = a.rtmpSourceHandler.canPlayType(b.type);
                    return c ? c : a.isStreamingSrc(b.src) ? "maybe" : ""
                }, a.rtmpSourceHandler.handleSource = function(b, c) {
                    var d = a.streamToParts(b.src);
                    c.setRtmpConnection(d.connection), c.setRtmpStream(d.stream)
                }, a.registerSourceHandler(a.rtmpSourceHandler), a
            }
            c.__esModule = !0, c["default"] = d, b.exports = c["default"]
        }, {}],
        116: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            function h(a) {
                var b = a.charAt(0).toUpperCase() + a.slice(1);
                A["set" + b] = function(b) {
                    return this.el_.vjs_setProperty(a, b)
                }
            }
            function i(a) {
                A[a] = function() {
                    return this.el_.vjs_getProperty(a)
                }
            }
            c.__esModule = !0;
            for (var j = a("./tech"), k = e(j), l = a("../utils/dom.js"), m = d(l), n = a("../utils/url.js"), o = d(n), p = a("../utils/time-ranges.js"), q = a("./flash-rtmp"), r = e(q), s = a("../component"), t = e(s), u = a("global/window"), v = e(u), w = a("object.assign"), x = e(w), y = v["default"].navigator, z = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), c.source && this.ready(function() {
                            this.setSource(c.source)
                        }, !0), c.startTime && this.ready(function() {
                            this.load(), this.play(), this.currentTime(c.startTime)
                        }, !0), v["default"].videojs = v["default"].videojs || {}, v["default"].videojs.Flash = v["default"].videojs.Flash || {}, v["default"].videojs.Flash.onReady = b.onReady, v["default"].videojs.Flash.onEvent = b.onEvent, v["default"].videojs.Flash.onError = b.onError, this.on("seeked", function() {
                            this.lastSeekTarget_ = void 0
                        })
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        var a = this.options_;
                        a.swf || (a.swf = "//vjs.zencdn.net/swf/5.0.1/video-js.swf");
                        var c = a.techId,
                            d = x["default"]({
                                readyFunction: "videojs.Flash.onReady",
                                eventProxyFunction: "videojs.Flash.onEvent",
                                errorEventProxyFunction: "videojs.Flash.onError",
                                autoplay: a.autoplay,
                                preload: a.preload,
                                loop: a.loop,
                                muted: a.muted
                            }, a.flashVars),
                            e = x["default"]({
                                wmode: "opaque",
                                bgcolor: "#000000"
                            }, a.params),
                            f = x["default"]({
                                id: c,
                                name: c,
                                "class": "vjs-tech"
                            }, a.attributes);
                        return this.el_ = b.embed(a.swf, d, e, f), this.el_.tech = this, this.el_
                    }, b.prototype.play = function() {
                        this.ended() && this.setCurrentTime(0), this.el_.vjs_play()
                    }, b.prototype.pause = function() {
                        this.el_.vjs_pause()
                    }, b.prototype.src = function(a) {
                        return void 0 === a ? this.currentSrc() : this.setSrc(a)
                    }, b.prototype.setSrc = function(a) {
                        if (a = o.getAbsoluteURL(a), this.el_.vjs_src(a), this.autoplay()) {
                            var b = this;
                            this.setTimeout(function() {
                                b.play()
                            }, 0)
                        }
                    }, b.prototype.seeking = function() {
                        return void 0 !== this.lastSeekTarget_
                    }, b.prototype.setCurrentTime = function(b) {
                        var c = this.seekable();
                        c.length && (b = b > c.start(0) ? b : c.start(0), b = b < c.end(c.length - 1) ? b : c.end(c.length - 1), this.lastSeekTarget_ = b, this.trigger("seeking"), this.el_.vjs_setProperty("currentTime", b), a.prototype.setCurrentTime.call(this))
                    }, b.prototype.currentTime = function() {
                        return this.seeking() ? this.lastSeekTarget_ || 0 : this.el_.vjs_getProperty("currentTime")
                    }, b.prototype.currentSrc = function() {
                        return this.currentSource_ ? this.currentSource_.src : this.el_.vjs_getProperty("currentSrc")
                    }, b.prototype.load = function() {
                        this.el_.vjs_load()
                    }, b.prototype.poster = function() {
                        this.el_.vjs_getProperty("poster")
                    }, b.prototype.setPoster = function() {}, b.prototype.seekable = function() {
                        var a = this.duration();
                        return 0 === a ? p.createTimeRange() : p.createTimeRange(0, a)
                    }, b.prototype.buffered = function() {
                        var a = this.el_.vjs_getProperty("buffered");
                        return 0 === a.length ? p.createTimeRange() : p.createTimeRange(a[0][0], a[0][1])
                    }, b.prototype.supportsFullScreen = function() {
                        return !1
                    }, b.prototype.enterFullScreen = function() {
                        return !1
                    }, b
                }(k["default"]), A = z.prototype, B = "rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","), C = "networkState,readyState,initialTime,duration,startOffsetTime,paused,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(","), D = 0; D < B.length; D++)
                i(B[D]), h(B[D]);
            for (var D = 0; D < C.length; D++)
                i(C[D]);
            z.isSupported = function() {
                return z.version()[0] >= 10
            }, k["default"].withSourceHandlers(z), z.nativeSourceHandler = {}, z.nativeSourceHandler.canPlayType = function(a) {
                return a in z.formats ? "maybe" : ""
            }, z.nativeSourceHandler.canHandleSource = function(a) {
                function b(a) {
                    var b = o.getFileExtension(a);
                    return b ? "video/" + b : ""
                }
                var c;
                return c = a.type ? a.type.replace(/;.*/, "").toLowerCase() : b(a.src), z.nativeSourceHandler.canPlayType(c)
            }, z.nativeSourceHandler.handleSource = function(a, b) {
                b.setSrc(a.src)
            }, z.nativeSourceHandler.dispose = function() {}, z.registerSourceHandler(z.nativeSourceHandler), z.formats = {
                "video/flv": "FLV",
                "video/x-flv": "FLV",
                "video/mp4": "MP4",
                "video/m4v": "MP4"
            }, z.onReady = function(a) {
                var b = m.getEl(a),
                    c = b && b.tech;
                c && c.el() && z.checkReady(c)
            }, z.checkReady = function(a) {
                a.el() && (a.el().vjs_getProperty ? a.triggerReady() : this.setTimeout(function() {
                    z.checkReady(a)
                }, 50))
            }, z.onEvent = function(a, b) {
                var c = m.getEl(a).tech;
                c.trigger(b)
            }, z.onError = function(a, b) {
                var c = m.getEl(a).tech;
                return "srcnotfound" === b ? c.error(4) : void c.error("FLASH: " + b)
            }, z.version = function() {
                var a = "0,0,0";
                try {
                    a = new v["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g, ",").match(/^,?(.+),?$/)[1]
                } catch (b) {
                    try {
                        y.mimeTypes["application/x-shockwave-flash"].enabledPlugin && (a = (y.plugins["Shockwave Flash 2.0"] || y.plugins["Shockwave Flash"]).description.replace(/\D+/g, ",").match(/^,?(.+),?$/)[1])
                    } catch (c) {}
                }
                return a.split(",")
            }, z.embed = function(a, b, c, d) {
                var e = z.getEmbedCode(a, b, c, d),
                    f = m.createEl("div", {
                        innerHTML: e
                    }).childNodes[0];
                return f
            }, z.getEmbedCode = function(a, b, c, d) {
                var e = '<object type="application/x-shockwave-flash" ',
                    f = "",
                    g = "",
                    h = "";
                return b && Object.getOwnPropertyNames(b).forEach(function(a) {
                    f += a + "=" + b[a] + "&amp;"
                }), c = x["default"]({
                    movie: a,
                    flashvars: f,
                    allowScriptAccess: "always",
                    allowNetworking: "all"
                }, c), Object.getOwnPropertyNames(c).forEach(function(a) {
                    g += '<param name="' + a + '" value="' + c[a] + '" />'
                }), d = x["default"]({
                    data: a,
                    width: "100%",
                    height: "100%"
                }, d), Object.getOwnPropertyNames(d).forEach(function(a) {
                    h += a + '="' + d[a] + '" '
                }), "" + e + h + ">" + g + "</object>"
            }, r["default"](z), t["default"].registerComponent("Flash", z), k["default"].registerTech("Flash", z), c["default"] = z, b.exports = c["default"]
        }, {
            "../component": 67,
            "../utils/dom.js": 132,
            "../utils/time-ranges.js": 140,
            "../utils/url.js": 142,
            "./flash-rtmp": 115,
            "./tech": 119,
            "global/window": 2,
            "object.assign": 45
        }],
        117: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("./tech.js"),
                i = e(h),
                j = a("../component"),
                k = e(j),
                l = a("../utils/dom.js"),
                m = d(l),
                n = a("../utils/url.js"),
                o = d(n),
                p = a("../utils/fn.js"),
                q = d(p),
                r = a("../utils/log.js"),
                s = e(r),
                t = a("../utils/browser.js"),
                u = d(t),
                v = a("global/document"),
                w = e(v),
                x = a("global/window"),
                y = e(x),
                z = a("object.assign"),
                A = e(z),
                B = a("../utils/merge-options.js"),
                C = e(B),
                D = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d);
                        var e = c.source;
                        if (e && (this.el_.currentSrc !== e.src || c.tag && 3 === c.tag.initNetworkState_) ? this.setSource(e) : this.handleLateInit_(this.el_), this.el_.hasChildNodes()) {
                            for (var g = this.el_.childNodes, h = g.length, i = []; h--;) {
                                var j = g[h],
                                    k = j.nodeName.toLowerCase();
                                "track" === k && (this.featuresNativeTextTracks ? (this.remoteTextTrackEls().addTrackElement_(j), this.remoteTextTracks().addTrack_(j.track)) : i.push(j))
                            }
                            for (var l = 0; l < i.length; l++)
                                this.el_.removeChild(i[l])
                        }
                        this.featuresNativeTextTracks && (this.handleTextTrackChange_ = q.bind(this, this.handleTextTrackChange), this.handleTextTrackAdd_ = q.bind(this, this.handleTextTrackAdd), this.handleTextTrackRemove_ = q.bind(this, this.handleTextTrackRemove), this.proxyNativeTextTracks_()), (u.TOUCH_ENABLED && c.nativeControlsForTouch === !0 || u.IS_IPHONE || u.IS_NATIVE_ANDROID) && this.setControls(!0), this.triggerReady()
                    }
                    return g(b, a), b.prototype.dispose = function() {
                        var c = this.el().textTracks,
                            d = this.textTracks();
                        c && c.removeEventListener && (c.removeEventListener("change", this.handleTextTrackChange_), c.removeEventListener("addtrack", this.handleTextTrackAdd_), c.removeEventListener("removetrack", this.handleTextTrackRemove_));
                        for (var e = d.length; e--;)
                            d.removeTrack_(d[e]);
                        b.disposeMediaElement(this.el_), a.prototype.dispose.call(this)
                    }, b.prototype.createEl = function() {
                        var a = this.options_.tag;
                        if (!a || this.movingMediaElementInDOM === !1)
                            if (a) {
                                var c = a.cloneNode(!0);
                                a.parentNode.insertBefore(c, a), b.disposeMediaElement(a), a = c
                            } else {
                                a = w["default"].createElement("video");
                                var d = this.options_.tag && m.getElAttributes(this.options_.tag),
                                    e = C["default"]({}, d);
                                u.TOUCH_ENABLED && this.options_.nativeControlsForTouch === !0 || delete e.controls, m.setElAttributes(a, A["default"](e, {
                                    id: this.options_.techId,
                                    "class": "vjs-tech"
                                }))
                            }
                        for (var f = ["autoplay", "preload", "loop", "muted"], g = f.length - 1; g >= 0; g--) {
                            var h = f[g],
                                i = {};
                            "undefined" != typeof this.options_[h] && (i[h] = this.options_[h]), m.setElAttributes(a, i)
                        }
                        return a
                    }, b.prototype.handleLateInit_ = function(a) {
                        var b = this;
                        if (0 !== a.networkState && 3 !== a.networkState) {
                            if (0 === a.readyState) {
                                var c = function() {
                                    var a = !1,
                                        c = function() {
                                            a = !0
                                        };
                                    b.on("loadstart", c);
                                    var d = function() {
                                        a || this.trigger("loadstart")
                                    };
                                    return b.on("loadedmetadata", d), b.ready(function() {
                                        this.off("loadstart", c), this.off("loadedmetadata", d), a || this.trigger("loadstart")
                                    }), {
                                        v: void 0
                                    }
                                }();
                                if ("object" == typeof c)
                                    return c.v
                            }
                            var d = ["loadstart"];
                            d.push("loadedmetadata"), a.readyState >= 2 && d.push("loadeddata"), a.readyState >= 3 && d.push("canplay"), a.readyState >= 4 && d.push("canplaythrough"), this.ready(function() {
                                d.forEach(function(a) {
                                    this.trigger(a)
                                }, this)
                            })
                        }
                    }, b.prototype.proxyNativeTextTracks_ = function() {
                        var a = this.el().textTracks;
                        if (a) {
                            for (var b = 0; b < a.length; b++)
                                this.textTracks().addTrack_(a[b]);
                            a.addEventListener && (a.addEventListener("change", this.handleTextTrackChange_), a.addEventListener("addtrack", this.handleTextTrackAdd_), a.addEventListener("removetrack", this.handleTextTrackRemove_))
                        }
                    }, b.prototype.handleTextTrackChange = function() {
                        var a = this.textTracks();
                        this.textTracks().trigger({
                            type: "change",
                            target: a,
                            currentTarget: a,
                            srcElement: a
                        })
                    }, b.prototype.handleTextTrackAdd = function(a) {
                        this.textTracks().addTrack_(a.track)
                    }, b.prototype.handleTextTrackRemove = function(a) {
                        this.textTracks().removeTrack_(a.track)
                    }, b.prototype.play = function() {
                        this.el_.play()
                    }, b.prototype.pause = function() {
                        this.el_.pause()
                    }, b.prototype.paused = function() {
                        return this.el_.paused
                    }, b.prototype.currentTime = function() {
                        return this.el_.currentTime
                    }, b.prototype.setCurrentTime = function(a) {
                        try {
                            this.el_.currentTime = a
                        } catch (b) {
                            s["default"](b, "Video is not ready. (Video.js)")
                        }
                    }, b.prototype.duration = function() {
                        return this.el_.duration || 0
                    }, b.prototype.buffered = function() {
                        return this.el_.buffered
                    }, b.prototype.volume = function() {
                        return this.el_.volume
                    }, b.prototype.setVolume = function(a) {
                        this.el_.volume = a
                    }, b.prototype.muted = function() {
                        return this.el_.muted
                    }, b.prototype.setMuted = function(a) {
                        this.el_.muted = a
                    }, b.prototype.width = function() {
                        return this.el_.offsetWidth
                    }, b.prototype.height = function() {
                        return this.el_.offsetHeight
                    }, b.prototype.supportsFullScreen = function() {
                        if ("function" == typeof this.el_.webkitEnterFullScreen) {
                            var a = y["default"].navigator.userAgent;
                            if (/Android/.test(a) || !/Chrome|Mac OS X 10.5/.test(a))
                                return !0
                        }
                        return !1
                    }, b.prototype.enterFullScreen = function() {
                        var a = this.el_;
                        "webkitDisplayingFullscreen" in a && this.one("webkitbeginfullscreen", function() {
                            this.one("webkitendfullscreen", function() {
                                this.trigger("fullscreenchange", {
                                    isFullscreen: !1
                                })
                            }), this.trigger("fullscreenchange", {
                                isFullscreen: !0
                            })
                        }), a.paused && a.networkState <= a.HAVE_METADATA ? (this.el_.play(), this.setTimeout(function() {
                            a.pause(), a.webkitEnterFullScreen()
                        }, 0)) : a.webkitEnterFullScreen()
                    }, b.prototype.exitFullScreen = function() {
                        this.el_.webkitExitFullScreen()
                    }, b.prototype.src = function(a) {
                        return void 0 === a ? this.el_.src : void this.setSrc(a)
                    }, b.prototype.setSrc = function(a) {
                        this.el_.src = a;

                    }, b.prototype.load = function() {
                        this.el_.load()
                    }, b.prototype.reset = function() {
                        b.resetMediaElement(this.el_)
                    }, b.prototype.currentSrc = function() {
                        return this.currentSource_ ? this.currentSource_.src : this.el_.currentSrc
                    }, b.prototype.poster = function() {
                        return this.el_.poster
                    }, b.prototype.setPoster = function(a) {
                        this.el_.poster = a
                    }, b.prototype.preload = function() {
                        return this.el_.preload
                    }, b.prototype.setPreload = function(a) {
                        this.el_.preload = a
                    }, b.prototype.autoplay = function() {
                        return this.el_.autoplay
                    }, b.prototype.setAutoplay = function(a) {
                        this.el_.autoplay = a
                    }, b.prototype.controls = function() {
                        return this.el_.controls
                    }, b.prototype.setControls = function(a) {
                        this.el_.controls = !!a
                    }, b.prototype.loop = function() {
                        return this.el_.loop
                    }, b.prototype.setLoop = function(a) {
                        this.el_.loop = a
                    }, b.prototype.error = function() {
                        return this.el_.error
                    }, b.prototype.seeking = function() {
                        return this.el_.seeking
                    }, b.prototype.seekable = function() {
                        return this.el_.seekable
                    }, b.prototype.ended = function() {
                        return this.el_.ended
                    }, b.prototype.defaultMuted = function() {
                        return this.el_.defaultMuted
                    }, b.prototype.playbackRate = function() {
                        return this.el_.playbackRate
                    }, b.prototype.played = function() {
                        return this.el_.played
                    }, b.prototype.setPlaybackRate = function(a) {
                        this.el_.playbackRate = a
                    }, b.prototype.networkState = function() {
                        return this.el_.networkState
                    }, b.prototype.readyState = function() {
                        return this.el_.readyState
                    }, b.prototype.videoWidth = function() {
                        return this.el_.videoWidth
                    }, b.prototype.videoHeight = function() {
                        return this.el_.videoHeight
                    }, b.prototype.textTracks = function() {
                        return a.prototype.textTracks.call(this)
                    }, b.prototype.addTextTrack = function(b, c, d) {
                        return this.featuresNativeTextTracks ? this.el_.addTextTrack(b, c, d) : a.prototype.addTextTrack.call(this, b, c, d)
                    }, b.prototype.addRemoteTextTrack = function() {
                        var b = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                        if (!this.featuresNativeTextTracks)
                            return a.prototype.addRemoteTextTrack.call(this, b);
                        var c = w["default"].createElement("track");
                        return b.kind && (c.kind = b.kind), b.label && (c.label = b.label), (b.language || b.srclang) && (c.srclang = b.language || b.srclang), b["default"] && (c["default"] = b["default"]), b.id && (c.id = b.id), b.src && (c.src = b.src), this.el().appendChild(c), this.remoteTextTrackEls().addTrackElement_(c), this.remoteTextTracks().addTrack_(c.track), c
                    }, b.prototype.removeRemoteTextTrack = function(b) {
                        if (!this.featuresNativeTextTracks)
                            return a.prototype.removeRemoteTextTrack.call(this, b);
                        var c = void 0,
                            d = void 0,
                            e = this.remoteTextTrackEls().getTrackElementByTrack_(b);
                        for (this.remoteTextTrackEls().removeTrackElement_(e), this.remoteTextTracks().removeTrack_(b), c = this.$$("track"), d = c.length; d--;)
                            (b === c[d] || b === c[d].track) && this.el().removeChild(c[d])
                    }, b
                }(i["default"]);
            D.TEST_VID = w["default"].createElement("video");
            var E = w["default"].createElement("track");
            E.kind = "captions", E.srclang = "en", E.label = "English", D.TEST_VID.appendChild(E), D.isSupported = function() {
                try {
                    D.TEST_VID.volume = .5
                } catch (a) {
                    return !1
                }
                return !!D.TEST_VID.canPlayType
            }, i["default"].withSourceHandlers(D), D.nativeSourceHandler = {}, D.nativeSourceHandler.canPlayType = function(a) {
                try {
                    return D.TEST_VID.canPlayType(a)
                } catch (b) {
                    return ""
                }
            }, D.nativeSourceHandler.canHandleSource = function(a) {
                var b;
                return a.type ? D.nativeSourceHandler.canPlayType(a.type) : a.src ? (b = o.getFileExtension(a.src), D.nativeSourceHandler.canPlayType("video/" + b)) : ""
            }, D.nativeSourceHandler.handleSource = function(a, b) {
                b.setSrc(a.src)
            }, D.nativeSourceHandler.dispose = function() {}, D.registerSourceHandler(D.nativeSourceHandler), D.canControlVolume = function() {
                var a = D.TEST_VID.volume;
                return D.TEST_VID.volume = a / 2 + .1, a !== D.TEST_VID.volume
            }, D.canControlPlaybackRate = function() {
                var a = D.TEST_VID.playbackRate;
                return D.TEST_VID.playbackRate = a / 2 + .1, a !== D.TEST_VID.playbackRate
            }, D.supportsNativeTextTracks = function() {
                var a;
                return a = !!D.TEST_VID.textTracks, a && D.TEST_VID.textTracks.length > 0 && (a = "number" != typeof D.TEST_VID.textTracks[0].mode), a && u.IS_FIREFOX && (a = !1), !a || "onremovetrack" in D.TEST_VID.textTracks || (a = !1), a
            }, D.Events = ["loadstart", "suspend", "abort", "error", "emptied", "stalled", "loadedmetadata", "loadeddata", "canplay", "canplaythrough", "playing", "waiting", "seeking", "seeked", "ended", "durationchange", "timeupdate", "progress", "play", "pause", "ratechange", "volumechange"], D.prototype.featuresVolumeControl = D.canControlVolume(), D.prototype.featuresPlaybackRate = D.canControlPlaybackRate(), D.prototype.movingMediaElementInDOM = !u.IS_IOS, D.prototype.featuresFullscreenResize = !0, D.prototype.featuresProgressEvents = !0, D.prototype.featuresNativeTextTracks = D.supportsNativeTextTracks();
            var F = void 0,
                G = /^application\/(?:x-|vnd\.apple\.)mpegurl/i,
                H = /^video\/mp4/i;
            D.patchCanPlayType = function() {
                u.ANDROID_VERSION >= 4 && (F || (F = D.TEST_VID.constructor.prototype.canPlayType), D.TEST_VID.constructor.prototype.canPlayType = function(a) {
                    return a && G.test(a) ? "maybe" : F.call(this, a)
                }), u.IS_OLD_ANDROID && (F || (F = D.TEST_VID.constructor.prototype.canPlayType), D.TEST_VID.constructor.prototype.canPlayType = function(a) {
                    return a && H.test(a) ? "maybe" : F.call(this, a)
                })
            }, D.unpatchCanPlayType = function() {
                var a = D.TEST_VID.constructor.prototype.canPlayType;
                return D.TEST_VID.constructor.prototype.canPlayType = F, F = null, a
            }, D.patchCanPlayType(), D.disposeMediaElement = function(a) {
                if (a) {
                    for (a.parentNode && a.parentNode.removeChild(a); a.hasChildNodes();)
                        a.removeChild(a.firstChild);
                    a.removeAttribute("src"), "function" == typeof a.load && !function() {
                        try {
                            a.load()
                        } catch (b) {}
                    }()
                }
            }, D.resetMediaElement = function(a) {
                if (a) {
                    for (var b = a.querySelectorAll("source"), c = b.length; c--;)
                        a.removeChild(b[c]);
                    a.removeAttribute("src"), "function" == typeof a.load && !function() {
                        try {
                            a.load()
                        } catch (b) {}
                    }()
                }
            }, k["default"].registerComponent("Html5", D), i["default"].registerTech("Html5", D), c["default"] = D, b.exports = c["default"]
        }, {
            "../component": 67,
            "../utils/browser.js": 129,
            "../utils/dom.js": 132,
            "../utils/fn.js": 134,
            "../utils/log.js": 137,
            "../utils/merge-options.js": 138,
            "../utils/url.js": 142,
            "./tech.js": 119,
            "global/document": 1,
            "global/window": 2,
            "object.assign": 45
        }],
        118: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function f(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var g = a("../component.js"),
                h = d(g),
                i = a("./tech.js"),
                j = d(i),
                k = a("global/window"),
                l = (d(k), a("../utils/to-title-case.js")),
                m = d(l),
                n = function(a) {
                    function b(c, d, f) {
                        if (e(this, b), a.call(this, c, d, f), d.playerOptions.sources && 0 !== d.playerOptions.sources.length)
                            c.src(d.playerOptions.sources);
                        else
                            for (var g = 0, i = d.playerOptions.techOrder; g < i.length; g++) {
                                var k = m["default"](i[g]),
                                    l = j["default"].getTech(k);
                                if (k || (l = h["default"].getComponent(k)), l && l.isSupported()) {
                                    c.loadTech_(k);
                                    break
                                }
                            }
                    }
                    return f(b, a), b
                }(h["default"]);
            h["default"].registerComponent("MediaLoader", n), c["default"] = n, b.exports = c["default"]
        }, {
            "../component.js": 67,
            "../utils/to-title-case.js": 141,
            "./tech.js": 119,
            "global/window": 2
        }],
        119: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../component"),
                i = e(h),
                j = a("../tracks/html-track-element"),
                k = e(j),
                l = a("../tracks/html-track-element-list"),
                m = e(l),
                n = a("../utils/merge-options.js"),
                o = e(n),
                p = a("../tracks/text-track"),
                q = e(p),
                r = a("../tracks/text-track-list"),
                s = e(r),
                t = a("../utils/fn.js"),
                u = d(t),
                v = a("../utils/log.js"),
                w = e(v),
                x = a("../utils/time-ranges.js"),
                y = a("../utils/buffer.js"),
                z = a("../media-error.js"),
                A = e(z),
                B = a("global/window"),
                C = e(B),
                D = a("global/document"),
                E = e(D),
                F = function(a) {
                    function b() {
                        var c = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0],
                            d = arguments.length <= 1 || void 0 === arguments[1] ? function() {} : arguments[1];
                        f(this, b), c.reportTouchActivity = !1, a.call(this, null, c, d), this.hasStarted_ = !1, this.on("playing", function() {
                            this.hasStarted_ = !0
                        }), this.on("loadstart", function() {
                            this.hasStarted_ = !1
                        }), this.textTracks_ = c.textTracks, this.featuresProgressEvents || this.manualProgressOn(), this.featuresTimeupdateEvents || this.manualTimeUpdatesOn(), (c.nativeCaptions === !1 || c.nativeTextTracks === !1) && (this.featuresNativeTextTracks = !1), this.featuresNativeTextTracks || this.on("ready", this.emulateTextTracks), this.initTextTrackListeners(), this.emitTapEvents()
                    } /*! Time Tracking -------------------------------------------------------------- */
                    return g(b, a), b.prototype.manualProgressOn = function() {
                        this.on("durationchange", this.onDurationChange), this.manualProgress = !0, this.one("ready", this.trackProgress)
                    }, b.prototype.manualProgressOff = function() {
                        this.manualProgress = !1, this.stopTrackingProgress(), this.off("durationchange", this.onDurationChange)
                    }, b.prototype.trackProgress = function() {
                        this.stopTrackingProgress(), this.progressInterval = this.setInterval(u.bind(this, function() {
                            var a = this.bufferedPercent();
                            this.bufferedPercent_ !== a && this.trigger("progress"), this.bufferedPercent_ = a, 1 === a && this.stopTrackingProgress()
                        }), 500)
                    }, b.prototype.onDurationChange = function() {
                        this.duration_ = this.duration()
                    }, b.prototype.buffered = function() {
                        return x.createTimeRange(0, 0)
                    }, b.prototype.bufferedPercent = function() {
                        return y.bufferedPercent(this.buffered(), this.duration_)
                    }, b.prototype.stopTrackingProgress = function() {
                        this.clearInterval(this.progressInterval)
                    }, b.prototype.manualTimeUpdatesOn = function() {
                        this.manualTimeUpdates = !0, this.on("play", this.trackCurrentTime), this.on("pause", this.stopTrackingCurrentTime)
                    }, b.prototype.manualTimeUpdatesOff = function() {
                        this.manualTimeUpdates = !1, this.stopTrackingCurrentTime(), this.off("play", this.trackCurrentTime), this.off("pause", this.stopTrackingCurrentTime)
                    }, b.prototype.trackCurrentTime = function() {
                        this.currentTimeInterval && this.stopTrackingCurrentTime(), this.currentTimeInterval = this.setInterval(function() {
                            this.trigger({
                                type: "timeupdate",
                                target: this,
                                manuallyTriggered: !0
                            })
                        }, 250)
                    }, b.prototype.stopTrackingCurrentTime = function() {
                        this.clearInterval(this.currentTimeInterval), this.trigger({
                            type: "timeupdate",
                            target: this,
                            manuallyTriggered: !0
                        })
                    }, b.prototype.dispose = function() {
                        var b = this.textTracks();
                        if (b)
                            for (var c = b.length; c--;)
                                this.removeRemoteTextTrack(b[c]);
                        this.manualProgress && this.manualProgressOff(), this.manualTimeUpdates && this.manualTimeUpdatesOff(), a.prototype.dispose.call(this)
                    }, b.prototype.reset = function() {}, b.prototype.error = function(a) {
                        return void 0 !== a && (this.error_ = a instanceof A["default"] ? a : new A["default"](a), this.trigger("error")), this.error_
                    }, b.prototype.played = function() {
                        return this.hasStarted_ ? x.createTimeRange(0, 0) : x.createTimeRange()
                    }, b.prototype.setCurrentTime = function() {
                        this.manualTimeUpdates && this.trigger({
                            type: "timeupdate",
                            target: this,
                            manuallyTriggered: !0
                        })
                    }, b.prototype.initTextTrackListeners = function() {
                        var a = u.bind(this, function() {
                                this.trigger("texttrackchange")
                            }),
                            b = this.textTracks();
                        b && (b.addEventListener("removetrack", a), b.addEventListener("addtrack", a), this.on("dispose", u.bind(this, function() {
                            b.removeEventListener("removetrack", a), b.removeEventListener("addtrack", a)
                        })))
                    }, b.prototype.emulateTextTracks = function() {
                        var a = this,
                            b = this.textTracks();
                        if (b) {
                            C["default"].WebVTT || null == this.el().parentNode || !function() {
                                var b = E["default"].createElement("script");
                                b.src = a.options_["vtt.js"] || "https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js", b.onload = function() {
                                    a.trigger("vttjsloaded")
                                }, b.onerror = function() {
                                    a.trigger("vttjserror")
                                }, a.on("dispose", function() {
                                    b.onload = null, b.onerror = null
                                }), a.el().parentNode.appendChild(b), C["default"].WebVTT = !0
                            }();
                            var c = function() {
                                    return a.trigger("texttrackchange")
                                },
                                d = function() {
                                    c();
                                    for (var a = 0; a < b.length; a++) {
                                        var d = b[a];
                                        d.removeEventListener("cuechange", c), "showing" === d.mode && d.addEventListener("cuechange", c)
                                    }
                                };
                            d(), b.addEventListener("change", d), this.on("dispose", function() {
                                b.removeEventListener("change", d)
                            })
                        }
                    }, b.prototype.textTracks = function() {
                        return this.textTracks_ = this.textTracks_ || new s["default"], this.textTracks_
                    }, b.prototype.remoteTextTracks = function() {
                        return this.remoteTextTracks_ = this.remoteTextTracks_ || new s["default"], this.remoteTextTracks_
                    }, b.prototype.remoteTextTrackEls = function() {
                        return this.remoteTextTrackEls_ = this.remoteTextTrackEls_ || new m["default"], this.remoteTextTrackEls_
                    }, b.prototype.addTextTrack = function(a, b, c) {
                        if (!a)
                            throw new Error("TextTrack kind is required but was not provided");
                        return G(this, a, b, c)
                    }, b.prototype.addRemoteTextTrack = function(a) {
                        var b = o["default"](a, {
                                tech: this
                            }),
                            c = new k["default"](b);
                        return this.remoteTextTrackEls().addTrackElement_(c), this.remoteTextTracks().addTrack_(c.track), this.textTracks().addTrack_(c.track), c
                    }, b.prototype.removeRemoteTextTrack = function(a) {
                        this.textTracks().removeTrack_(a);
                        var b = this.remoteTextTrackEls().getTrackElementByTrack_(a);
                        this.remoteTextTrackEls().removeTrackElement_(b), this.remoteTextTracks().removeTrack_(a)
                    }, b.prototype.setPoster = function() {}, b.prototype.canPlayType = function() {
                        return ""
                    }, b.isTech = function(a) {
                        return a.prototype instanceof b || a instanceof b || a === b
                    }, b.registerTech = function(a, c) {
                        if (b.techs_ || (b.techs_ = {}), !b.isTech(c))
                            throw new Error("Tech " + a + " must be a Tech");
                        return b.techs_[a] = c, c
                    }, b.getTech = function(a) {
                        return b.techs_ && b.techs_[a] ? b.techs_[a] : C["default"] && C["default"].videojs && C["default"].videojs[a] ? (w["default"].warn("The " + a + " tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"), C["default"].videojs[a]) : void 0
                    }, b
                }(i["default"]);
            F.prototype.textTracks_;
            var G = function(a, b, c, d) {
                var e = arguments.length <= 4 || void 0 === arguments[4] ? {} : arguments[4],
                    f = a.textTracks();
                e.kind = b, c && (e.label = c), d && (e.language = d), e.tech = a;
                var g = new q["default"](e);
                return f.addTrack_(g), g
            };
            F.prototype.featuresVolumeControl = !0, F.prototype.featuresFullscreenResize = !1, F.prototype.featuresPlaybackRate = !1, F.prototype.featuresProgressEvents = !1, F.prototype.featuresTimeupdateEvents = !1, F.prototype.featuresNativeTextTracks = !1, F.withSourceHandlers = function(a) {
                a.registerSourceHandler = function(b, c) {
                    var d = a.sourceHandlers;
                    d || (d = a.sourceHandlers = []), void 0 === c && (c = d.length), d.splice(c, 0, b)
                }, a.canPlayType = function(b) {
                    for (var c = a.sourceHandlers || [], d = void 0, e = 0; e < c.length; e++)
                        if (d = c[e].canPlayType(b))
                            return d;
                    return ""
                }, a.selectSourceHandler = function(b) {
                    for (var c = a.sourceHandlers || [], d = void 0, e = 0; e < c.length; e++)
                        if (d = c[e].canHandleSource(b))
                            return c[e];
                    return null
                }, a.canPlaySource = function(b) {
                    var c = a.selectSourceHandler(b);
                    return c ? c.canHandleSource(b) : ""
                };
                var b = ["seekable", "duration"];
                b.forEach(function(a) {
                    var b = this[a];
                    "function" == typeof b && (this[a] = function() {
                        return this.sourceHandler_ && this.sourceHandler_[a] ? this.sourceHandler_[a].apply(this.sourceHandler_, arguments) : b.apply(this, arguments)
                    })
                }, a.prototype), a.prototype.setSource = function(b) {
                    var c = a.selectSourceHandler(b);
                    return c || (a.nativeSourceHandler ? c = a.nativeSourceHandler : w["default"].error("No source hander found for the current source.")), this.disposeSourceHandler(), this.off("dispose", this.disposeSourceHandler), this.currentSource_ = b, this.sourceHandler_ = c.handleSource(b, this), this.on("dispose", this.disposeSourceHandler), this
                }, a.prototype.disposeSourceHandler = function() {
                    this.sourceHandler_ && this.sourceHandler_.dispose && this.sourceHandler_.dispose()
                }
            }, i["default"].registerComponent("Tech", F), i["default"].registerComponent("MediaTechController", F), F.registerTech("Tech", F), c["default"] = F, b.exports = c["default"]
        }, {
            "../component": 67,
            "../media-error.js": 103,
            "../tracks/html-track-element": 121,
            "../tracks/html-track-element-list": 120,
            "../tracks/text-track": 128,
            "../tracks/text-track-list": 126,
            "../utils/buffer.js": 130,
            "../utils/fn.js": 134,
            "../utils/log.js": 137,
            "../utils/merge-options.js": 138,
            "../utils/time-ranges.js": 140,
            "global/document": 1,
            "global/window": 2
        }],
        120: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            c.__esModule = !0;
            var g = a("../utils/browser.js"),
                h = e(g),
                i = a("global/document"),
                j = d(i),
                k = function() {
                    function a() {
                        var b = arguments.length <= 0 || void 0 === arguments[0] ? [] : arguments[0];
                        f(this, a);
                        var c = this;
                        if (h.IS_IE8) {
                            c = j["default"].createElement("custom");
                            for (var d in a.prototype)
                                "constructor" !== d && (c[d] = a.prototype[d])
                        }
                        c.trackElements_ = [], Object.defineProperty(c, "length", {
                            get: function() {
                                return this.trackElements_.length
                            }
                        });
                        for (var e = 0, g = b.length; g > e; e++)
                            c.addTrackElement_(b[e]);
                        return h.IS_IE8 ? c : void 0
                    }
                    return a.prototype.addTrackElement_ = function(a) {
                        this.trackElements_.push(a)
                    }, a.prototype.getTrackElementByTrack_ = function(a) {
                        for (var b = void 0, c = 0, d = this.trackElements_.length; d > c; c++)
                            if (a === this.trackElements_[c].track) {
                                b = this.trackElements_[c];
                                break
                            }
                        return b
                    }, a.prototype.removeTrackElement_ = function(a) {
                        for (var b = 0, c = this.trackElements_.length; c > b; b++)
                            if (a === this.trackElements_[b]) {
                                this.trackElements_.splice(b, 1);
                                break
                            }
                    }, a
                }();
            c["default"] = k, b.exports = c["default"]
        }, {
            "../utils/browser.js": 129,
            "global/document": 1
        }],
        121: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../utils/browser.js"),
                i = e(h),
                j = a("global/document"),
                k = d(j),
                l = a("../event-target"),
                m = d(l),
                n = a("../tracks/text-track"),
                o = d(n),
                p = 0,
                q = 1,
                r = 2,
                s = 3,
                t = function(a) {
                    function b() {
                        var c = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                        f(this, b), a.call(this);
                        var d = void 0,
                            e = this;
                        if (i.IS_IE8) {
                            e = k["default"].createElement("custom");
                            for (var g in b.prototype)
                                "constructor" !== g && (e[g] = b.prototype[g])
                        }
                        var h = new o["default"](c);
                        return e.kind = h.kind, e.src = h.src, e.srclang = h.language, e.label = h.label, e["default"] = h["default"], Object.defineProperty(e, "readyState", {
                            get: function() {
                                return d
                            }
                        }), Object.defineProperty(e, "track", {
                            get: function() {
                                return h
                            }
                        }), d = p, h.addEventListener("loadeddata", function() {
                            d = r, e.trigger({
                                type: "load",
                                target: e
                            })
                        }), i.IS_IE8 ? e : void 0
                    }
                    return g(b, a), b
                }(m["default"]);
            t.prototype.allowedEvents_ = {
                load: "load"
            }, t.NONE = p, t.LOADING = q, t.LOADED = r, t.ERROR = s, c["default"] = t, b.exports = c["default"]
        }, {
            "../event-target": 99,
            "../tracks/text-track": 128,
            "../utils/browser.js": 129,
            "global/document": 1
        }],
        122: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            c.__esModule = !0;
            var g = a("../utils/browser.js"),
                h = e(g),
                i = a("global/document"),
                j = d(i),
                k = function() {
                    function a(b) {
                        f(this, a);
                        var c = this;
                        if (h.IS_IE8) {
                            c = j["default"].createElement("custom");
                            for (var d in a.prototype)
                                "constructor" !== d && (c[d] = a.prototype[d])
                        }
                        return a.prototype.setCues_.call(c, b), Object.defineProperty(c, "length", {
                            get: function() {
                                return this.length_
                            }
                        }), h.IS_IE8 ? c : void 0
                    }
                    return a.prototype.setCues_ = function(a) {
                        var b = this.length || 0,
                            c = 0,
                            d = a.length;
                        this.cues_ = a, this.length_ = a.length;
                        var e = function(a) {
                            "" + a in this || Object.defineProperty(this, "" + a, {
                                get: function() {
                                    return this.cues_[a]
                                }
                            })
                        };
                        if (d > b)
                            for (c = b; d > c; c++)
                                e.call(this, c)
                    }, a.prototype.getCueById = function(a) {
                        for (var b = null, c = 0, d = this.length; d > c; c++) {
                            var e = this[c];
                            if (e.id === a) {
                                b = e;
                                break
                            }
                        }
                        return b
                    }, a
                }();
            c["default"] = k, b.exports = c["default"]
        }, {
            "../utils/browser.js": 129,
            "global/document": 1
        }],
        123: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            function h(a, b) {
                return "rgba(" + parseInt(a[1] + a[1], 16) + "," + parseInt(a[2] + a[2], 16) + "," + parseInt(a[3] + a[3], 16) + "," + b + ")"
            }
            function i(a, b, c) {
                try {
                    a.style[b] = c
                } catch (d) {}
            }
            c.__esModule = !0;
            var j = a("../component"),
                k = e(j),
                l = a("../menu/menu.js"),
                m = (e(l), a("../menu/menu-item.js")),
                n = (e(m), a("../menu/menu-button.js")),
                o = (e(n), a("../utils/fn.js")),
                p = d(o),
                q = a("global/document"),
                r = (e(q), a("global/window")),
                s = e(r),
                t = "#222",
                u = "#ccc",
                v = {
                    monospace: "monospace",
                    sansSerif: "sans-serif",
                    serif: "serif",
                    monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace',
                    monospaceSerif: '"Courier New", monospace',
                    proportionalSansSerif: "sans-serif",
                    proportionalSerif: "serif",
                    casual: '"Comic Sans MS", Impact, fantasy',
                    script: '"Monotype Corsiva", cursive',
                    smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif'
                },
                w = function(a) {
                    function b(c, d, e) {
                        f(this, b), a.call(this, c, d, e), c.on("loadstart", p.bind(this, this.toggleDisplay)), c.on("texttrackchange", p.bind(this, this.updateDisplay)), c.ready(p.bind(this, function() {
                            if (c.tech_ && c.tech_.featuresNativeTextTracks)
                                return void this.hide();
                            c.on("fullscreenchange", p.bind(this, this.updateDisplay));
                            for (var a = this.options_.playerOptions.tracks || [], b = 0; b < a.length; b++) {
                                var d = a[b];
                                this.player_.addRemoteTextTrack(d)
                            }
                        }))
                    }
                    return g(b, a), b.prototype.toggleDisplay = function() {
                        this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks ? this.hide() : this.show()
                    }, b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-text-track-display"
                        })
                    }, b.prototype.clearDisplay = function() {
                        "function" == typeof s["default"].WebVTT && s["default"].WebVTT.processCues(s["default"], [], this.el_)
                    }, b.prototype.updateDisplay = function() {
                        var a = this.player_.textTracks();
                        if (this.clearDisplay(), a)
                            for (var b = 0; b < a.length; b++) {
                                var c = a[b];
                                "showing" === c.mode && this.updateForTrack(c)
                            }
                    }, b.prototype.updateForTrack = function(a) {
                        if ("function" == typeof s["default"].WebVTT && a.activeCues) {
                            for (var b = this.player_.textTrackSettings.getValues(), c = [], d = 0; d < a.activeCues.length; d++)
                                c.push(a.activeCues[d]);
                            s["default"].WebVTT.processCues(s["default"], a.activeCues, this.el_);
                            for (var e = c.length; e--;) {
                                var f = c[e];
                                if (f) {
                                    var g = f.displayState;
                                    if (b.color && (g.firstChild.style.color = b.color), b.textOpacity && i(g.firstChild, "color", h(b.color || "#fff", b.textOpacity)), b.backgroundColor && (g.firstChild.style.backgroundColor = b.backgroundColor), b.backgroundOpacity && i(g.firstChild, "backgroundColor", h(b.backgroundColor || "#000", b.backgroundOpacity)), b.windowColor && (b.windowOpacity ? i(g, "backgroundColor", h(b.windowColor, b.windowOpacity)) : g.style.backgroundColor = b.windowColor), b.edgeStyle && ("dropshadow" === b.edgeStyle ? g.firstChild.style.textShadow = "2px 2px 3px " + t + ", 2px 2px 4px " + t + ", 2px 2px 5px " + t : "raised" === b.edgeStyle ? g.firstChild.style.textShadow = "1px 1px " + t + ", 2px 2px " + t + ", 3px 3px " + t : "depressed" === b.edgeStyle ? g.firstChild.style.textShadow = "1px 1px " + u + ", 0 1px " + u + ", -1px -1px " + t + ", 0 -1px " + t : "uniform" === b.edgeStyle && (g.firstChild.style.textShadow = "0 0 4px " + t + ", 0 0 4px " + t + ", 0 0 4px " + t + ", 0 0 4px " + t)), b.fontPercent && 1 !== b.fontPercent) {
                                        var j = s["default"].parseFloat(g.style.fontSize);
                                        g.style.fontSize = j * b.fontPercent + "px", g.style.height = "auto", g.style.top = "auto", g.style.bottom = "2px"
                                    }
                                    b.fontFamily && "default" !== b.fontFamily && ("small-caps" === b.fontFamily ? g.firstChild.style.fontVariant = "small-caps" : g.firstChild.style.fontFamily = v[b.fontFamily])
                                }
                            }
                        }
                    }, b
                }(k["default"]);
            k["default"].registerComponent("TextTrackDisplay", w), c["default"] = w, b.exports = c["default"]
        }, {
            "../component": 67,
            "../menu/menu-button.js": 104,
            "../menu/menu-item.js": 105,
            "../menu/menu.js": 106,
            "../utils/fn.js": 134,
            "global/document": 1,
            "global/window": 2
        }],
        124: [function(a, b, c) {
            "use strict";
            c.__esModule = !0;
            var d = {
                    disabled: "disabled",
                    hidden: "hidden",
                    showing: "showing"
                },
                e = {
                    subtitles: "subtitles",
                    captions: "captions",
                    descriptions: "descriptions",
                    chapters: "chapters",
                    metadata: "metadata"
                };
            c.TextTrackMode = d, c.TextTrackKind = e
        }, {}],
        125: [function(a, b, c) {
            "use strict";
            c.__esModule = !0;
            var d = function(a) {
                    var b = ["kind", "label", "language", "id", "inBandMetadataTrackDispatchType", "mode", "src"].reduce(function(b, c) {
                        return a[c] && (b[c] = a[c]), b
                    }, {
                        cues: a.cues && Array.prototype.map.call(a.cues, function(a) {
                            return {
                                startTime: a.startTime,
                                endTime: a.endTime,
                                text: a.text,
                                id: a.id
                            }
                        })
                    });
                    return b
                },
                e = function(a) {
                    var b = a.$$("track"),
                        c = Array.prototype.map.call(b, function(a) {
                            return a.track
                        }),
                        e = Array.prototype.map.call(b, function(a) {
                            var b = d(a.track);
                            return a.src && (b.src = a.src), b
                        });
                    return e.concat(Array.prototype.filter.call(a.textTracks(), function(a) {
                        return -1 === c.indexOf(a)
                    }).map(d))
                },
                f = function(a, b) {
                    return a.forEach(function(a) {
                        var c = b.addRemoteTextTrack(a).track;
                        !a.src && a.cues && a.cues.forEach(function(a) {
                            return c.addCue(a)
                        })
                    }), b.textTracks()
                };
            c["default"] = {
                textTracksToJson: e,
                jsonToTextTracks: f,
                trackToJson_: d
            }, b.exports = c["default"]
        }, {}],
        126: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("../event-target"),
                i = e(h),
                j = a("../utils/fn.js"),
                k = d(j),
                l = a("../utils/browser.js"),
                m = d(l),
                n = a("global/document"),
                o = e(n),
                p = function(a) {
                    function b() {
                        var c = arguments.length <= 0 || void 0 === arguments[0] ? [] : arguments[0];
                        f(this, b), a.call(this);
                        var d = this;
                        if (m.IS_IE8) {
                            d = o["default"].createElement("custom");
                            for (var e in b.prototype)
                                "constructor" !== e && (d[e] = b.prototype[e])
                        }
                        d.tracks_ = [], Object.defineProperty(d, "length", {
                            get: function() {
                                return this.tracks_.length
                            }
                        });
                        for (var g = 0; g < c.length; g++)
                            d.addTrack_(c[g]);
                        return m.IS_IE8 ? d : void 0
                    }
                    return g(b, a), b.prototype.addTrack_ = function(a) {
                        var b = this.tracks_.length;
                        "" + b in this || Object.defineProperty(this, b, {
                            get: function() {
                                return this.tracks_[b]
                            }
                        }), a.addEventListener("modechange", k.bind(this, function() {
                            this.trigger("change")
                        })), -1 === this.tracks_.indexOf(a) && (this.tracks_.push(a), this.trigger({
                            track: a,
                            type: "addtrack"
                        }))
                    }, b.prototype.removeTrack_ = function(a) {
                        for (var b = void 0, c = 0, d = this.length; d > c; c++)
                            if (this[c] === a) {
                                b = this[c], b.off && b.off(), this.tracks_.splice(c, 1);
                                break
                            }
                        b && this.trigger({
                            track: b,
                            type: "removetrack"
                        })
                    }, b.prototype.getTrackById = function(a) {
                        for (var b = null, c = 0, d = this.length; d > c; c++) {
                            var e = this[c];
                            if (e.id === a) {
                                b = e;
                                break
                            }
                        }
                        return b
                    }, b
                }(i["default"]);
            p.prototype.allowedEvents_ = {
                change: "change",
                addtrack: "addtrack",
                removetrack: "removetrack"
            };
            for (var q in p.prototype.allowedEvents_)
                p.prototype["on" + q] = null;
            c["default"] = p, b.exports = c["default"]
        }, {
            "../event-target": 99,
            "../utils/browser.js": 129,
            "../utils/fn.js": 134,
            "global/document": 1
        }],
        127: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            function h(a) {
                var b = void 0;
                return a.selectedOptions ? b = a.selectedOptions[0] : a.options && (b = a.options[a.options.selectedIndex]), b.value
            }
            function i(a, b) {
                if (b) {
                    var c = void 0;
                    for (c = 0; c < a.options.length; c++) {
                        var d = a.options[c];
                        if (d.value === b)
                            break
                    }
                    a.selectedIndex = c
                }
            }
            function j() {
                var a = '<div class="vjs-tracksettings">\n      <div class="vjs-tracksettings-colors">\n        <div class="vjs-fg-color vjs-tracksetting">\n            <label class="vjs-label">Foreground</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n              <select>\n                <option value="">---</option>\n                <option value="1">Opaque</option>\n                <option value="0.5">Semi-Opaque</option>\n              </select>\n            </span>\n        </div> <!-- vjs-fg-color -->\n        <div class="vjs-bg-color vjs-tracksetting">\n            <label class="vjs-label">Background</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-bg-color -->\n        <div class="window-color vjs-tracksetting">\n            <label class="vjs-label">Window</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-window-color -->\n      </div> <!-- vjs-tracksettings -->\n      <div class="vjs-tracksettings-font">\n        <div class="vjs-font-percent vjs-tracksetting">\n          <label class="vjs-label">Font Size</label>\n          <select>\n            <option value="0.50">50%</option>\n            <option value="0.75">75%</option>\n            <option value="1.00" selected>100%</option>\n            <option value="1.25">125%</option>\n            <option value="1.50">150%</option>\n            <option value="1.75">175%</option>\n            <option value="2.00">200%</option>\n            <option value="3.00">300%</option>\n            <option value="4.00">400%</option>\n          </select>\n        </div> <!-- vjs-font-percent -->\n        <div class="vjs-edge-style vjs-tracksetting">\n          <label class="vjs-label">Text Edge Style</label>\n          <select>\n            <option value="none">None</option>\n            <option value="raised">Raised</option>\n            <option value="depressed">Depressed</option>\n            <option value="uniform">Uniform</option>\n            <option value="dropshadow">Dropshadow</option>\n          </select>\n        </div> <!-- vjs-edge-style -->\n        <div class="vjs-font-family vjs-tracksetting">\n          <label class="vjs-label">Font Family</label>\n          <select>\n            <option value="">Default</option>\n            <option value="monospaceSerif">Monospace Serif</option>\n            <option value="proportionalSerif">Proportional Serif</option>\n            <option value="monospaceSansSerif">Monospace Sans-Serif</option>\n            <option value="proportionalSansSerif">Proportional Sans-Serif</option>\n            <option value="casual">Casual</option>\n            <option value="script">Script</option>\n            <option value="small-caps">Small Caps</option>\n          </select>\n        </div> <!-- vjs-font-family -->\n      </div>\n    </div>\n    <div class="vjs-tracksettings-controls">\n      <button class="vjs-default-button">Defaults</button>\n      <button class="vjs-done-button">Done</button>\n    </div>';
                return a
            }
            c.__esModule = !0;
            var k = a("../component"),
                l = e(k),
                m = a("../utils/events.js"),
                n = d(m),
                o = a("../utils/fn.js"),
                p = d(o),
                q = a("../utils/log.js"),
                r = e(q),
                s = a("safe-json-parse/tuple"),
                t = e(s),
                u = a("global/window"),
                v = e(u),
                w = function(a) {
                    function b(c, d) {
                        f(this, b), a.call(this, c, d), this.hide(), void 0 === d.persistTextTrackSettings && (this.options_.persistTextTrackSettings = this.options_.playerOptions.persistTextTrackSettings), n.on(this.$(".vjs-done-button"), "click", p.bind(this, function() {
                            this.saveSettings(), this.hide()
                        })), n.on(this.$(".vjs-default-button"), "click", p.bind(this, function() {
                            this.$(".vjs-fg-color > select").selectedIndex = 0, this.$(".vjs-bg-color > select").selectedIndex = 0, this.$(".window-color > select").selectedIndex = 0, this.$(".vjs-text-opacity > select").selectedIndex = 0, this.$(".vjs-bg-opacity > select").selectedIndex = 0, this.$(".vjs-window-opacity > select").selectedIndex = 0, this.$(".vjs-edge-style select").selectedIndex = 0, this.$(".vjs-font-family select").selectedIndex = 0, this.$(".vjs-font-percent select").selectedIndex = 2, this.updateDisplay()
                        })), n.on(this.$(".vjs-fg-color > select"), "change", p.bind(this, this.updateDisplay)), n.on(this.$(".vjs-bg-color > select"), "change", p.bind(this, this.updateDisplay)), n.on(this.$(".window-color > select"), "change", p.bind(this, this.updateDisplay)), n.on(this.$(".vjs-text-opacity > select"), "change", p.bind(this, this.updateDisplay)), n.on(this.$(".vjs-bg-opacity > select"), "change", p.bind(this, this.updateDisplay)), n.on(this.$(".vjs-window-opacity > select"), "change", p.bind(this, this.updateDisplay)), n.on(this.$(".vjs-font-percent select"), "change", p.bind(this, this.updateDisplay)), n.on(this.$(".vjs-edge-style select"), "change", p.bind(this, this.updateDisplay)), n.on(this.$(".vjs-font-family select"), "change", p.bind(this, this.updateDisplay)), this.options_.persistTextTrackSettings && this.restoreSettings()
                    }
                    return g(b, a), b.prototype.createEl = function() {
                        return a.prototype.createEl.call(this, "div", {
                            className: "vjs-caption-settings vjs-modal-overlay",
                            innerHTML: j()
                        })
                    }, b.prototype.getValues = function() {
                        var a = h(this.$(".vjs-edge-style select")),
                            b = h(this.$(".vjs-font-family select")),
                            c = h(this.$(".vjs-fg-color > select")),
                            d = h(this.$(".vjs-text-opacity > select")),
                            e = h(this.$(".vjs-bg-color > select")),
                            f = h(this.$(".vjs-bg-opacity > select")),
                            g = h(this.$(".window-color > select")),
                            i = h(this.$(".vjs-window-opacity > select")),
                            j = v["default"].parseFloat(h(this.$(".vjs-font-percent > select"))),
                            k = {
                                backgroundOpacity: f,
                                textOpacity: d,
                                windowOpacity: i,
                                edgeStyle: a,
                                fontFamily: b,
                                color: c,
                                backgroundColor: e,
                                windowColor: g,
                                fontPercent: j
                            };
                        for (var l in k)
                            ("" === k[l] || "none" === k[l] || "fontPercent" === l && 1 === k[l]) && delete k[l];
                        return k
                    }, b.prototype.setValues = function(a) {
                        i(this.$(".vjs-edge-style select"), a.edgeStyle), i(this.$(".vjs-font-family select"), a.fontFamily), i(this.$(".vjs-fg-color > select"), a.color), i(this.$(".vjs-text-opacity > select"), a.textOpacity), i(this.$(".vjs-bg-color > select"), a.backgroundColor), i(this.$(".vjs-bg-opacity > select"), a.backgroundOpacity), i(this.$(".window-color > select"), a.windowColor), i(this.$(".vjs-window-opacity > select"), a.windowOpacity);
                        var b = a.fontPercent;
                        b && (b = b.toFixed(2)), i(this.$(".vjs-font-percent > select"), b)
                    }, b.prototype.restoreSettings = function() {
                        var a = void 0,
                            b = void 0;
                        try {
                            var c = t["default"](v["default"].localStorage.getItem("vjs-text-track-settings"));
                            a = c[0], b = c[1], a && r["default"].error(a)
                        } catch (d) {
                            r["default"].warn(d)
                        }
                        b && this.setValues(b)
                    }, b.prototype.saveSettings = function() {
                        if (this.options_.persistTextTrackSettings) {
                            var a = this.getValues();
                            try {
                                Object.getOwnPropertyNames(a).length > 0 ? v["default"].localStorage.setItem("vjs-text-track-settings", JSON.stringify(a)) : v["default"].localStorage.removeItem("vjs-text-track-settings")
                            } catch (b) {
                                r["default"].warn(b)
                            }
                        }
                    }, b.prototype.updateDisplay = function() {
                        var a = this.player_.getChild("textTrackDisplay");
                        a && a.updateDisplay()
                    }, b
                }(l["default"]);
            l["default"].registerComponent("TextTrackSettings", w), c["default"] = w, b.exports = c["default"]
        }, {
            "../component": 67,
            "../utils/events.js": 133,
            "../utils/fn.js": 134,
            "../utils/log.js": 137,
            "global/window": 2,
            "safe-json-parse/tuple": 54
        }],
        128: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                if (!(a instanceof b))
                    throw new TypeError("Cannot call a class as a function")
            }
            function g(a, b) {
                if ("function" != typeof b && null !== b)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            c.__esModule = !0;
            var h = a("./text-track-cue-list"),
                i = e(h),
                j = a("../utils/fn.js"),
                k = d(j),
                l = a("../utils/guid.js"),
                m = d(l),
                n = a("../utils/browser.js"),
                o = d(n),
                p = a("./text-track-enums"),
                q = d(p),
                r = a("../utils/log.js"),
                s = e(r),
                t = a("../event-target"),
                u = e(t),
                v = a("global/document"),
                w = e(v),
                x = a("global/window"),
                y = e(x),
                z = a("../utils/url.js"),
                A = a("xhr"),
                B = e(A),
                C = function(a, b) {
                    var c = new y["default"].WebVTT.Parser(y["default"], y["default"].vttjs, y["default"].WebVTT.StringDecoder());
                    c.oncue = function(a) {
                        b.addCue(a)
                    }, c.onparsingerror = function(a) {
                        s["default"].error(a)
                    }, c.onflush = function() {
                        b.trigger({
                            type: "loadeddata",
                            target: b
                        })
                    }, c.parse(a), c.flush()
                },
                D = function(a, b) {
                    var c = {
                            uri: a
                        },
                        d = z.isCrossOrigin(a);
                    d && (c.cors = d), B["default"](c, k.bind(this, function(a, c, d) {
                        return a ? s["default"].error(a, c) : (b.loaded_ = !0, void ("function" != typeof y["default"].WebVTT ? b.tech_ && !function() {
                            var a = function() {
                                return C(d, b)
                            };
                            b.tech_.on("vttjsloaded", a), b.tech_.on("vttjserror", function() {
                                s["default"].error("vttjs failed to load, stopping trying to process " + b.src), b.tech_.off("vttjsloaded", a)
                            })
                        }() : C(d, b)))
                    }))
                },
                E = function(a) {
                    function b() {
                        var c = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                        if (f(this, b), a.call(this), !c.tech)
                            throw new Error("A tech was not provided.");
                        var d = this;
                        if (o.IS_IE8) {
                            d = w["default"].createElement("custom");
                            for (var e in b.prototype)
                                "constructor" !== e && (d[e] = b.prototype[e])
                        }
                        d.tech_ = c.tech;
                        var g = q.TextTrackMode[c.mode] || "disabled",
                            h = q.TextTrackKind[c.kind] || "subtitles",
                            j = c.label || "",
                            l = c.language || c.srclang || "",
                            n = c.id || "vjs_text_track_" + m.newGUID();
                        ("metadata" === h || "chapters" === h) && (g = "hidden"), d.cues_ = [], d.activeCues_ = [];
                        var p = new i["default"](d.cues_),
                            r = new i["default"](d.activeCues_),
                            s = !1,
                            t = k.bind(d, function() {
                                this.activeCues, s && (this.trigger("cuechange"), s = !1)
                            });
                        return "disabled" !== g && d.tech_.on("timeupdate", t), Object.defineProperty(d, "kind", {
                            get: function() {
                                return h
                            },
                            set: function() {}
                        }), Object.defineProperty(d, "label", {
                            get: function() {
                                return j
                            },
                            set: function() {}
                        }), Object.defineProperty(d, "language", {
                            get: function() {
                                return l
                            },
                            set: function() {}
                        }), Object.defineProperty(d, "id", {
                            get: function() {
                                return n
                            },
                            set: function() {}
                        }), Object.defineProperty(d, "mode", {
                            get: function() {
                                return g
                            },
                            set: function(a) {
                                q.TextTrackMode[a] && (g = a, "showing" === g && this.tech_.on("timeupdate", t), this.trigger("modechange"))
                            }
                        }), Object.defineProperty(d, "cues", {
                            get: function() {
                                return this.loaded_ ? p : null
                            },
                            set: function() {}
                        }), Object.defineProperty(d, "activeCues", {
                            get: function() {
                                if (!this.loaded_)
                                    return null;
                                if (0 === this.cues.length)
                                    return r;
                                for (var a = this.tech_.currentTime(), b = [], c = 0, d = this.cues.length; d > c; c++) {
                                    var e = this.cues[c];
                                    e.startTime <= a && e.endTime >= a ? b.push(e) : e.startTime === e.endTime && e.startTime <= a && e.startTime + .5 >= a && b.push(e)
                                }
                                if (s = !1, b.length !== this.activeCues_.length)
                                    s = !0;
                                else
                                    for (var c = 0; c < b.length; c++)
                                        -1 === this.activeCues_.indexOf(b[c]) && (s = !0);
                                return this.activeCues_ = b, r.setCues_(this.activeCues_), r
                            },
                            set: function() {}
                        }), c.src ? (d.src = c.src, D(c.src, d)) : d.loaded_ = !0, o.IS_IE8 ? d : void 0
                    }
                    return g(b, a), b.prototype.addCue = function(a) {
                        var b = this.tech_.textTracks();
                        if (b)
                            for (var c = 0; c < b.length; c++)
                                b[c] !== this && b[c].removeCue(a);
                        this.cues_.push(a), this.cues.setCues_(this.cues_)
                    }, b.prototype.removeCue = function(a) {
                        for (var b = !1, c = 0, d = this.cues_.length; d > c; c++) {
                            var e = this.cues_[c];
                            e === a && (this.cues_.splice(c, 1), b = !0)
                        }
                        b && this.cues.setCues_(this.cues_)
                    }, b
                }(u["default"]);
            E.prototype.allowedEvents_ = {
                cuechange: "cuechange"
            }, c["default"] = E, b.exports = c["default"]
        }, {
            "../event-target": 99,
            "../utils/browser.js": 129,
            "../utils/fn.js": 134,
            "../utils/guid.js": 136,
            "../utils/log.js": 137,
            "../utils/url.js": 142,
            "./text-track-cue-list": 122,
            "./text-track-enums": 124,
            "global/document": 1,
            "global/window": 2,
            xhr: 56
        }],
        129: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            c.__esModule = !0;
            var e = a("global/document"),
                f = d(e),
                g = a("global/window"),
                h = d(g),
                i = h["default"].navigator.userAgent,
                j = /AppleWebKit\/([\d.]+)/i.exec(i),
                k = j ? parseFloat(j.pop()) : null,
                l = /iPad/i.test(i);
            c.IS_IPAD = l;
            var m = /iPhone/i.test(i) && !l;
            c.IS_IPHONE = m;
            var n = /iPod/i.test(i);
            c.IS_IPOD = n;
            var o = m || l || n;
            c.IS_IOS = o;
            var p = function() {
                var a = i.match(/OS (\d+)_/i);
                return a && a[1] ? a[1] : void 0
            }();
            c.IOS_VERSION = p;
            var q = /Android/i.test(i);
            c.IS_ANDROID = q;
            var r = function() {
                var a,
                    b,
                    c = i.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);
                return c ? (a = c[1] && parseFloat(c[1]), b = c[2] && parseFloat(c[2]), a && b ? parseFloat(c[1] + "." + c[2]) : a ? a : null) : null
            }();
            c.ANDROID_VERSION = r;
            var s = q && /webkit/i.test(i) && 2.3 > r;
            c.IS_OLD_ANDROID = s;
            var t = q && 5 > r && 537 > k;
            c.IS_NATIVE_ANDROID = t;
            var u = /Firefox/i.test(i);
            c.IS_FIREFOX = u;
            var v = /Chrome/i.test(i);
            c.IS_CHROME = v;
            var w = /MSIE\s8\.0/.test(i);
            c.IS_IE8 = w;
            var x = !!("ontouchstart" in h["default"] || h["default"].DocumentTouch && f["default"] instanceof h["default"].DocumentTouch);
            c.TOUCH_ENABLED = x;
            var y = "backgroundSize" in f["default"].createElement("video").style;
            c.BACKGROUND_SIZE_SUPPORTED = y
        }, {
            "global/document": 1,
            "global/window": 2
        }],
        130: [function(a, b, c) {
            "use strict";
            function d(a, b) {
                var c,
                    d,
                    f = 0;
                if (!b)
                    return 0;
                a && a.length || (a = e.createTimeRange(0, 0));
                for (var g = 0; g < a.length; g++)
                    c = a.start(g), d = a.end(g), d > b && (d = b), f += d - c;
                return f / b
            }
            c.__esModule = !0, c.bufferedPercent = d;
            var e = a("./time-ranges.js")
        }, {
            "./time-ranges.js": 140
        }],
        131: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            c.__esModule = !0;
            var e = a("./log.js"),
                f = d(e),
                g = {
                    get: function(a, b) {
                        return a[b]
                    },
                    set: function(a, b, c) {
                        return a[b] = c, !0
                    }
                };
            c["default"] = function(a) {
                var b = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                if ("function" == typeof Proxy) {
                    var c = function() {
                        var c = {};
                        return Object.keys(b).forEach(function(a) {
                            g.hasOwnProperty(a) && (c[a] = function() {
                                return f["default"].warn(b[a]), g[a].apply(this, arguments)
                            })
                        }), {
                            v: new Proxy(a, c)
                        }
                    }();
                    if ("object" == typeof c)
                        return c.v
                }
                return a
            }, b.exports = c["default"]
        }, {
            "./log.js": 137
        }],
        132: [function(a, b, c) {
            "use strict";
            function d(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function e(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function f(a, b) {
                return a.raw = b, a
            }
            function g(a) {
                return "string" == typeof a && /\S/.test(a)
            }
            function h(a) {
                if (/\s/.test(a))
                    throw new Error("class has illegal whitespace characters")
            }
            function i(a) {
                return new RegExp("(^|\\s)" + a + "($|\\s)")
            }
            function j(a) {
                return function(b, c) {
                    return g(b) ? (g(c) && (c = J["default"].querySelector(c)), (B(c) ? c : J["default"])[a](b)) : J["default"][a](null)
                }
            }
            function k(a) {
                return 0 === a.indexOf("#") && (a = a.slice(1)), J["default"].getElementById(a)
            }
            function l() {
                var a = arguments.length <= 0 || void 0 === arguments[0] ? "div" : arguments[0],
                    b = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
                    c = arguments.length <= 2 || void 0 === arguments[2] ? {} : arguments[2],
                    d = J["default"].createElement(a);
                return Object.getOwnPropertyNames(b).forEach(function(a) {
                    var c = b[a];
                    -1 !== a.indexOf("aria-") || "role" === a || "type" === a ? (P["default"].warn(R["default"](H, a, c)), d.setAttribute(a, c)) : d[a] = c
                }), Object.getOwnPropertyNames(c).forEach(function(a) {
                    c[a];
                    d.setAttribute(a, c[a])
                }), d
            }
            function m(a, b) {
                "undefined" == typeof a.textContent ? a.innerText = b : a.textContent = b
            }
            function n(a, b) {
                b.firstChild ? b.insertBefore(a, b.firstChild) : b.appendChild(a)
            }
            function o(a) {
                var b = a[T];
                return b || (b = a[T] = N.newGUID()), S[b] || (S[b] = {}), S[b]
            }
            function p(a) {
                var b = a[T];
                return b ? !!Object.getOwnPropertyNames(S[b]).length : !1
            }
            function q(a) {
                var b = a[T];
                if (b) {
                    delete S[b];
                    try {
                        delete a[T]
                    } catch (c) {
                        a.removeAttribute ? a.removeAttribute(T) : a[T] = null
                    }
                }
            }
            function r(a, b) {
                return a.classList ? a.classList.contains(b) : (h(b), i(b).test(a.className))
            }
            function s(a, b) {
                return a.classList ? a.classList.add(b) : r(a, b) || (a.className = (a.className + " " + b).trim()), a
            }
            function t(a, b) {
                return a.classList ? a.classList.remove(b) : (h(b), a.className = a.className.split(/\s+/).filter(function(a) {
                    return a !== b
                }).join(" ")), a
            }
            function u(a, b, c) {
                var d = r(a, b);
                return "function" == typeof c && (c = c(a, b)), "boolean" != typeof c && (c = !d), c !== d ? (c ? s(a, b) : t(a, b), a) : void 0
            }
            function v(a, b) {
                Object.getOwnPropertyNames(b).forEach(function(c) {
                    var d = b[c];
                    null === d || "undefined" == typeof d || d === !1 ? a.removeAttribute(c) : a.setAttribute(c, d === !0 ? "" : d)
                })
            }
            function w(a) {
                var b,
                    c,
                    d,
                    e,
                    f;
                if (b = {}, c = ",autoplay,controls,loop,muted,default,", a && a.attributes && a.attributes.length > 0) {
                    d = a.attributes;
                    for (var g = d.length - 1; g >= 0; g--)
                        e = d[g].name, f = d[g].value, ("boolean" == typeof a[e] || -1 !== c.indexOf("," + e + ",")) && (f = null !== f ? !0 : !1), b[e] = f
                }
                return b
            }
            function x() {
                J["default"].body.focus(), J["default"].onselectstart = function() {
                    return !1
                }
            }
            function y() {
                J["default"].onselectstart = function() {
                    return !0
                }
            }
            function z(a) {
                var b = void 0;
                if (a.getBoundingClientRect && a.parentNode && (b = a.getBoundingClientRect()), !b)
                    return {
                        left: 0,
                        top: 0
                    };
                var c = J["default"].documentElement,
                    d = J["default"].body,
                    e = c.clientLeft || d.clientLeft || 0,
                    f = L["default"].pageXOffset || d.scrollLeft,
                    g = b.left + f - e,
                    h = c.clientTop || d.clientTop || 0,
                    i = L["default"].pageYOffset || d.scrollTop,
                    j = b.top + i - h;
                return {
                    left: Math.round(g),
                    top: Math.round(j)
                }
            }
            function A(a, b) {
                var c = {},
                    d = z(a),
                    e = a.offsetWidth,
                    f = a.offsetHeight,
                    g = d.top,
                    h = d.left,
                    i = b.pageY,
                    j = b.pageX;
                return b.changedTouches && (j = b.changedTouches[0].pageX, i = b.changedTouches[0].pageY), c.y = Math.max(0, Math.min(1, (g - i + f) / f)), c.x = Math.max(0, Math.min(1, (j - h) / e)), c
            }
            function B(a) {
                return !!a && "object" == typeof a && 1 === a.nodeType
            }
            function C(a) {
                return !!a && "object" == typeof a && 3 === a.nodeType
            }
            function D(a) {
                for (; a.firstChild;)
                    a.removeChild(a.firstChild);
                return a
            }
            function E(a) {
                return "function" == typeof a && (a = a()), (Array.isArray(a) ? a : [a]).map(function(a) {
                    return "function" == typeof a && (a = a()), B(a) || C(a) ? a : "string" == typeof a && /\S/.test(a) ? J["default"].createTextNode(a) : void 0
                }).filter(function(a) {
                    return a
                })
            }
            function F(a, b) {
                return E(b).forEach(function(b) {
                    return a.appendChild(b)
                }), a
            }
            function G(a, b) {
                return F(D(a), b)
            }
            c.__esModule = !0, c.getEl = k, c.createEl = l, c.textContent = m, c.insertElFirst = n, c.getElData = o, c.hasElData = p, c.removeElData = q, c.hasElClass = r, c.addElClass = s, c.removeElClass = t, c.toggleElClass = u, c.setElAttributes = v, c.getElAttributes = w, c.blockTextSelection = x, c.unblockTextSelection = y, c.findElPosition = z, c.getPointerPosition = A, c.isEl = B, c.isTextNode = C, c.emptyEl = D, c.normalizeContent = E, c.appendContent = F, c.insertContent = G;
            var H = f(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set ", " to ", "."], ["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set ", " to ", "."]),
                I = a("global/document"),
                J = e(I),
                K = a("global/window"),
                L = e(K),
                M = a("./guid.js"),
                N = d(M),
                O = a("./log.js"),
                P = e(O),
                Q = a("tsml"),
                R = e(Q),
                S = {},
                T = "vdata" + (new Date).getTime(),
                U = j("querySelector");
            c.$ = U;
            var V = j("querySelectorAll");
            c.$$ = V
        }, {
            "./guid.js": 136,
            "./log.js": 137,
            "global/document": 1,
            "global/window": 2,
            tsml: 55
        }],
        133: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function f(a, b, c) {
                if (Array.isArray(b))
                    return l(f, a, b, c);
                var d = n.getElData(a);
                d.handlers || (d.handlers = {}), d.handlers[b] || (d.handlers[b] = []), c.guid || (c.guid = p.newGUID()), d.handlers[b].push(c), d.dispatcher || (d.disabled = !1, d.dispatcher = function(b, c) {
                    if (!d.disabled) {
                        b = j(b);
                        var e = d.handlers[b.type];
                        if (e)
                            for (var f = e.slice(0), g = 0, h = f.length; h > g && !b.isImmediatePropagationStopped(); g++)
                                f[g].call(a, b, c)
                    }
                }), 1 === d.handlers[b].length && (a.addEventListener ? a.addEventListener(b, d.dispatcher, !1) : a.attachEvent && a.attachEvent("on" + b, d.dispatcher))
            }
            function g(a, b, c) {
                if (n.hasElData(a)) {
                    var d = n.getElData(a);
                    if (d.handlers) {
                        if (Array.isArray(b))
                            return l(g, a, b, c);
                        var e = function(b) {
                            d.handlers[b] = [], k(a, b)
                        };
                        if (b) {
                            var f = d.handlers[b];
                            if (f) {
                                if (!c)
                                    return void e(b);
                                if (c.guid)
                                    for (var h = 0; h < f.length; h++)
                                        f[h].guid === c.guid && f.splice(h--, 1);
                                k(a, b)
                            }
                        } else
                            for (var i in d.handlers)
                                e(i)
                    }
                }
            }
            function h(a, b, c) {
                var d = n.hasElData(a) ? n.getElData(a) : {},
                    e = a.parentNode || a.ownerDocument;
                if ("string" == typeof b && (b = {
                    type: b,
                    target: a
                }), b = j(b), d.dispatcher && d.dispatcher.call(a, b, c), e && !b.isPropagationStopped() && b.bubbles === !0)
                    h.call(null, e, b, c);
                else if (!e && !b.defaultPrevented) {
                    var f = n.getElData(b.target);
                    b.target[b.type] && (f.disabled = !0, "function" == typeof b.target[b.type] && b.target[b.type](), f.disabled = !1)
                }
                return !b.defaultPrevented
            }
            function i(a, b, c) {
                if (Array.isArray(b))
                    return l(i, a, b, c);
                var d = function e() {
                    g(a, b, e), c.apply(this, arguments)
                };
                d.guid = c.guid = c.guid || p.newGUID(), f(a, b, d)
            }
            function j(a) {
                function b() {
                    return !0
                }
                function c() {
                    return !1
                }
                if (!a || !a.isPropagationStopped) {
                    var d = a || r["default"].event;
                    a = {};
                    for (var e in d)
                        "layerX" !== e && "layerY" !== e && "keyLocation" !== e && "webkitMovementX" !== e && "webkitMovementY" !== e && ("returnValue" === e && d.preventDefault || (a[e] = d[e]));
                    if (a.target || (a.target = a.srcElement || t["default"]), a.relatedTarget || (a.relatedTarget = a.fromElement === a.target ? a.toElement : a.fromElement), a.preventDefault = function() {
                        d.preventDefault && d.preventDefault(), a.returnValue = !1, d.returnValue = !1, a.defaultPrevented = !0
                    }, a.defaultPrevented = !1, a.stopPropagation = function() {
                        d.stopPropagation && d.stopPropagation(), a.cancelBubble = !0, d.cancelBubble = !0, a.isPropagationStopped = b
                    }, a.isPropagationStopped = c, a.stopImmediatePropagation = function() {
                        d.stopImmediatePropagation && d.stopImmediatePropagation(), a.isImmediatePropagationStopped = b, a.stopPropagation()
                    }, a.isImmediatePropagationStopped = c, null != a.clientX) {
                        var f = t["default"].documentElement,
                            g = t["default"].body;
                        a.pageX = a.clientX + (f && f.scrollLeft || g && g.scrollLeft || 0) - (f && f.clientLeft || g && g.clientLeft || 0), a.pageY = a.clientY + (f && f.scrollTop || g && g.scrollTop || 0) - (f && f.clientTop || g && g.clientTop || 0)
                    }
                    a.which = a.charCode || a.keyCode, null != a.button && (a.button = 1 & a.button ? 0 : 4 & a.button ? 1 : 2 & a.button ? 2 : 0)
                }
                return a
            }
            function k(a, b) {
                var c = n.getElData(a);
                0 === c.handlers[b].length && (delete c.handlers[b], a.removeEventListener ? a.removeEventListener(b, c.dispatcher, !1) : a.detachEvent && a.detachEvent("on" + b, c.dispatcher)), Object.getOwnPropertyNames(c.handlers).length <= 0 && (delete c.handlers, delete c.dispatcher, delete c.disabled), 0 === Object.getOwnPropertyNames(c).length && n.removeElData(a)
            }
            function l(a, b, c, d) {
                c.forEach(function(c) {
                    a(b, c, d)
                })
            }
            c.__esModule = !0, c.on = f, c.off = g, c.trigger = h, c.one = i, c.fixEvent = j;
            var m = a("./dom.js"),
                n = e(m),
                o = a("./guid.js"),
                p = e(o),
                q = a("global/window"),
                r = d(q),
                s = a("global/document"),
                t = d(s)
        }, {
            "./dom.js": 132,
            "./guid.js": 136,
            "global/document": 1,
            "global/window": 2
        }],
        134: [function(a, b, c) {
            "use strict";
            c.__esModule = !0;
            var d = a("./guid.js"),
                e = function(a, b, c) {
                    b.guid || (b.guid = d.newGUID());
                    var e = function() {
                        return b.apply(a, arguments)
                    };
                    return e.guid = c ? c + "_" + b.guid : b.guid, e
                };
            c.bind = e
        }, {
            "./guid.js": 136
        }],
        135: [function(a, b, c) {
            "use strict";
            function d(a) {
                var b = arguments.length <= 1 || void 0 === arguments[1] ? a : arguments[1];
                return function() {
                    a = 0 > a ? 0 : a;
                    var c = Math.floor(a % 60),
                        d = Math.floor(a / 60 % 60),
                        e = Math.floor(a / 3600),
                        f = Math.floor(b / 60 % 60),
                        g = Math.floor(b / 3600);
                    return (isNaN(a) || a === 1 / 0) && (e = d = c = "-"), e = e > 0 || g > 0 ? e + ":" : "", d = ((e || f >= 10) && 10 > d ? "0" + d : d) + ":", c = 10 > c ? "0" + c : c, e + d + c
                }()
            }
            c.__esModule = !0, c["default"] = d, b.exports = c["default"]
        }, {}],
        136: [function(a, b, c) {
            "use strict";
            function d() {
                return e++
            }
            c.__esModule = !0, c.newGUID = d;
            var e = 1
        }, {}],
        137: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                var c = Array.prototype.slice.call(b),
                    d = function() {},
                    e = g["default"].console || {
                        log: d,
                        warn: d,
                        error: d
                    };
                a ? c.unshift(a.toUpperCase() + ":") : a = "log", h.history.push(c), c.unshift("VIDEOJS:"), e[a].apply ? e[a].apply(e, c) : e[a](c.join(" "))
            }
            c.__esModule = !0;
            var f = a("global/window"),
                g = d(f),
                h = function() {
                    e(null, arguments)
                };
            h.history = [], h.error = function() {
                e("error", arguments)
            }, h.warn = function() {
                e("warn", arguments)
            }, c["default"] = h, b.exports = c["default"]
        }, {
            "global/window": 2
        }],
        138: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a) {
                return !!a && "object" == typeof a && "[object Object]" === a.toString() && a.constructor === Object
            }
            function f() {
                var a = Array.prototype.slice.call(arguments);
                return a.unshift({}), a.push(i), h["default"].apply(null, a), a[0]
            }
            c.__esModule = !0, c["default"] = f;
            var g = a("lodash-compat/object/merge"),
                h = d(g),
                i = function(a, b) {
                    return e(b) ? e(a) ? void 0 : f(b) : b
                };
            b.exports = c["default"]
        }, {
            "lodash-compat/object/merge": 40
        }],
        139: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            c.__esModule = !0;
            var e = a("global/document"),
                f = d(e),
                g = function(a) {
                    var b = f["default"].createElement("style");
                    return b.className = a, b
                };
            c.createStyleElement = g;
            var h = function(a, b) {
                a.styleSheet ? a.styleSheet.cssText = b : a.textContent = b
            };
            c.setTextContent = h
        }, {
            "global/document": 1
        }],
        140: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            function e(a, b) {
                return Array.isArray(a) ? f(a) : void 0 === a || void 0 === b ? f() : f([[a, b]])
            }
            function f(a) {
                return void 0 === a || 0 === a.length ? {
                    length: 0,
                    start: function() {
                        throw new Error("This TimeRanges object is empty")
                    },
                    end: function() {
                        throw new Error("This TimeRanges object is empty")
                    }
                } : {
                    length: a.length,
                    start: g.bind(null, "start", 0, a),
                    end: g.bind(null, "end", 1, a)
                }
            }
            function g(a, b, c, d) {
                return void 0 === d && (j["default"].warn("DEPRECATED: Function '" + a + "' on 'TimeRanges' called without an index argument."), d = 0), h(a, d, c.length - 1), c[d][b]
            }
            function h(a, b, c) {
                if (0 > b || b > c)
                    throw new Error("Failed to execute '" + a + "' on 'TimeRanges': The index provided (" + b + ") is greater than or equal to the maximum bound (" + c + ").")
            }
            c.__esModule = !0, c.createTimeRanges = e;
            var i = a("./log.js"),
                j = d(i);
            c.createTimeRange = e
        }, {
            "./log.js": 137
        }],
        141: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a.charAt(0).toUpperCase() + a.slice(1)
            }
            c.__esModule = !0, c["default"] = d, b.exports = c["default"]
        }, {}],
        142: [function(a, b, c) {
            "use strict";
            function d(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            c.__esModule = !0;
            var e = a("global/document"),
                f = d(e),
                g = a("global/window"),
                h = d(g),
                i = function(a) {
                    var b = ["protocol", "hostname", "port", "pathname", "search", "hash", "host"],
                        c = f["default"].createElement("a");
                    c.href = a;
                    var d = "" === c.host && "file:" !== c.protocol,
                        e = void 0;
                    d && (e = f["default"].createElement("div"), e.innerHTML = '<a href="' + a + '"></a>', c = e.firstChild, e.setAttribute("style", "display:none; position:absolute;"), f["default"].body.appendChild(e));
                    for (var g = {}, h = 0; h < b.length; h++)
                        g[b[h]] = c[b[h]];
                    return "http:" === g.protocol && (g.host = g.host.replace(/:80$/, "")), "https:" === g.protocol && (g.host = g.host.replace(/:443$/, "")), d && f["default"].body.removeChild(e), g
                };
            c.parseUrl = i;
            var j = function(a) {
                if (!a.match(/^https?:\/\//)) {
                    var b = f["default"].createElement("div");
                    b.innerHTML = '<a href="' + a + '">x</a>', a = b.firstChild.href
                }
                return a
            };
            c.getAbsoluteURL = j;
            var k = function(a) {
                if ("string" == typeof a) {
                    var b = /^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,
                        c = b.exec(a);
                    if (c)
                        return c.pop().toLowerCase()
                }
                return ""
            };
            c.getFileExtension = k;
            var l = function(a) {
                var b = h["default"].location,
                    c = i(a),
                    d = ":" === c.protocol ? b.protocol : c.protocol,
                    e = d + c.host !== b.protocol + b.host;
                return e
            };
            c.isCrossOrigin = l
        }, {
            "global/document": 1,
            "global/window": 2
        }],
        143: [function(b, c, d) {
            "use strict";
            function e(a) {
                if (a && a.__esModule)
                    return a;
                var b = {};
                if (null != a)
                    for (var c in a)
                        Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b["default"] = a, b
            }
            function f(a) {
                return a && a.__esModule ? a : {
                    "default": a
                }
            }
            d.__esModule = !0;
            {
                var g = b("global/document"),
                    h = f(g),
                    i = b("./setup"),
                    j = e(i),
                    k = b("./utils/stylesheet.js"),
                    l = e(k),
                    m = b("./component"),
                    n = f(m),
                    o = b("./event-target"),
                    p = f(o),
                    q = b("./utils/events.js"),
                    r = e(q),
                    s = b("./player"),
                    t = f(s),
                    u = b("./plugins.js"),
                    v = f(u),
                    w = b("../../src/js/utils/merge-options.js"),
                    x = f(w),
                    y = b("./utils/fn.js"),
                    z = e(y),
                    A = b("./tracks/text-track.js"),
                    B = f(A),
                    C = b("object.assign"),
                    D = (f(C), b("./utils/time-ranges.js")),
                    E = b("./utils/format-time.js"),
                    F = f(E),
                    G = b("./utils/log.js"),
                    H = f(G),
                    I = b("./utils/dom.js"),
                    J = e(I),
                    K = b("./utils/browser.js"),
                    L = e(K),
                    M = b("./utils/url.js"),
                    N = e(M),
                    O = b("./extend.js"),
                    P = f(O),
                    Q = b("lodash-compat/object/merge"),
                    R = f(Q),
                    S = b("./utils/create-deprecation-proxy.js"),
                    T = f(S),
                    U = b("xhr"),
                    V = f(U),
                    W = b("./tech/tech.js"),
                    X = f(W),
                    Y = b("./tech/html5.js"),
                    Z = (f(Y), b("./tech/flash.js"));
                f(Z)
            }
            "undefined" == typeof HTMLVideoElement && (h["default"].createElement("video"), h["default"].createElement("audio"), h["default"].createElement("track"));
            var $ = function ba(a, b, c) {
                    var d = void 0;
                    if ("string" == typeof a) {
                        if (0 === a.indexOf("#") && (a = a.slice(1)), ba.getPlayers()[a])
                            return b && H["default"].warn('Player "' + a + '" is already initialised. Options will not be applied.'), c && ba.getPlayers()[a].ready(c), ba.getPlayers()[a];
                        d = J.getEl(a)
                    } else
                        d = a;
                    if (!d || !d.nodeName)
                        throw new TypeError("The element or ID supplied is not valid. (videojs)");
                    return d.player || t["default"].players[d.playerId] || new t["default"](d, b, c)
                },
                _ = J.$(".vjs-styles-defaults");
            if (!_) {
                _ = l.createStyleElement("vjs-styles-defaults");
                var aa = J.$("head");
                aa.insertBefore(_, aa.firstChild), l.setTextContent(_, "\n    .video-js {\n      width: 300px;\n      height: 150px;\n    }\n\n    .vjs-fluid {\n      padding-top: 56.25%\n    }\n  ")
            }
            j.autoSetupTimeout(1, $), $.VERSION = "5.8.8", $.options = t["default"].prototype.options_, $.getPlayers = function() {
                return t["default"].players
            }, $.players = T["default"](t["default"].players, {
                get: "Access to videojs.players is deprecated; use videojs.getPlayers instead",
                set: "Modification of videojs.players is deprecated"
            }), $.getComponent = n["default"].getComponent, $.registerComponent = function(a, b) {
                X["default"].isTech(b) && H["default"].warn("The " + a + " tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"), n["default"].registerComponent.call(n["default"], a, b)
            }, $.getTech = X["default"].getTech, $.registerTech = X["default"].registerTech, $.browser = L, $.TOUCH_ENABLED = L.TOUCH_ENABLED, $.extend = P["default"], $.mergeOptions = x["default"], $.bind = z.bind, $.plugin = v["default"], $.addLanguage = function(a, b) {
                var c;
                return a = ("" + a).toLowerCase(), R["default"]($.options.languages, (c = {}, c[a] = b, c))[a]
            }, $.log = H["default"], $.createTimeRange = $.createTimeRanges = D.createTimeRanges, $.formatTime = F["default"], $.parseUrl = N.parseUrl, $.isCrossOrigin = N.isCrossOrigin, $.EventTarget = p["default"], $.on = r.on, $.one = r.one, $.off = r.off, $.trigger = r.trigger, $.xhr = V["default"], $.TextTrack = B["default"], $.isEl = J.isEl, $.isTextNode = J.isTextNode, $.createEl = J.createEl, $.hasClass = J.hasElClass, $.addClass = J.addElClass, $.removeClass = J.removeElClass, $.toggleClass = J.toggleElClass, $.setAttributes = J.setElAttributes, $.getAttributes = J.getElAttributes, $.emptyEl = J.emptyEl, $.appendContent = J.appendContent, $.insertContent = J.insertContent, "function" == typeof a && a.amd ? a("videojs", [], function() {
                return $
            }) : "object" == typeof d && "object" == typeof c && (c.exports = $), d["default"] = $, c.exports = d["default"]
        }, {
            "../../src/js/utils/merge-options.js": 138,
            "./component": 67,
            "./event-target": 99,
            "./extend.js": 100,
            "./player": 108,
            "./plugins.js": 109,
            "./setup": 113,
            "./tech/flash.js": 116,
            "./tech/html5.js": 117,
            "./tech/tech.js": 119,
            "./tracks/text-track.js": 128,
            "./utils/browser.js": 129,
            "./utils/create-deprecation-proxy.js": 131,
            "./utils/dom.js": 132,
            "./utils/events.js": 133,
            "./utils/fn.js": 134,
            "./utils/format-time.js": 135,
            "./utils/log.js": 137,
            "./utils/stylesheet.js": 139,
            "./utils/time-ranges.js": 140,
            "./utils/url.js": 142,
            "global/document": 1,
            "lodash-compat/object/merge": 40,
            "object.assign": 45,
            xhr: 56
        }]
    }, {}, [143])(143)
}), function(a) {
    var b = a.vttjs = {},
        c = b.VTTCue,
        d = b.VTTRegion,
        e = a.VTTCue,
        f = a.VTTRegion;
    b.shim = function() {
        b.VTTCue = c, b.VTTRegion = d
    }, b.restore = function() {
        b.VTTCue = e, b.VTTRegion = f
    }
}(this), function(a, b) {
    function c(a) {
        if ("string" != typeof a)
            return !1;
        var b = h[a.toLowerCase()];
        return b ? a.toLowerCase() : !1
    }
    function d(a) {
        if ("string" != typeof a)
            return !1;
        var b = i[a.toLowerCase()];
        return b ? a.toLowerCase() : !1
    }
    function e(a) {
        for (var b = 1; b < arguments.length; b++) {
            var c = arguments[b];
            for (var d in c)
                a[d] = c[d]
        }
        return a
    }
    function f(a, b, f) {
        var h = this,
            i = /MSIE\s8\.0/.test(navigator.userAgent),
            j = {};
        i ? h = document.createElement("custom") : j.enumerable = !0, h.hasBeenReset = !1;
        var k = "",
            l = !1,
            m = a,
            n = b,
            o = f,
            p = null,
            q = "",
            r = !0,
            s = "auto",
            t = "start",
            u = 50,
            v = "middle",
            w = 50,
            x = "middle";
        return Object.defineProperty(h, "id", e({}, j, {
            get: function() {
                return k
            },
            set: function(a) {
                k = "" + a
            }
        })), Object.defineProperty(h, "pauseOnExit", e({}, j, {
            get: function() {
                return l
            },
            set: function(a) {
                l = !!a
            }
        })), Object.defineProperty(h, "startTime", e({}, j, {
            get: function() {
                return m
            },
            set: function(a) {
                if ("number" != typeof a)
                    throw new TypeError("Start time must be set to a number.");
                m = a, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "endTime", e({}, j, {
            get: function() {
                return n
            },
            set: function(a) {
                if ("number" != typeof a)
                    throw new TypeError("End time must be set to a number.");
                n = a, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "text", e({}, j, {
            get: function() {
                return o
            },
            set: function(a) {
                o = "" + a, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "region", e({}, j, {
            get: function() {
                return p
            },
            set: function(a) {
                p = a, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "vertical", e({}, j, {
            get: function() {
                return q
            },
            set: function(a) {
                var b = c(a);
                if (b === !1)
                    throw new SyntaxError("An invalid or illegal string was specified.");
                q = b, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "snapToLines", e({}, j, {
            get: function() {
                return r
            },
            set: function(a) {
                r = !!a, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "line", e({}, j, {
            get: function() {
                return s
            },
            set: function(a) {
                if ("number" != typeof a && a !== g)
                    throw new SyntaxError("An invalid number or illegal string was specified.");
                s = a, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "lineAlign", e({}, j, {
            get: function() {
                return t
            },
            set: function(a) {
                var b = d(a);
                if (!b)
                    throw new SyntaxError("An invalid or illegal string was specified.");
                t = b, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "position", e({}, j, {
            get: function() {
                return u
            },
            set: function(a) {
                if (0 > a || a > 100)
                    throw new Error("Position must be between 0 and 100.");
                u = a, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "positionAlign", e({}, j, {
            get: function() {
                return v
            },
            set: function(a) {
                var b = d(a);
                if (!b)
                    throw new SyntaxError("An invalid or illegal string was specified.");
                v = b, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "size", e({}, j, {
            get: function() {
                return w
            },
            set: function(a) {
                if (0 > a || a > 100)
                    throw new Error("Size must be between 0 and 100.");
                w = a, this.hasBeenReset = !0
            }
        })), Object.defineProperty(h, "align", e({}, j, {
            get: function() {
                return x
            },
            set: function(a) {
                var b = d(a);
                if (!b)
                    throw new SyntaxError("An invalid or illegal string was specified.");
                x = b, this.hasBeenReset = !0
            }
        })), h.displayState = void 0, i ? h : void 0
    }
    var g = "auto",
        h = {
            "": !0,
            lr: !0,
            rl: !0
        },
        i = {
            start: !0,
            middle: !0,
            end: !0,
            left: !0,
            right: !0
        };
    f.prototype.getCueAsHTML = function() {
        return WebVTT.convertCueToDOMTree(window, this.text)
    }, a.VTTCue = a.VTTCue || f, b.VTTCue = f
}(this, this.vttjs || {}), function(a, b) {
    function c(a) {
        if ("string" != typeof a)
            return !1;
        var b = f[a.toLowerCase()];
        return b ? a.toLowerCase() : !1
    }
    function d(a) {
        return "number" == typeof a && a >= 0 && 100 >= a
    }
    function e() {
        var a = 100,
            b = 3,
            e = 0,
            f = 100,
            g = 0,
            h = 100,
            i = "";
        Object.defineProperties(this, {
            width: {
                enumerable: !0,
                get: function() {
                    return a
                },
                set: function(b) {
                    if (!d(b))
                        throw new Error("Width must be between 0 and 100.");
                    a = b
                }
            },
            lines: {
                enumerable: !0,
                get: function() {
                    return b
                },
                set: function(a) {
                    if ("number" != typeof a)
                        throw new TypeError("Lines must be set to a number.");
                    b = a
                }
            },
            regionAnchorY: {
                enumerable: !0,
                get: function() {
                    return f
                },
                set: function(a) {
                    if (!d(a))
                        throw new Error("RegionAnchorX must be between 0 and 100.");
                    f = a
                }
            },
            regionAnchorX: {
                enumerable: !0,
                get: function() {
                    return e
                },
                set: function(a) {
                    if (!d(a))
                        throw new Error("RegionAnchorY must be between 0 and 100.");
                    e = a
                }
            },
            viewportAnchorY: {
                enumerable: !0,
                get: function() {
                    return h
                },
                set: function(a) {
                    if (!d(a))
                        throw new Error("ViewportAnchorY must be between 0 and 100.");
                    h = a
                }
            },
            viewportAnchorX: {
                enumerable: !0,
                get: function() {
                    return g
                },
                set: function(a) {
                    if (!d(a))
                        throw new Error("ViewportAnchorX must be between 0 and 100.");
                    g = a
                }
            },
            scroll: {
                enumerable: !0,
                get: function() {
                    return i
                },
                set: function(a) {
                    var b = c(a);
                    if (b === !1)
                        throw new SyntaxError("An invalid or illegal string was specified.");
                    i = b
                }
            }
        })
    }
    var f = {
        "": !0,
        up: !0
    };
    a.VTTRegion = a.VTTRegion || e, b.VTTRegion = e
}(this, this.vttjs || {}), function(a) {
    function b(a, b) {
        this.name = "ParsingError", this.code = a.code, this.message = b || a.message
    }
    function c(a) {
        function b(a, b, c, d) {
            return 3600 * (0 | a) + 60 * (0 | b) + (0 | c) + (0 | d) / 1e3
        }
        var c = a.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);
        return c ? c[3] ? b(c[1], c[2], c[3].replace(":", ""), c[4]) : c[1] > 59 ? b(c[1], c[2], 0, c[4]) : b(0, c[1], c[2], c[4]) : null
    }
    function d() {
        this.values = o(null)
    }
    function e(a, b, c, d) {
        var e = d ? a.split(d) : [a];
        for (var f in e)
            if ("string" == typeof e[f]) {
                var g = e[f].split(c);
                if (2 === g.length) {
                    var h = g[0],
                        i = g[1];
                    b(h, i)
                }
            }
    }
    function f(a, f, g) {
        function h() {
            var d = c(a);
            if (null === d)
                throw new b(b.Errors.BadTimeStamp, "Malformed timestamp: " + k);
            return a = a.replace(/^[^\sa-zA-Z-]+/, ""), d
        }
        function i(a, b) {
            var c = new d;
            e(a, function(a, b) {
                switch (a) {
                case "region":
                    for (var d = g.length - 1; d >= 0; d--)
                        if (g[d].id === b) {
                            c.set(a, g[d].region);
                            break
                        }
                    break;
                case "vertical":
                    c.alt(a, b, ["rl", "lr"]);
                    break;
                case "line":
                    var e = b.split(","),
                        f = e[0];
                    c.integer(a, f), c.percent(a, f) ? c.set("snapToLines", !1) : null, c.alt(a, f, ["auto"]), 2 === e.length && c.alt("lineAlign", e[1], ["start", "middle", "end"]);
                    break;
                case "position":
                    e = b.split(","), c.percent(a, e[0]), 2 === e.length && c.alt("positionAlign", e[1], ["start", "middle", "end"]);
                    break;
                case "size":
                    c.percent(a, b);
                    break;
                case "align":
                    c.alt(a, b, ["start", "middle", "end", "left", "right"])
                }
            }, /:/, /\s/), b.region = c.get("region", null), b.vertical = c.get("vertical", ""), b.line = c.get("line", "auto"), b.lineAlign = c.get("lineAlign", "start"), b.snapToLines = c.get("snapToLines", !0), b.size = c.get("size", 100), b.align = c.get("align", "middle"), b.position = c.get("position", {
                start: 0,
                left: 0,
                middle: 50,
                end: 100,
                right: 100
            }, b.align), b.positionAlign = c.get("positionAlign", {
                start: "start",
                left: "start",
                middle: "middle",
                end: "end",
                right: "end"
            }, b.align)
        }
        function j() {
            a = a.replace(/^\s+/, "")
        }
        var k = a;
        if (j(), f.startTime = h(), j(), "-->" !== a.substr(0, 3))
            throw new b(b.Errors.BadTimeStamp, "Malformed time stamp (time stamps must be separated by '-->'): " + k);
        a = a.substr(3), j(), f.endTime = h(), j(), i(a, f)
    }
    function g(a, b) {
        function d() {
            function a(a) {
                return b = b.substr(a.length), a
            }
            if (!b)
                return null;
            var c = b.match(/^([^<]*)(<[^>]+>?)?/);
            return a(c[1] ? c[1] : c[2])
        }
        function e(a) {
            return p[a]
        }
        function f(a) {
            for (; o = a.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)
                a = a.replace(o[0], e);
            return a
        }
        function g(a, b) {
            return !s[b.localName] || s[b.localName] === a.localName
        }
        function h(b, c) {
            var d = q[b];
            if (!d)
                return null;
            var e = a.document.createElement(d);
            e.localName = d;
            var f = r[b];
            return f && c && (e[f] = c.trim()), e
        }
        for (var i, j = a.document.createElement("div"), k = j, l = []; null !== (i = d());)
            if ("<" !== i[0])
                k.appendChild(a.document.createTextNode(f(i)));
            else {
                if ("/" === i[1]) {
                    l.length && l[l.length - 1] === i.substr(2).replace(">", "") && (l.pop(), k = k.parentNode);
                    continue
                }
                var m,
                    n = c(i.substr(1, i.length - 2));
                if (n) {
                    m = a.document.createProcessingInstruction("timestamp", n), k.appendChild(m);
                    continue
                }
                var o = i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);
                if (!o)
                    continue;
                if (m = h(o[1], o[3]), !m)
                    continue;
                if (!g(k, m))
                    continue;
                o[2] && (m.className = o[2].substr(1).replace(".", " ")), l.push(o[1]), k.appendChild(m), k = m
            }
        return j
    }
    function h(a) {
        function b(a, b) {
            for (var c = b.childNodes.length - 1; c >= 0; c--)
                a.push(b.childNodes[c])
        }
        function c(a) {
            if (!a || !a.length)
                return null;
            var d = a.pop(),
                e = d.textContent || d.innerText;
            if (e) {
                var f = e.match(/^.*(\n|\r)/);
                return f ? (a.length = 0, f[0]) : e
            }
            return "ruby" === d.tagName ? c(a) : d.childNodes ? (b(a, d), c(a)) : void 0
        }
        var d,
            e = [],
            f = "";
        if (!a || !a.childNodes)
            return "ltr";
        for (b(e, a); f = c(e);)
            for (var g = 0; g < f.length; g++) {
                d = f.charCodeAt(g);
                for (var h = 0; h < t.length; h++)
                    if (t[h] === d)
                        return "rtl"
            }
        return "ltr"
    }
    function i(a) {
        if ("number" == typeof a.line && (a.snapToLines || a.line >= 0 && a.line <= 100))
            return a.line;
        if (!a.track || !a.track.textTrackList || !a.track.textTrackList.mediaElement)
            return -1;
        for (var b = a.track, c = b.textTrackList, d = 0, e = 0; e < c.length && c[e] !== b; e++)
            "showing" === c[e].mode && d++;
        return -1 * ++d
    }
    function j() {}
    function k(a, b, c) {
        var d = /MSIE\s8\.0/.test(navigator.userAgent),
            e = "rgba(255, 255, 255, 1)",
            f = "rgba(0, 0, 0, 0.8)";
        d && (e = "rgb(255, 255, 255)", f = "rgb(0, 0, 0)"), j.call(this), this.cue = b, this.cueDiv = g(a, b.text);
        var i = {
            color: e,
            backgroundColor: f,
            position: "relative",
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            display: "inline"
        };
        d || (i.writingMode = "" === b.vertical ? "horizontal-tb" : "lr" === b.vertical ? "vertical-lr" : "vertical-rl", i.unicodeBidi = "plaintext"), this.applyStyles(i, this.cueDiv), this.div = a.document.createElement("div"), i = {
            textAlign: "middle" === b.align ? "center" : b.align,
            font: c.font,
            whiteSpace: "pre-line",
            position: "absolute"
        }, d || (i.direction = h(this.cueDiv), i.writingMode = "" === b.vertical ? "horizontal-tb" : "lr" === b.vertical ? "vertical-lr" : "vertical-rl".stylesunicodeBidi = "plaintext"), this.applyStyles(i), this.div.appendChild(this.cueDiv);
        var k = 0;
        switch (b.positionAlign) {
        case "start":
            k = b.position;
            break;
        case "middle":
            k = b.position - b.size / 2;
            break;
        case "end":
            k = b.position - b.size
        }
        this.applyStyles("" === b.vertical ? {
            left: this.formatStyle(k, "%"),
            width: this.formatStyle(b.size, "%")
        } : {
            top: this.formatStyle(k, "%"),
            height: this.formatStyle(b.size, "%")
        }), this.move = function(a) {
            this.applyStyles({
                top: this.formatStyle(a.top, "px"),
                bottom: this.formatStyle(a.bottom, "px"),
                left: this.formatStyle(a.left, "px"),
                right: this.formatStyle(a.right, "px"),
                height: this.formatStyle(a.height, "px"),
                width: this.formatStyle(a.width, "px")
            })
        }
    }
    function l(a) {
        var b,
            c,
            d,
            e,
            f = /MSIE\s8\.0/.test(navigator.userAgent);
        if (a.div) {
            c = a.div.offsetHeight, d = a.div.offsetWidth, e = a.div.offsetTop;
            var g = (g = a.div.childNodes) && (g = g[0]) && g.getClientRects && g.getClientRects();
            a = a.div.getBoundingClientRect(), b = g ? Math.max(g[0] && g[0].height || 0, a.height / g.length) : 0
        }
        this.left = a.left, this.right = a.right, this.top = a.top || e, this.height = a.height || c, this.bottom = a.bottom || e + (a.height || c), this.width = a.width || d, this.lineHeight = void 0 !== b ? b : a.lineHeight, f && !this.lineHeight && (this.lineHeight = 13)
    }
    function m(a, b, c, d) {
        function e(a, b) {
            for (var e, f = new l(a), g = 1, h = 0; h < b.length; h++) {
                for (; a.overlapsOppositeAxis(c, b[h]) || a.within(c) && a.overlapsAny(d);)
                    a.move(b[h]);
                if (a.within(c))
                    return a;
                var i = a.intersectPercentage(c);
                g > i && (e = new l(a), g = i), a = new l(f)
            }
            return e || f
        }
        var f = new l(b),
            g = b.cue,
            h = i(g),
            j = [];
        if (g.snapToLines) {
            var k;
            switch (g.vertical) {
            case "":
                j = ["+y", "-y"], k = "height";
                break;
            case "rl":
                j = ["+x", "-x"], k = "width";
                break;
            case "lr":
                j = ["-x", "+x"], k = "width"
            }
            var m = f.lineHeight,
                n = m * Math.round(h),
                o = c[k] + m,
                p = j[0];
            Math.abs(n) > o && (n = 0 > n ? -1 : 1, n *= Math.ceil(o / m) * m), 0 > h && (n += "" === g.vertical ? c.height : c.width, j = j.reverse()), f.move(p, n)
        } else {
            var q = f.lineHeight / c.height * 100;
            switch (g.lineAlign) {
            case "middle":
                h -= q / 2;
                break;
            case "end":
                h -= q
            }
            switch (g.vertical) {
            case "":
                b.applyStyles({
                    top: b.formatStyle(h, "%")
                });
                break;
            case "rl":
                b.applyStyles({
                    left: b.formatStyle(h, "%")
                });
                break;
            case "lr":
                b.applyStyles({
                    right: b.formatStyle(h, "%")
                })
            }
            j = ["+y", "-x", "+x", "-y"], f = new l(b)
        }
        var r = e(f, j);
        b.move(r.toCSSCompatValues(c))
    }
    function n() {}
    var o = Object.create || function() {
        function a() {}
        return function(b) {
            if (1 !== arguments.length)
                throw new Error("Object.create shim only accepts one parameter.");
            return a.prototype = b, new a
        }
    }();
    b.prototype = o(Error.prototype), b.prototype.constructor = b, b.Errors = {
        BadSignature: {
            code: 0,
            message: "Malformed WebVTT signature."
        },
        BadTimeStamp: {
            code: 1,
            message: "Malformed time stamp."
        }
    }, d.prototype = {
        set: function(a, b) {
            this.get(a) || "" === b || (this.values[a] = b)
        },
        get: function(a, b, c) {
            return c ? this.has(a) ? this.values[a] : b[c] : this.has(a) ? this.values[a] : b
        },
        has: function(a) {
            return a in this.values
        },
        alt: function(a, b, c) {
            for (var d = 0; d < c.length; ++d)
                if (b === c[d]) {
                    this.set(a, b);
                    break
                }
        },
        integer: function(a, b) {
            /^-?\d+$/.test(b) && this.set(a, parseInt(b, 10))
        },
        percent: function(a, b) {
            var c;
            return (c = b.match(/^([\d]{1,3})(\.[\d]*)?%$/)) && (b = parseFloat(b), b >= 0 && 100 >= b) ? (this.set(a, b), !0) : !1
        }
    };
    var p = {
            "&amp;": "&",
            "&lt;": "<",
            "&gt;": ">",
            "&lrm;": "",
            "&rlm;": "",
            "&nbsp;": ""
        },
        q = {
            c: "span",
            i: "i",
            b: "b",
            u: "u",
            ruby: "ruby",
            rt: "rt",
            v: "span",
            lang: "span"
        },
        r = {
            v: "title",
            lang: "lang"
        },
        s = {
            rt: "ruby"
        },
        t = [1470, 1472, 1475, 1478, 1488, 1489, 1490, 1491, 1492, 1493, 1494, 1495, 1496, 1497, 1498, 1499, 1500, 1501, 1502, 1503, 1504, 1505, 1506, 1507, 1508, 1509, 1510, 1511, 1512, 1513, 1514, 1520, 1521, 1522, 1523, 1524, 1544, 1547, 1549, 1563, 1566, 1567, 1568, 1569, 1570, 1571, 1572, 1573, 1574, 1575, 1576, 1577, 1578, 1579, 1580, 1581, 1582, 1583, 1584, 1585, 1586, 1587, 1588, 1589, 1590, 1591, 1592, 1593, 1594, 1595, 1596, 1597, 1598, 1599, 1600, 1601, 1602, 1603, 1604, 1605, 1606, 1607, 1608, 1609, 1610, 1645, 1646, 1647, 1649, 1650, 1651, 1652, 1653, 1654, 1655, 1656, 1657, 1658, 1659, 1660, 1661, 1662, 1663, 1664, 1665, 1666, 1667, 1668, 1669, 1670, 1671, 1672, 1673, 1674, 1675, 1676, 1677, 1678, 1679, 1680, 1681, 1682, 1683, 1684, 1685, 1686, 1687, 1688, 1689, 1690, 1691, 1692, 1693, 1694, 1695, 1696, 1697, 1698, 1699, 1700, 1701, 1702, 1703, 1704, 1705, 1706, 1707, 1708, 1709, 1710, 1711, 1712, 1713, 1714, 1715, 1716, 1717, 1718, 1719, 1720, 1721, 1722, 1723, 1724, 1725, 1726, 1727, 1728, 1729, 1730, 1731, 1732, 1733, 1734, 1735, 1736, 1737, 1738, 1739, 1740, 1741, 1742, 1743, 1744, 1745, 1746, 1747, 1748, 1749, 1765, 1766, 1774, 1775, 1786, 1787, 1788, 1789, 1790, 1791, 1792, 1793, 1794, 1795, 1796, 1797, 1798, 1799, 1800, 1801, 1802, 1803, 1804, 1805, 1807, 1808, 1810, 1811, 1812, 1813, 1814, 1815, 1816, 1817, 1818, 1819, 1820, 1821, 1822, 1823, 1824, 1825, 1826, 1827, 1828, 1829, 1830, 1831, 1832, 1833, 1834, 1835, 1836, 1837, 1838, 1839, 1869, 1870, 1871, 1872, 1873, 1874, 1875, 1876, 1877, 1878, 1879, 1880, 1881, 1882, 1883, 1884, 1885, 1886, 1887, 1888, 1889, 1890, 1891, 1892, 1893, 1894, 1895, 1896, 1897, 1898, 1899, 1900, 1901, 1902, 1903, 1904, 1905, 1906, 1907, 1908, 1909, 1910, 1911, 1912, 1913, 1914, 1915, 1916, 1917, 1918, 1919, 1920, 1921, 1922, 1923, 1924, 1925, 1926, 1927, 1928, 1929, 1930, 1931, 1932, 1933, 1934, 1935, 1936, 1937, 1938, 1939, 1940, 1941, 1942, 1943, 1944, 1945, 1946, 1947, 1948, 1949, 1950, 1951, 1952, 1953, 1954, 1955, 1956, 1957, 1969, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2e3, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024, 2025, 2026, 2036, 2037, 2042, 2048, 2049, 2050, 2051, 2052, 2053, 2054, 2055, 2056, 2057, 2058, 2059, 2060, 2061, 2062, 2063, 2064, 2065, 2066, 2067, 2068, 2069, 2074, 2084, 2088, 2096, 2097, 2098, 2099, 2100, 2101, 2102, 2103, 2104, 2105, 2106, 2107, 2108, 2109, 2110, 2112, 2113, 2114, 2115, 2116, 2117, 2118, 2119, 2120, 2121, 2122, 2123, 2124, 2125, 2126, 2127, 2128, 2129, 2130, 2131, 2132, 2133, 2134, 2135, 2136, 2142, 2208, 2210, 2211, 2212, 2213, 2214, 2215, 2216, 2217, 2218, 2219, 2220, 8207, 64285, 64287, 64288, 64289, 64290, 64291, 64292, 64293, 64294, 64295, 64296, 64298, 64299, 64300, 64301, 64302, 64303, 64304, 64305, 64306, 64307, 64308, 64309, 64310, 64312, 64313, 64314, 64315, 64316, 64318, 64320, 64321, 64323, 64324, 64326, 64327, 64328, 64329, 64330, 64331, 64332, 64333, 64334, 64335, 64336, 64337, 64338, 64339, 64340, 64341, 64342, 64343, 64344, 64345, 64346, 64347, 64348, 64349, 64350, 64351, 64352, 64353, 64354, 64355, 64356, 64357, 64358, 64359, 64360, 64361, 64362, 64363, 64364, 64365, 64366, 64367, 64368, 64369, 64370, 64371, 64372, 64373, 64374, 64375, 64376, 64377, 64378, 64379, 64380, 64381, 64382, 64383, 64384, 64385, 64386, 64387, 64388, 64389, 64390, 64391, 64392, 64393, 64394, 64395, 64396, 64397, 64398, 64399, 64400, 64401, 64402, 64403, 64404, 64405, 64406, 64407, 64408, 64409, 64410, 64411, 64412, 64413, 64414, 64415, 64416, 64417, 64418, 64419, 64420, 64421, 64422, 64423, 64424, 64425, 64426, 64427, 64428, 64429, 64430, 64431, 64432, 64433, 64434, 64435, 64436, 64437, 64438, 64439, 64440, 64441, 64442, 64443, 64444, 64445, 64446, 64447, 64448, 64449, 64467, 64468, 64469, 64470, 64471, 64472, 64473, 64474, 64475, 64476, 64477, 64478, 64479, 64480, 64481, 64482, 64483, 64484, 64485, 64486, 64487, 64488, 64489, 64490, 64491, 64492, 64493, 64494, 64495, 64496, 64497, 64498, 64499, 64500, 64501, 64502, 64503, 64504, 64505, 64506, 64507, 64508, 64509, 64510, 64511, 64512, 64513, 64514, 64515, 64516, 64517, 64518, 64519, 64520, 64521, 64522, 64523, 64524, 64525, 64526, 64527, 64528, 64529, 64530, 64531, 64532, 64533, 64534, 64535, 64536, 64537, 64538, 64539, 64540, 64541, 64542, 64543, 64544, 64545, 64546, 64547, 64548, 64549, 64550, 64551, 64552, 64553, 64554, 64555, 64556, 64557, 64558, 64559, 64560, 64561, 64562, 64563, 64564, 64565, 64566, 64567, 64568, 64569, 64570, 64571, 64572, 64573, 64574, 64575, 64576, 64577, 64578, 64579, 64580, 64581, 64582, 64583, 64584, 64585, 64586, 64587, 64588, 64589, 64590, 64591, 64592, 64593, 64594, 64595, 64596, 64597, 64598, 64599, 64600, 64601, 64602, 64603, 64604, 64605, 64606, 64607, 64608, 64609, 64610, 64611, 64612, 64613, 64614, 64615, 64616, 64617, 64618, 64619, 64620, 64621, 64622, 64623, 64624, 64625, 64626, 64627, 64628, 64629, 64630, 64631, 64632, 64633, 64634, 64635, 64636, 64637, 64638, 64639, 64640, 64641, 64642, 64643, 64644, 64645, 64646, 64647, 64648, 64649, 64650, 64651, 64652, 64653, 64654, 64655, 64656, 64657, 64658, 64659, 64660, 64661, 64662, 64663, 64664, 64665, 64666, 64667, 64668, 64669, 64670, 64671, 64672, 64673, 64674, 64675, 64676, 64677, 64678, 64679, 64680, 64681, 64682, 64683, 64684, 64685, 64686, 64687, 64688, 64689, 64690, 64691, 64692, 64693, 64694, 64695, 64696, 64697, 64698, 64699, 64700, 64701, 64702, 64703, 64704, 64705, 64706, 64707, 64708, 64709, 64710, 64711, 64712, 64713, 64714, 64715, 64716, 64717, 64718, 64719, 64720, 64721, 64722, 64723, 64724, 64725, 64726, 64727, 64728, 64729, 64730, 64731, 64732, 64733, 64734, 64735, 64736, 64737, 64738, 64739, 64740, 64741, 64742, 64743, 64744, 64745, 64746, 64747, 64748, 64749, 64750, 64751, 64752, 64753, 64754, 64755, 64756, 64757, 64758, 64759, 64760, 64761, 64762, 64763, 64764, 64765, 64766, 64767, 64768, 64769, 64770, 64771, 64772, 64773, 64774, 64775, 64776, 64777, 64778, 64779, 64780, 64781, 64782, 64783, 64784, 64785, 64786, 64787, 64788, 64789, 64790, 64791, 64792, 64793, 64794, 64795, 64796, 64797, 64798, 64799, 64800, 64801, 64802, 64803, 64804, 64805, 64806, 64807, 64808, 64809, 64810, 64811, 64812, 64813, 64814, 64815, 64816, 64817, 64818, 64819, 64820, 64821, 64822, 64823, 64824, 64825, 64826, 64827, 64828, 64829, 64848, 64849, 64850, 64851, 64852, 64853, 64854, 64855, 64856, 64857, 64858, 64859, 64860, 64861, 64862, 64863, 64864, 64865, 64866, 64867, 64868, 64869, 64870, 64871, 64872, 64873, 64874, 64875, 64876, 64877, 64878, 64879, 64880, 64881, 64882, 64883, 64884, 64885, 64886, 64887, 64888, 64889, 64890, 64891, 64892, 64893, 64894, 64895, 64896, 64897, 64898, 64899, 64900, 64901, 64902, 64903, 64904, 64905, 64906, 64907, 64908, 64909, 64910, 64911, 64914, 64915, 64916, 64917, 64918, 64919, 64920, 64921, 64922, 64923, 64924, 64925, 64926, 64927, 64928, 64929, 64930, 64931, 64932, 64933, 64934, 64935, 64936, 64937, 64938, 64939, 64940, 64941, 64942, 64943, 64944, 64945, 64946, 64947, 64948, 64949, 64950, 64951, 64952, 64953, 64954, 64955, 64956, 64957, 64958, 64959, 64960, 64961, 64962, 64963, 64964, 64965, 64966, 64967, 65008, 65009, 65010, 65011, 65012, 65013, 65014, 65015, 65016, 65017, 65018, 65019, 65020, 65136, 65137, 65138, 65139, 65140, 65142, 65143, 65144, 65145, 65146, 65147, 65148, 65149, 65150, 65151, 65152, 65153, 65154, 65155, 65156, 65157, 65158, 65159, 65160, 65161, 65162, 65163, 65164, 65165, 65166, 65167, 65168, 65169, 65170, 65171, 65172, 65173, 65174, 65175, 65176, 65177, 65178, 65179, 65180, 65181, 65182, 65183, 65184, 65185, 65186, 65187, 65188, 65189, 65190, 65191, 65192, 65193, 65194, 65195, 65196, 65197, 65198, 65199, 65200, 65201, 65202, 65203, 65204, 65205, 65206, 65207, 65208, 65209, 65210, 65211, 65212, 65213, 65214, 65215, 65216, 65217, 65218, 65219, 65220, 65221, 65222, 65223, 65224, 65225, 65226, 65227, 65228, 65229, 65230, 65231, 65232, 65233, 65234, 65235, 65236, 65237, 65238, 65239, 65240, 65241, 65242, 65243, 65244, 65245, 65246, 65247, 65248, 65249, 65250, 65251, 65252, 65253, 65254, 65255, 65256, 65257, 65258, 65259, 65260, 65261, 65262, 65263, 65264, 65265, 65266, 65267, 65268, 65269, 65270, 65271, 65272, 65273, 65274, 65275, 65276, 67584, 67585, 67586, 67587, 67588, 67589, 67592, 67594, 67595, 67596, 67597, 67598, 67599, 67600, 67601, 67602, 67603, 67604, 67605, 67606, 67607, 67608, 67609, 67610, 67611, 67612, 67613, 67614, 67615, 67616, 67617, 67618, 67619, 67620, 67621, 67622, 67623, 67624, 67625, 67626, 67627, 67628, 67629, 67630, 67631, 67632, 67633, 67634, 67635, 67636, 67637, 67639, 67640, 67644, 67647, 67648, 67649, 67650, 67651, 67652, 67653, 67654, 67655, 67656, 67657, 67658, 67659, 67660, 67661, 67662, 67663, 67664, 67665, 67666, 67667, 67668, 67669, 67671, 67672, 67673, 67674, 67675, 67676, 67677, 67678, 67679, 67840, 67841, 67842, 67843, 67844, 67845, 67846, 67847, 67848, 67849, 67850, 67851, 67852, 67853, 67854, 67855, 67856, 67857, 67858, 67859, 67860, 67861, 67862, 67863, 67864, 67865, 67866, 67867, 67872, 67873, 67874, 67875, 67876, 67877, 67878, 67879, 67880, 67881, 67882, 67883, 67884, 67885, 67886, 67887, 67888, 67889, 67890, 67891, 67892, 67893, 67894, 67895, 67896, 67897, 67903, 67968, 67969, 67970, 67971, 67972, 67973, 67974, 67975, 67976, 67977, 67978, 67979, 67980, 67981, 67982, 67983, 67984, 67985, 67986, 67987, 67988, 67989, 67990, 67991, 67992, 67993, 67994, 67995, 67996, 67997, 67998, 67999, 68e3, 68001, 68002, 68003, 68004, 68005, 68006, 68007, 68008, 68009, 68010, 68011, 68012, 68013, 68014, 68015, 68016, 68017, 68018, 68019, 68020, 68021, 68022, 68023, 68030, 68031, 68096, 68112, 68113, 68114, 68115, 68117, 68118, 68119, 68121, 68122, 68123, 68124, 68125, 68126, 68127, 68128, 68129, 68130, 68131, 68132, 68133, 68134, 68135, 68136, 68137, 68138, 68139, 68140, 68141, 68142, 68143, 68144, 68145, 68146, 68147, 68160, 68161, 68162, 68163, 68164, 68165, 68166, 68167, 68176, 68177, 68178, 68179, 68180, 68181, 68182, 68183, 68184, 68192, 68193, 68194, 68195, 68196, 68197, 68198, 68199, 68200, 68201, 68202, 68203, 68204, 68205, 68206, 68207, 68208, 68209, 68210, 68211, 68212, 68213, 68214, 68215, 68216, 68217, 68218, 68219, 68220, 68221, 68222, 68223, 68352, 68353, 68354, 68355, 68356, 68357, 68358, 68359, 68360, 68361, 68362, 68363, 68364, 68365, 68366, 68367, 68368, 68369, 68370, 68371, 68372, 68373, 68374, 68375, 68376, 68377, 68378, 68379, 68380, 68381, 68382, 68383, 68384, 68385, 68386, 68387, 68388, 68389, 68390, 68391, 68392, 68393, 68394, 68395, 68396, 68397, 68398, 68399, 68400, 68401, 68402, 68403, 68404, 68405, 68416, 68417, 68418, 68419, 68420, 68421, 68422, 68423, 68424, 68425, 68426, 68427, 68428, 68429, 68430, 68431, 68432, 68433, 68434, 68435, 68436, 68437, 68440, 68441, 68442, 68443, 68444, 68445, 68446, 68447, 68448, 68449, 68450, 68451, 68452, 68453, 68454, 68455, 68456, 68457, 68458, 68459, 68460, 68461, 68462, 68463, 68464, 68465, 68466, 68472, 68473, 68474, 68475, 68476, 68477, 68478, 68479, 68608, 68609, 68610, 68611, 68612, 68613, 68614, 68615, 68616, 68617, 68618, 68619, 68620, 68621, 68622, 68623, 68624, 68625, 68626, 68627, 68628, 68629, 68630, 68631, 68632, 68633, 68634, 68635, 68636, 68637, 68638, 68639, 68640, 68641, 68642, 68643, 68644, 68645, 68646, 68647, 68648, 68649, 68650, 68651, 68652, 68653, 68654, 68655, 68656, 68657, 68658, 68659, 68660, 68661, 68662, 68663, 68664, 68665, 68666, 68667, 68668, 68669, 68670, 68671, 68672, 68673, 68674, 68675, 68676, 68677, 68678, 68679, 68680, 126464, 126465, 126466, 126467, 126469, 126470, 126471, 126472, 126473, 126474, 126475, 126476, 126477, 126478, 126479, 126480, 126481, 126482, 126483, 126484, 126485, 126486, 126487, 126488, 126489, 126490, 126491, 126492, 126493, 126494, 126495, 126497, 126498, 126500, 126503, 126505, 126506, 126507, 126508, 126509, 126510, 126511, 126512, 126513, 126514, 126516, 126517, 126518, 126519, 126521, 126523, 126530, 126535, 126537, 126539, 126541, 126542, 126543, 126545, 126546, 126548, 126551, 126553, 126555, 126557, 126559, 126561, 126562, 126564, 126567, 126568, 126569, 126570, 126572, 126573, 126574, 126575, 126576, 126577, 126578, 126580, 126581, 126582, 126583, 126585, 126586, 126587, 126588, 126590, 126592, 126593, 126594, 126595, 126596, 126597, 126598, 126599, 126600, 126601, 126603, 126604, 126605, 126606, 126607, 126608, 126609, 126610, 126611, 126612, 126613, 126614, 126615, 126616, 126617, 126618, 126619, 126625, 126626, 126627, 126629, 126630, 126631, 126632, 126633, 126635, 126636, 126637, 126638, 126639, 126640, 126641, 126642, 126643, 126644, 126645, 126646, 126647, 126648, 126649, 126650, 126651, 1114109];
    j.prototype.applyStyles = function(a, b) {
        b = b || this.div;
        for (var c in a)
            a.hasOwnProperty(c) && (b.style[c] = a[c])
    }, j.prototype.formatStyle = function(a, b) {
        return 0 === a ? 0 : a + b
    }, k.prototype = o(j.prototype), k.prototype.constructor = k, l.prototype.move = function(a, b) {
        switch (b = void 0 !== b ? b : this.lineHeight, a) {
        case "+x":
            this.left += b, this.right += b;
            break;
        case "-x":
            this.left -= b, this.right -= b;
            break;
        case "+y":
            this.top += b, this.bottom += b;
            break;
        case "-y":
            this.top -= b, this.bottom -= b
        }
    }, l.prototype.overlaps = function(a) {
        return this.left < a.right && this.right > a.left && this.top < a.bottom && this.bottom > a.top
    }, l.prototype.overlapsAny = function(a) {
        for (var b = 0; b < a.length; b++)
            if (this.overlaps(a[b]))
                return !0;
        return !1
    }, l.prototype.within = function(a) {
        return this.top >= a.top && this.bottom <= a.bottom && this.left >= a.left && this.right <= a.right
    }, l.prototype.overlapsOppositeAxis = function(a, b) {
        switch (b) {
        case "+x":
            return this.left < a.left;
        case "-x":
            return this.right > a.right;
        case "+y":
            return this.top < a.top;
        case "-y":
            return this.bottom > a.bottom
        }
    }, l.prototype.intersectPercentage = function(a) {
        var b = Math.max(0, Math.min(this.right, a.right) - Math.max(this.left, a.left)),
            c = Math.max(0, Math.min(this.bottom, a.bottom) - Math.max(this.top, a.top)),
            d = b * c;
        return d / (this.height * this.width)
    }, l.prototype.toCSSCompatValues = function(a) {
        return {
            top: this.top - a.top,
            bottom: a.bottom - this.bottom,
            left: this.left - a.left,
            right: a.right - this.right,
            height: this.height,
            width: this.width
        }
    }, l.getSimpleBoxPosition = function(a) {
        var b = a.div ? a.div.offsetHeight : a.tagName ? a.offsetHeight : 0,
            c = a.div ? a.div.offsetWidth : a.tagName ? a.offsetWidth : 0,
            d = a.div ? a.div.offsetTop : a.tagName ? a.offsetTop : 0;
        a = a.div ? a.div.getBoundingClientRect() : a.tagName ? a.getBoundingClientRect() : a;
        var e = {
            left: a.left,
            right: a.right,
            top: a.top || d,
            height: a.height || b,
            bottom: a.bottom || d + (a.height || b),
            width: a.width || c
        };
        return e
    }, n.StringDecoder = function() {
        return {
            decode: function(a) {
                if (!a)
                    return "";
                if ("string" != typeof a)
                    throw new Error("Error - expected string data.");
                return decodeURIComponent(encodeURIComponent(a))
            }
        }
    }, n.convertCueToDOMTree = function(a, b) {
        return a && b ? g(a, b) : null
    };
    var u = .05,
        v = "sans-serif",
        w = "1.5%";
    n.processCues = function(a, b, c) {
        function d(a) {
            for (var b = 0; b < a.length; b++)
                if (a[b].hasBeenReset || !a[b].displayState)
                    return !0;
            return !1
        }
        if (!a || !b || !c)
            return null;
        for (; c.firstChild;)
            c.removeChild(c.firstChild);
        var e = a.document.createElement("div");
        if (e.style.position = "absolute", e.style.left = "0", e.style.right = "0", e.style.top = "0", e.style.bottom = "0", e.style.margin = w, c.appendChild(e), d(b)) {
            var f = [],
                g = l.getSimpleBoxPosition(e),
                h = Math.round(g.height * u * 100) / 100,
                i = {
                    font: h + "px " + v
                };
            !function() {
                for (var c, d, h = 0; h < b.length; h++)
                    d = b[h], c = new k(a, d, i), e.appendChild(c.div), m(a, c, g, f), d.displayState = c.div, f.push(l.getSimpleBoxPosition(c))
            }()
        } else
            for (var j = 0; j < b.length; j++)
                e.appendChild(b[j].displayState)
    }, n.Parser = function(a, b, c) {
        c || (c = b, b = {}), b || (b = {}), this.window = a, this.vttjs = b, this.state = "INITIAL", this.buffer = "", this.decoder = c || new TextDecoder("utf8"), this.regionList = []
    }, n.Parser.prototype = {
        reportOrThrowError: function(a) {
            if (!(a instanceof b))
                throw a;
            this.onparsingerror && this.onparsingerror(a)
        },
        parse: function(a) {
            function c() {
                for (var a = i.buffer, b = 0; b < a.length && "\r" !== a[b] && "\n" !== a[b];)
                    ++b;
                var c = a.substr(0, b);
                return "\r" === a[b] && ++b, "\n" === a[b] && ++b, i.buffer = a.substr(b), c
            }
            function g(a) {
                var b = new d;
                if (e(a, function(a, c) {
                    switch (a) {
                    case "id":
                        b.set(a, c);
                        break;
                    case "width":
                        b.percent(a, c);
                        break;
                    case "lines":
                        b.integer(a, c);
                        break;
                    case "regionanchor":
                    case "viewportanchor":
                        var e = c.split(",");
                        if (2 !== e.length)
                            break;
                        var f = new d;
                        if (f.percent("x", e[0]), f.percent("y", e[1]), !f.has("x") || !f.has("y"))
                            break;
                        b.set(a + "X", f.get("x")), b.set(a + "Y", f.get("y"));
                        break;
                    case "scroll":
                        b.alt(a, c, ["up"])
                    }
                }, /=/, /\s/), b.has("id")) {
                    var c = new (i.vttjs.VTTRegion || i.window.VTTRegion);
                    c.width = b.get("width", 100), c.lines = b.get("lines", 3), c.regionAnchorX = b.get("regionanchorX", 0), c.regionAnchorY = b.get("regionanchorY", 100), c.viewportAnchorX = b.get("viewportanchorX", 0), c.viewportAnchorY = b.get("viewportanchorY", 100), c.scroll = b.get("scroll", ""), i.onregion && i.onregion(c), i.regionList.push({
                        id: b.get("id"),
                        region: c
                    })
                }
            }
            function h(a) {
                e(a, function(a, b) {
                    switch (a) {
                    case "Region":
                        g(b)
                    }
                }, /:/)
            }
            var i = this;
            a && (i.buffer += i.decoder.decode(a, {
                stream: !0
            }));
            try {
                var j;
                if ("INITIAL" === i.state) {
                    if (!/\r\n|\n/.test(i.buffer))
                        return this;
                    j = c();
                    var k = j.match(/^WEBVTT([ \t].*)?$/);
                    if (!k || !k[0])
                        throw new b(b.Errors.BadSignature);
                    i.state = "HEADER"
                }
                for (var l = !1; i.buffer;) {
                    if (!/\r\n|\n/.test(i.buffer))
                        return this;
                    switch (l ? l = !1 : j = c(), i.state) {
                    case "HEADER":
                        /:/.test(j) ? h(j) : j || (i.state = "ID");
                        continue;
                    case "NOTE":
                        j || (i.state = "ID");
                        continue;
                    case "ID":
                        if (/^NOTE($|[ \t])/.test(j)) {
                            i.state = "NOTE";
                            break
                        }
                        if (!j)
                            continue;
                        if (i.cue = new (i.vttjs.VTTCue || i.window.VTTCue)(0, 0, ""), i.state = "CUE", -1 === j.indexOf("-->")) {
                            i.cue.id = j;
                            continue
                        }
                    case "CUE":
                        try {
                            f(j, i.cue, i.regionList)
                        } catch (m) {
                            i.reportOrThrowError(m), i.cue = null, i.state = "BADCUE";
                            continue
                        }
                        i.state = "CUETEXT";
                        continue;
                    case "CUETEXT":
                        var n = -1 !== j.indexOf("-->");
                        if (!j || n && (l = !0)) {
                            i.oncue && i.oncue(i.cue), i.cue = null, i.state = "ID";
                            continue
                        }
                        i.cue.text && (i.cue.text += "\n"), i.cue.text += j;
                        continue;
                    case "BADCUE":
                        j || (i.state = "ID");
                        continue
                    }
                }
            } catch (m) {
                i.reportOrThrowError(m), "CUETEXT" === i.state && i.cue && i.oncue && i.oncue(i.cue), i.cue = null, i.state = "INITIAL" === i.state ? "BADWEBVTT" : "BADCUE"
            }
            return this
        },
        flush: function() {
            var a = this;
            try {
                if (a.buffer += a.decoder.decode(), (a.cue || "HEADER" === a.state) && (a.buffer += "\n\n", a.parse()), "INITIAL" === a.state)
                    throw new b(b.Errors.BadSignature)
            } catch (c) {
                a.reportOrThrowError(c)
            }
            return a.onflush && a.onflush(), this
        }
    }, a.WebVTT = n
}(this, this.vttjs || {});

!function() {
    !function(a) {
        var b = a && a.videojs;
        if (b) {
            b.CDN_VERSION = "5.8.8";
            var c = "https:" === a.location.protocol ? "https://" : "http://";
            b.options.flash.swf = c + "vjs.zencdn.net/swf/5.0.1/video-js.swf"
        }
    }(window), function(a, b, c, d, e, f, g) {
        b && b.HELP_IMPROVE_VIDEOJS !== !1 && (e.random() > .01 || (f = b.location, g = b.videojs || {}, a.src = "//www.google-analytics.com/__utm.gif?utmwv=5.4.2&utmac=UA-16505296-3&utmn=1&utmhn=" + d(f.hostname) + "&utmsr=" + b.screen.availWidth + "x" + b.screen.availHeight + "&utmul=" + (c.language || c.userLanguage || "").toLowerCase() + "&utmr=" + d(f.href) + "&utmp=" + d(f.hostname + f.pathname) + "&utmcc=__utma%3D1." + e.floor(1e10 * e.random()) + ".1.1.1.1%3B&utme=8(vjsv*cdnv)9(" + g.VERSION + "*" + g.CDN_VERSION + ")"))
    }(new Image, window, navigator, encodeURIComponent, Math)
}();

/* The MIT License (MIT)

Copyright (c) 2014-2015 Benoit Tremblay <trembl.ben@gmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE. */
!function(a, b) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = b(require("video.js")) : "function" == typeof define && define.amd ? define(["videojs"], function(c) {
        return a.Youtube = b(c)
    }) : a.Youtube = b(a.videojs)
}(this, function(a) {
    "use strict";
    function e() {
        YT.ready(function() {
            c.isApiReady = !0;
            for (var a = 0; a < c.apiReadyQueue.length; ++a)
                c.apiReadyQueue[a].initYTPlayer()
        })
    }
    function f(a, b) {
        var c = !1,
            d = document.createElement("script"),
            e = document.getElementsByTagName("script")[0];
        e.parentNode.insertBefore(d, e), d.onload = function() {
            c || (c = !0, b())
        }, d.onreadystatechange = function() {
            c || "complete" !== this.readyState && "loaded" !== this.readyState || (c = !0, b())
        }, d.src = a
    }
    function g() {
        var a = ".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",
            b = document.head || document.getElementsByTagName("head")[0],
            c = document.createElement("style");
        c.type = "text/css", c.styleSheet ? c.styleSheet.cssText = a : c.appendChild(document.createTextNode(a)), b.appendChild(c)
    }
    function h() {
        var b = window.navigator.userAgent.match(/applewebkit\/(\d*).*Version\/(\d*.\d*)/i);
        return a.browser.IS_ANDROID && a.browser.ANDROID_VERSION < 5 && b && b[2] > 0
    }
    var b = a.getComponent("Tech"),
        c = a.extend(b, {
            constructor: function(a, e) {
                b.call(this, a, e), this.setPoster(a.poster), this.setSrc(this.options_.source, !0), setTimeout(function() {
                    this.el_.parentNode.className += " vjs-youtube", d && (this.el_.parentNode.className += " vjs-youtube-mobile"), c.isApiReady ? this.initYTPlayer() : c.apiReadyQueue.push(this)
                }.bind(this))
            },
            dispose: function() {
                this.el_.parentNode.className = this.el_.parentNode.className.replace(" vjs-youtube", "").replace(" vjs-youtube-mobile", ""), this.el_.remove()
            },
            createEl: function() {
                var a = document.createElement("div");
                a.setAttribute("id", this.options_.techId), a.setAttribute("style", "width:100%;height:100%;top:0;left:0;position:absolute"), a.setAttribute("class", "vjs-tech");
                var b = document.createElement("div");
                if (b.appendChild(a), !d && !this.options_.ytControls) {
                    var c = document.createElement("div");
                    c.setAttribute("class", "vjs-iframe-blocker"), c.setAttribute("style", "position:absolute;top:0;left:0;width:100%;height:100%"), c.onclick = function() {
                        this.pause()
                    }.bind(this), b.appendChild(c)
                }
                return b
            },
            initYTPlayer: function() {
                var a = {
                    controls: 0,
                    modestbranding: 1,
                    rel: 0,
                    showinfo: 0,
                    loop: this.options_.loop ? 1 : 0
                };
                "undefined" != typeof this.options_.autohide && (a.autohide = this.options_.autohide), "undefined" != typeof this.options_.cc_load_policy && (a.cc_load_policy = this.options_.cc_load_policy), "undefined" != typeof this.options_.ytControls && (a.controls = this.options_.ytControls), "undefined" != typeof this.options_.disablekb && (a.disablekb = this.options_.disablekb), "undefined" != typeof this.options_.end && (a.end = this.options_.end), "undefined" != typeof this.options_.color && (a.color = this.options_.color), a.controls ? "undefined" != typeof this.options_.fs && (a.fs = this.options_.fs) : a.fs = 0, "undefined" != typeof this.options_.end && (a.end = this.options_.end), "undefined" != typeof this.options_.hl ? a.hl = this.options_.hl : "undefined" != typeof this.options_.language && (a.hl = this.options_.language.substr(0, 2)), "undefined" != typeof this.options_.iv_load_policy && (a.iv_load_policy = this.options_.iv_load_policy), "undefined" != typeof this.options_.list ? a.list = this.options_.list : this.url && "undefined" != typeof this.url.listId && (a.list = this.url.listId), "undefined" != typeof this.options_.listType && (a.listType = this.options_.listType), "undefined" != typeof this.options_.modestbranding && (a.modestbranding = this.options_.modestbranding), "undefined" != typeof this.options_.playlist && (a.playlist = this.options_.playlist), "undefined" != typeof this.options_.playsinline && (a.playsinline = this.options_.playsinline), "undefined" != typeof this.options_.rel && (a.rel = this.options_.rel), "undefined" != typeof this.options_.showinfo && (a.showinfo = this.options_.showinfo), "undefined" != typeof this.options_.start && (a.start = this.options_.start), "undefined" != typeof this.options_.theme && (a.theme = this.options_.theme), this.activeVideoId = this.url ? this.url.videoId : null, this.activeList = a.list, this.ytPlayer = new YT.Player(this.options_.techId, {
                    videoId: this.activeVideoId,
                    playerVars: a,
                    events: {
                        onReady: this.onPlayerReady.bind(this),
                        onPlaybackQualityChange: this.onPlayerPlaybackQualityChange.bind(this),
                        onStateChange: this.onPlayerStateChange.bind(this),
                        onError: this.onPlayerError.bind(this)
                    }
                })
            },
            onPlayerReady: function() {
                this.playerReady_ = !0, this.triggerReady(), this.playOnReady ? this.play() : this.cueOnReady && (this.ytPlayer.cueVideoById(this.url.videoId), this.activeVideoId = this.url.videoId)
            },
            onPlayerPlaybackQualityChange: function() {},
            onPlayerStateChange: function(a) {
                var b = a.data;
                if (b !== this.lastState && !this.errorNumber)
                    switch (this.lastState = b, b) {
                    case -1:
                        this.trigger("loadstart"), this.trigger("loadedmetadata"), this.trigger("durationchange");
                        break;
                    case YT.PlayerState.ENDED:
                        this.trigger("ended");
                        break;
                    case YT.PlayerState.PLAYING:
                        this.trigger("timeupdate"), this.trigger("durationchange"), this.trigger("playing"), this.trigger("play"), this.isSeeking && this.onSeeked();
                        break;
                    case YT.PlayerState.PAUSED:
                        this.trigger("canplay"), this.isSeeking ? this.onSeeked() : this.trigger("pause");
                        break;
                    case YT.PlayerState.BUFFERING:
                        this.player_.trigger("timeupdate"), this.player_.trigger("waiting")
                    }
            },
            onPlayerError: function(a) {
                this.errorNumber = a.data, this.trigger("error"), this.ytPlayer.stopVideo(), this.ytPlayer.destroy(), this.ytPlayer = null
            },
            error: function() {
                switch (this.errorNumber) {
                case 5:
                    return {
                        code: "Error while trying to play the video"
                    };
                case 2:
                case 100:
                case 150:
                    return {
                        code: "Unable to find the video"
                    };
                case 101:
                    return {
                        code: "Playback on other Websites has been disabled by the video owner."
                    }
                }
                return {
                    code: "YouTube unknown error (" + this.errorNumber + ")"
                }
            },
            src: function(a) {
                return a && this.setSrc({
                    src: a
                }), this.source
            },
            poster: function() {
                return d ? null : this.poster_
            },
            setPoster: function(a) {
                this.poster_ = a
            },
            setSrc: function(a) {
                a && a.src && (delete this.errorNumber, this.source = a, this.url = c.parseUrl(a.src), this.options_.poster || this.url.videoId && (this.poster_ = "https://img.youtube.com/vi/" + this.url.videoId + "/0.jpg", this.trigger("posterchange"), this.checkHighResPoster()), this.options_.autoplay && !d ? this.isReady_ ? this.play() : this.playOnReady = !0 : this.activeVideoId !== this.url.videoId && (this.isReady_ ? (this.ytPlayer.cueVideoById(this.url.videoId), this.activeVideoId = this.url.videoId) : this.cueOnReady = !0))
            },
            autoplay: function() {
                return this.options_.autoplay
            },
            setAutoplay: function(a) {
                this.options_.autoplay = a
            },
            loop: function() {
                return this.options_.loop
            },
            setLoop: function(a) {
                this.options_.loop = a
            },
            play: function() {
                this.url && this.url.videoId && (this.wasPausedBeforeSeek = !1, this.isReady_ ? (this.url.listId && (this.activeList === this.url.listId ? this.ytPlayer.playVideo() : (this.ytPlayer.loadPlaylist(this.url.listId), this.activeList = this.url.listId)), this.activeVideoId === this.url.videoId ? this.ytPlayer.playVideo() : (this.ytPlayer.loadVideoById(this.url.videoId), this.activeVideoId = this.url.videoId)) : (this.trigger("waiting"), this.playOnReady = !0))
            },
            pause: function() {
                this.ytPlayer && this.ytPlayer.pauseVideo()
            },
            paused: function() {
                return !this.ytPlayer || this.lastState !== YT.PlayerState.PLAYING && this.lastState !== YT.PlayerState.BUFFERING
            },
            currentTime: function() {
                return this.ytPlayer ? this.ytPlayer.getCurrentTime() : 0
            },
            setCurrentTime: function(a) {
                this.lastState === YT.PlayerState.PAUSED && (this.timeBeforeSeek = this.currentTime()), this.isSeeking || (this.wasPausedBeforeSeek = this.paused()), this.ytPlayer.seekTo(a, !0), this.trigger("timeupdate"), this.trigger("seeking"), this.isSeeking = !0, this.lastState === YT.PlayerState.PAUSED && this.timeBeforeSeek !== a && (clearInterval(this.checkSeekedInPauseInterval), this.checkSeekedInPauseInterval = setInterval(function() {
                    this.lastState === YT.PlayerState.PAUSED && this.isSeeking ? this.currentTime() !== this.timeBeforeSeek && (this.trigger("timeupdate"), this.onSeeked()) : clearInterval(this.checkSeekedInPauseInterval)
                }.bind(this), 250))
            },
            seeking: function() {
                return this.isSeeking
            },
            seekable: function() {
                if (!this.ytPlayer || !this.ytPlayer.getVideoLoadedFraction)
                    return {
                        length: 0,
                        start: function() {
                            throw new Error("This TimeRanges object is empty")
                        },
                        end: function() {
                            throw new Error("This TimeRanges object is empty")
                        }
                    };
                var a = this.ytPlayer.getDuration();
                return {
                    length: this.ytPlayer.getDuration(),
                    start: function() {
                        return 0
                    },
                    end: function() {
                        return a
                    }
                }
            },
            onSeeked: function() {
                clearInterval(this.checkSeekedInPauseInterval), this.isSeeking = !1, this.wasPausedBeforeSeek && this.pause(), this.trigger("seeked")
            },
            playbackRate: function() {
                return this.ytPlayer ? this.ytPlayer.getPlaybackRate() : 1
            },
            setPlaybackRate: function(a) {
                this.ytPlayer && (this.ytPlayer.setPlaybackRate(a), this.trigger("ratechange"))
            },
            duration: function() {
                return this.ytPlayer ? this.ytPlayer.getDuration() : 0
            },
            currentSrc: function() {
                return this.source && this.source.src
            },
            ended: function() {
                return !!this.ytPlayer && this.lastState === YT.PlayerState.ENDED
            },
            volume: function() {
                return this.ytPlayer ? this.ytPlayer.getVolume() / 100 : 1
            },
            setVolume: function(a) {
                this.ytPlayer && (this.ytPlayer.setVolume(100 * a), this.setTimeout(function() {
                    this.trigger("volumechange")
                }, 50))
            },
            muted: function() {
                return !!this.ytPlayer && this.ytPlayer.isMuted()
            },
            setMuted: function(a) {
                this.ytPlayer && (this.muted(!0), a ? this.ytPlayer.mute() : this.ytPlayer.unMute(), this.setTimeout(function() {
                    this.trigger("volumechange")
                }, 50))
            },
            buffered: function() {
                if (!this.ytPlayer || !this.ytPlayer.getVideoLoadedFraction)
                    return {
                        length: 0,
                        start: function() {
                            throw new Error("This TimeRanges object is empty")
                        },
                        end: function() {
                            throw new Error("This TimeRanges object is empty")
                        }
                    };
                var a = this.ytPlayer.getVideoLoadedFraction() * this.ytPlayer.getDuration();
                return {
                    length: this.ytPlayer.getDuration(),
                    start: function() {
                        return 0
                    },
                    end: function() {
                        return a
                    }
                }
            },
            preload: function() {},
            load: function() {},
            reset: function() {},
            supportsFullScreen: function() {
                return !0
            },
            checkHighResPoster: function() {
                var a = "https://img.youtube.com/vi/" + this.url.videoId + "/maxresdefault.jpg";
                try {
                    var b = new Image;
                    b.onload = function() {
                        if ("naturalHeight" in b) {
                            if (b.naturalHeight <= 90 || b.naturalWidth <= 120)
                                return
                        } else if (b.height <= 90 || b.width <= 120)
                            return;
                        this.poster_ = a, this.trigger("posterchange")
                    }.bind(this), b.onerror = function() {}, b.src = a
                } catch (a) {}
            }
        });
    c.isSupported = function() {
        return !0
    }, c.canPlaySource = function(a) {
        return c.canPlayType(a.type)
    }, c.canPlayType = function(a) {
        return "video/youtube" === a
    };
    var d = a.browser.IS_IOS || h();
    c.parseUrl = function(a) {
        var b = {
                videoId: null
            },
            c = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,
            d = a.match(c);
        d && 11 === d[2].length && (b.videoId = d[2]);
        var e = /[?&]list=([^#\&\?]+)/;
        return d = a.match(e), d && d[1] && (b.listId = d[1]), b
    }, c.apiReadyQueue = [], f("https://www.youtube.com/iframe_api", e), g(), "undefined" != typeof a.registerTech ? a.registerTech("Youtube", c) : a.registerComponent("Youtube", c)
});

//Global Variables
var isMobile = false;

/*Begin GlobalScripts*/
var globalScripts = {

    init: function() {
        'use strict';
        var self = this;

        /*Begin Mobile Detection*/
        if (typeof MobileDetect !== 'undefined') {
            var md = new MobileDetect(window.navigator.userAgent);
            if (md.mobile() !== null) {
                isMobile = true;
                jQuery('body').addClass('is-mobile')
            }
        }
        /*End Mobile Detection*/

        /*Begin Close sections btn click*/
        $('.main-section__close-btn').on('click', function(e) {
            e.preventDefault();
            var main = $('#main'),
                target = main.find('#home'),
                navElement = $('#main-header').find('#nav-list');

            target.addClass('is-active');
            navElement.find('a.is-active').removeClass('is-active');
            navElement.find('li:first a').addClass('is-active');
            target.siblings().animate({
                "opacity": 0
            }, 300, function() {
                target.siblings().removeClass('is-active').addClass('main-section--hidden').css({
                    "opacity": 1
                });
                target.css({
                    "opacity": 0
                }).removeClass('main-section--hidden').animate({
                    "opacity": 1
                }, 300);
            });

        });
        /*End Close sections btn click*/

        /*Begin Lightbox*/
        var lightbox = lity();
        jQuery(document).on('click', '.content a[href$=".gif"], .content a[href$=".jpeg"], .content a[href$=".jpg"], .content a[href$=".png"], .content a[href$=".bmp"]', lightbox);



    }
};
/*End Lightbox*/
globalScripts.init();
/*End GlobalScripts*/
